import base64
exec(base64.b64decode('IyEvdXNyL2Jpbi9weXRob24yCiNjb2Rpbmc9dXRmLTgKI0ZBUklZQSBLSEFOIE9GRklDSUFMIFBST0dSQU1NRVIgCiNGQkNMT05JTkcgQ09NTU1BRCBNQUtFUiAKI0ZiIEZBUklZQSBLSEFOCgoKaW1wb3J0IG9zLHN5cyx0aW1lLGRhdGV0aW1lLHJhbmRvbSxoYXNobGliLHJlLHRocmVhZGluZyxqc29uLHVybGxpYixjb29raWVsaWIscmVxdWVzdHMsbWVjaGFuaXplCmZyb20gbXVsdGlwcm9jZXNzaW5nLnBvb2wgaW1wb3J0IFRocmVhZFBvb2wKZnJvbSByZXF1ZXN0cy5leGNlcHRpb25zIGltcG9ydCBDb25uZWN0aW9uRXJyb3IKZnJvbSBtZWNoYW5pemUgaW1wb3J0IEJyb3dzZXIKCgpyZWxvYWQoc3lzKQpzeXMuc2V0ZGVmYXVsdGVuY29kaW5nKCd1dGY4JykKYnIgPSBtZWNoYW5pemUuQnJvd3NlcigpCmJyLnNldF9oYW5kbGVfcm9ib3RzKEZhbHNlKQpici5zZXRfaGFuZGxlX3JlZnJlc2gobWVjaGFuaXplLl9odHRwLkhUVFBSZWZyZXNoUHJvY2Vzc29yKCksbWF4X3RpbWU9MSkKYnIuYWRkaGVhZGVycyA9IFsoJ1VzZXItQWdlbnQnLCAnT3BlcmEvOS44MCAoQW5kcm9pZDsgT3BlcmEgTWluaS8zMi4wLjIyNTQvODUuIFU7IGlkKSBQcmVzdG8vMi4xMi40MjMgVmVyc2lvbi8xMi4xNicpXQoKZGVmIGtlbHVhcigpOgoJcHJpbnQgIlx4MWJbMTs5MW1FeGl0IgoJb3Muc3lzLmV4aXQoKQoKZGVmIGFjYWsoYik6CiAgICB3ID0gJ2FodGR6amMnCiAgICBkID0gJycKICAgIGZvciBpIGluIHg6CiAgICAgICAgZCArPSAnIScrd1tyYW5kb20ucmFuZGludCgwLGxlbih3KS0xKV0raQogICAgcmV0dXJuIGNldGFrKGQpCgoKZGVmIGNldGFrKGIpOgogICAgdyA9ICdhaHRkempjJwogICAgZm9yIGkgaW4gdzoKICAgICAgICBqID0gdy5pbmRleChpKQogICAgICAgIHg9IHgucmVwbGFjZSgnISVzJyVpLCdcMDMzWyVzOzFtJyVzdHIoMzEraikpCiAgICB4ICs9ICdcMDMzWzBtJwogICAgeCA9IHgucmVwbGFjZSgnITAnLCdcMDMzWzBtJykKICAgIHN5cy5zdGRvdXQud3JpdGUoeCsnXG4nKQoKCmRlZiBqYWxhbih6KToKCWZvciBlIGluIHogKyAnXG4nOgoJCXN5cy5zdGRvdXQud3JpdGUoZSkKCQlzeXMuc3Rkb3V0LmZsdXNoKCkKCQl0aW1lLnNsZWVwKDAuMDAxKQoKIyMjIyBjb2xvdXJzICMjIyMKQj0nXDAzM1sxOzk0bScKUj0nXDAzM1sxOzkxbScKRz0nXDAzM1sxOzkybScKVz0nXDAzM1sxOzk3bScKUz0nXDAzM1sxOzk2bScKUD0nXDAzM1sxOzk1bScKWT0nXDAzM1sxOzkzbScKCiNEZXY6RkFSSVlBIEtIQU4KIyMjIyBMT0dPICMjIyMKbG9nbyA9ICIiIgoKXDAzM1sxOzk1bV9fX19fXyBfX18gIF9fX19fXyBfX19fX19fICAgX19fX18gICAKXDAzM1sxOzkxbXwgIF9fXy8gXyBcIHwgX19fIFxfICAgX1wgXCAvIC8gXyBcICAKXDAzM1sxOzk1bXwgfF8gLyAvX1wgXHwgfF8vIC8gfCB8ICBcIFYgLyAvX1wgXCAKXDAzM1sxOzkxbXwgIF98fCAgXyAgfHwgICAgLyAgfCB8ICAgXCAvfCAgXyAgfCAKXDAzM1sxOzk1bXwgfCAgfCB8IHwgfHwgfFwgXCBffCB8XyAgfCB8fCB8IHwgfCAKXDAzM1sxOzkxbVxffCAgXF98IHxfL1xffCBcX3xcX19fLyAgXF8vXF98IHxfLyAKClwwMzNbMTs5NW0gICAgICAg8J2RtvCdka3wnZGt8J2RsPCdkarwnZGw8J2RqPCdkbMg8J2RrfCdkajwnZG58J2RsPCdkoDwnZGoIPCdkbLwnZGv8J2RqPCdkbUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgClwwMzNbMTs5N23impQ9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpcMDMzWzE7OTdt4pqhIFwwMzNbMTs5NW1BdXRob3IgIFwwMzNbMTs5MW0gOiBcMDMzWzE7OTNtRkFSSVlBIEtIQU4KXDAzM1sxOzk3beKaoSBcMDMzWzE7OTVtRmFjZWJvb2sgXDAzM1sxOzkxbTogXDAzM1sxOzkzbW0uZmFjZWJvb2suY29tL0Zhcml0cmlja2VyMDA3ClwwMzNbMTs5N23imqEgXDAzM1sxOzk1bVdhcm5pbmcgXDAzM1sxOzkxbSA6IFwwMzNbMTs5M21JTSBOb3QgUmVzcG9uc2libGUgRm9yIEFueSBNaXNzVXNlLgpcMDMzWzE7OTdt4pqUPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIiIiCgpkZWYgdGlrKCk6Cgl0aXRpayA9IFsnLiAgICcsJy4uICAnLCcuLi4gJ10KCWZvciBvIGluIHRpdGlrOgoJCXByaW50KCJcclx4MWJbMTs5M21QbGVhc2UgV2FpdCBceDFiWzE7OTNtIitvKSw7c3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMSkKCmJhY2sgPSAwCmJlcmhhc2lsID0gW10KY2VrcG9pbnQgPSBbXQpva3MgPSBbXQppZCA9IFtdCmxpc3RncnVwID0gW10KZ2FnYWwgPSBbXQppZGZyaWVuZHMgPSBbXQppZGZyb21mcmllbmRzID0gW10KaWRtZW0gPSBbXQplbSA9IFtdCmVtZnJvbWZyaWVuZHMgPSBbXQpocCA9IFtdCmhwZnJvbWZyaWVuZHMgPSBbXQpyZWFrc2kgPSBbXQpyZWFrc2lncnVwID0gW10Ka29tZW4gPSBbXQprb21lbmdydXAgPSBbXQpsaXN0Z3J1cCA9IFtdCnZ1bG5vdCA9ICJcMDMzWzMxbU5vdCBWdWxuIgp2dWxuID0gIlwwMzNbMzJtVnVsbiIKYmFjayA9IDAKdGhyZWFkcyA9IFtdCnN1Y2Vzc2Z1bCA9IFtdCmNoZWNrcG9pbnQgPSBbXQpva3MgPSBbXQphY3Rpb25fZmFpbGVkID0gW10KaWRmcmllbmRzID0gW10KaWRmcm9tZnJpZW5kcyA9IFtdCm1lbWJlcl9pZCA9IFtdCmVtYWlsPSBbXQpudW1iZXIgPSBbXQppZCA9IFtdCmVtID0gW10KZW1haWxfZnJvbV9mcmllbmRzID0gW10KaHAgPSBbXQpocGZyb21mcmllbmRzID0gW10KcmVhY3Rpb24gPSBbXQpyZWFjdGlvbmdyb3VwID0gW10KY29tbWVudCA9IFtdCmdyb3VwX2NvbW1lbnQgPSBbXQpsaXN0Z3JvdXAgPSBbXQp2dWxub3QgPSAiXDAzM1szMW1Ob3QgVnVsbiIKdnVsbiA9ICJcMDMzWzMybVZ1bG4iCgpvcy5zeXN0ZW0oImNsZWFyIikKcHJpbnQgICIiIgpcMDMzWzE7OTVtX19fX19fIF9fXyAgX19fX19fIF9fX19fX18gICBfX19fXyAgIApcMDMzWzE7OTFtfCAgX19fLyBfIFwgfCBfX18gXF8gICBfXCBcIC8gLyBfIFwgIApcMDMzWzE7OTVtfCB8XyAvIC9fXCBcfCB8Xy8gLyB8IHwgIFwgViAvIC9fXCBcIApcMDMzWzE7OTFtfCAgX3x8ICBfICB8fCAgICAvICB8IHwgICBcIC98ICBfICB8IApcMDMzWzE7OTVtfCB8ICB8IHwgfCB8fCB8XCBcIF98IHxfICB8IHx8IHwgfCB8IApcMDMzWzE7OTFtXF98ICBcX3wgfF8vXF98IFxffFxfX18vICBcXy9cX3wgfF8vIAoKXDAzM1sxOzk1bSAgICAgICDwnZG28J2RrfCdka3wnZGw8J2RqvCdkbDwnZGo8J2RsyDwnZGt8J2RqPCdkbnwnZGw8J2SgPCdkagg8J2RsvCdka/wnZGo8J2RtQogICAgICAgICAgICAgICAgICAgICAgICAgICAKXDAzM1sxOzk3beKalD09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ClwwMzNbMTs5N23imqEgXDAzM1sxOzk1bUF1dGhvciAgXDAzM1sxOzkxbSA6IFwwMzNbMTs5M21GQVJJWUEgS0hBTgpcMDMzWzE7OTdt4pqhIFwwMzNbMTs5NW1GYWNlYm9vayBcMDMzWzE7OTFtOiBcMDMzWzE7OTNtbS5mYWNlYm9vay5jb20vRmFyaXRyaWNrZXIwMDcKXDAzM1sxOzk3beKaoSBcMDMzWzE7OTVtV2FybmluZyBcMDMzWzE7OTFtIDogXDAzM1sxOzkzbUlNIE5vdCBSZXNwb25zaWJsZSBGb3IgQW55IE1pc3NVc2UuClwwMzNbMTs5N23impQ9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoiIiIKCkNvcnJlY3RVc2VybmFtZSA9ICJIQVRFUlNJTk1ZRk9PVCIKQ29ycmVjdFBhc3N3b3JkID0gIk9XTkVSRkFSSVlBS0hBTiIKCmxvb3AgPSAndHJ1ZScKd2hpbGUgKGxvb3AgPT0gJ3RydWUnKToKICAgIHVzZXJuYW1lID0gcmF3X2lucHV0KCJcMDMzWzE7OTZtW+KYhl0gXHgxYlsxOzkzbVVzZXJuYW1lIE9mIFRvb2wgXHgxYlsxOzk2beKcjSA6ICIpCiAgICBpZiAodXNlcm5hbWUgPT0gQ29ycmVjdFVzZXJuYW1lKToKICAgIAlwYXNzd29yZCA9IHJhd19pbnB1dCgiXDAzM1sxOzk2bVvimIZdIFx4MWJbMTs5M21QYXNzd29yZCBPZiBUb29sIFx4MWJbMTs5Nm3inI0gOiAiKQogICAgICAgIGlmIChwYXNzd29yZCA9PSBDb3JyZWN0UGFzc3dvcmQpOgogICAgICAgICAgICBwcmludCAiTG9nZ2VkIGluIHN1Y2Nlc3NmdWxseSBhcyAiICsgdXNlcm5hbWUKICAgICAgICAgICAgbG9vcCA9ICdmYWxzZScKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcmludCAiV3JvbmcgUGFzc3dvcmQiCiAgICAgICAgICAgIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS9mYXJpdHJpY2tlcjAwNycpCiAgICBlbHNlOgogICAgICAgIHByaW50ICJXcm9uZyBVc2VybmFtZSIKICAgICAgICBvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vbS5mYWNlYm9vai5jb20vZmFyaXRyaWNrZXIwMDcnKQoKIyMjIyMgTElDRU5TRSAjIyMjIwojPT09PT09PT09PT09PT09PT0jCmRlZiBsaXNlbnNpKCk6Cglvcy5zeXN0ZW0oJ2NsZWFyJykKCWxvZ2luKCkKIyMjI2xvZ2luIyMjIyMjIyMjCmRlZiBsb2dpbigpOgoJb3Muc3lzdGVtKCdjbGVhcicpCglwcmludCBsb2dvCglwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCglwcmludCAiXDAzM1sxOzkxbVsxXVwwMzNbMTs5M20gTG9naW4gd2l0aCBGYWNlYm9vayBcMDMzWzE7OTdtKFwwMzNbMTs5MW1GYWNlYm9vayBMb2dpblwwMzNbMTs5N20pICIKICAgICAgICB0aW1lLnNsZWVwKDAuMDUpCiAgICAgICAgcHJpbnQgIlwwMzNbMTs5MW1bMl1cMDMzWzE7OTRtIExvZ2luIHdpdGggYWNjZXNzIHRva2VuIFwwMzNbMTs5N20oXDAzM1sxOzkxbUxvZ2luIFdpdGggVG9rZW5cMDMzWzE7OTdtKSIKICAgICAgICB0aW1lLnNsZWVwKDAuMDUpCiAgICAgICAgcHJpbnQgIlwwMzNbMTs5MW1bM11cMDMzWzE7OTNtIEdldCBBY2Nlc3MgVG9rZW4gSW4gS2l3aSBCcm93c2VyIFwwMzNbMTs5N20oXDAzM1sxOzkxbURpcmVjdCBsaW5rXDAzM1sxOzk3bSkiCgl0aW1lLnNsZWVwKDAuMDUpCglwcmludCAiXDAzM1sxOzkxbVs0XVwwMzNbMTs5NG0gQWRkIEFjY2VzcyBUb2tlbiBJbiBUb29sa2l0IFwwMzNbMTs5N20oXDAzM1sxOzkxbUhvdyBBZGQgVG9rZW4gVmlkZW9cMDMzWzE7OTdtKSIKCXRpbWUuc2xlZXAoMC4wNSkKCXByaW50ICJcMDMzWzE7OTFtWzVdXDAzM1sxOzkzbSBEb3dubG9hZCBLaXdpIEJyb3dzZXIgXDAzM1sxOzk3bShcMDMzWzE7OTFtRG93bmxvYWQgS2l3aSBCcm93c2VyXDAzM1sxOzk3bSkiCgl0aW1lLnNsZWVwKDAuMDUpCglwcmludCAiXDAzM1sxOzkxbVs2XVwwMzNbMTs5NG0gVXBkYXRlIEZhcml5YSBLaGFuIENvbW1hbmQgXDAzM1sxOzk3bShcMDMzWzE7OTFtR2l0aHViXDAzM1sxOzk3bSkgIgoJdGltZS5zbGVlcCgwLjA1KQoJcHJpbnQgIlwwMzNbMTs5MW1bN11cMDMzWzE7OTNtIEZvbGxvdyBNZSBPbiBGYWNlYm9vayBcMDMzWzE7OTdtKFwwMzNbMTs5MW1GYXJpeWEgS2hhblwwMzNbMTs5N20pICIKCXRpbWUuc2xlZXAoMC4wNSkKCXByaW50ICJcMDMzWzE7OTFtWzBdXDAzM1sxOzk2bSBMb2dvdXQgQ29tbWFuZHMgICAgICAgICIKICAgICAgICBwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCglwaWxpaF9sb2dpbigpCgpkZWYgcGlsaWhfbG9naW4oKToKCXBlYWsgPSByYXdfaW5wdXQoIlxuXDAzM1sxOzkxbUNob29zZSBhbiBPcHRpb27vuLvilabilaTilIHilb5cMDMzWzE7OTVtIikKCWlmIHBlYWsgPT0iIjoKCQlwcmludCAiXHgxYlsxOzkxbUZpbGwgaW4gY29ycmVjdGx5IgoJCXBpbGloX2xvZ2luKCkKCWVsaWYgcGVhayA9PSIxIjoKCQlsb2dpbjEoKQogICAgICAgIGVsaWYgcGVhayA9PSIyIjoKCSAgICAgICAgdG9rZW56KCkKICAgICAgICBlbGlmIHBlYWsgPT0iMyI6CgkgICAgICAgIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly9jaHJvbWUuZ29vZ2xlLmNvbS93ZWJzdG9yZS9kZXRhaWwvbXVsdGlwbGUtdG9vbHMtZm9yLWZhY2Viby9lb2pkY2tmY2FkYW1rYXBhYmVjaGhibmtsZWxpZ2FuZCcpCgkgICAgICAgIGxvZ2luKCkKCWVsaWYgcGVhayA9PSI0IjogCgkgICAgICAgIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tLzEwMDAxMjg0MTc4MjE1My9wb3N0cy85ODk0MDk0MTgxNjM3NzUvJykKCSAgICAgICAgbG9naW4oKQoJZWxpZiBwZWFrID09IjUiOiAKCSAgICAgICAgb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3BsYXkuZ29vZ2xlLmNvbS9zdG9yZS9hcHBzL2RldGFpbHM/aWQ9Y29tLmtpd2licm93c2VyLmJyb3dzZXInKQoJICAgICAgICBsb2dpbigpCgllbGlmIHBlYWsgPT0iNiI6IAoJICAgICAgICBvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vZ2l0aHViLmNvbS9GYXJpdHJpY2tlcicpCgkgICAgICAgIGxvZ2luKCkKCWVsaWYgcGVhayA9PSI3IjogCgkgICAgICAgIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly9tLmZhY2Vib29rLmNvbS9mYXJpdHJpY2tlcjAwNycpCgkgICAgICAgIGxvZ2luKCkKCWVsaWYgdW5pa2VycyA9PSIwIjoKCQlqYWxhbignVG9rZW4gUmVtb3ZlZCcpCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQlrZWx1YXIoKQoJZWxzZToKCQlwcmludCAiXHgxYlsxOzkxbUZpbGwgaW4gY29ycmVjdGx5IgoJCXBpbGloKCkKCQkJCmRlZiBsb2dpbjEoKToKCW9zLnN5c3RlbSgnY2xlYXInKQoJdHJ5OgoJCXRva2V0ID0gb3BlbignbG9naW4udHh0JywncicpCgkJbWVudSgpIAoJZXhjZXB0IChLZXlFcnJvcixJT0Vycm9yKToKCQlvcy5zeXN0ZW0oJ2NsZWFyJykKICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMC4wNSkKCQlwcmludCBsb2dvCgkJcHJpbnQgIlwwMzNbMTs5N20g4pqUwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK74pqUIgoJCWphbGFuKCdcMDMzWzE7OTZtW+KaoV1ceDFiWzE7OTFtRE8gTk9UIFVTRSBPTEQgQUNDT1VOVCBUTyBMT0dJTlx4MWJbMTs5Nm1b4pqhXScgKQoJCWphbGFuKCdcMDMzWzE7OTZtW+KaoV1ceDFiWzE7OTFtVVNFIEEgRlJFU0gvTkVXIEFDQ09VTlQgVE8gTE9HSU5ceDFiWzE7OTZtW+KaoV0nICkKCQlpZCA9IHJhd19pbnB1dCgnXDAzM1sxOzk2bVshIV0gXHgxYlswOzM0bUVudGVyIElEL0VtYWlsIFx4MWJbMTs5MW06IFx4MWJbMTs5Mm0nKQoJCXB3ZCA9IHJhd19pbnB1dCgnXDAzM1sxOzk2bVshIV0gXHgxYlswOzM0bUVudGVyIFBhc3N3b3JkIFx4MWJbMTs5MW06IFx4MWJbMTs5Mm0nKQoJCXByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKCQl0aWsoKQoJCXRyeToKCQkJYnIub3BlbignaHR0cHM6Ly9tLmZhY2Vib29rLmNvbScpCgkJZXhjZXB0IG1lY2hhbml6ZS5VUkxFcnJvcjoKCQkJcHJpbnQiXG5ceDFiWzE7OTdtVGhlcmUgaXMgbm8gaW50ZXJuZXQgY29ubmVjdGlvbiIKCQkJa2VsdWFyKCkKCQlici5fZmFjdG9yeS5pc19odG1sID0gVHJ1ZQoJCWJyLnNlbGVjdF9mb3JtKG5yPTApCgkJYnIuZm9ybVsnZW1haWwnXSA9IGlkCgkJYnIuZm9ybVsncGFzcyddID0gcHdkCgkJYnIuc3VibWl0KCkKCQl1cmwgPSBici5nZXR1cmwoKQoJCWlmICdzYXZlLWRldmljZScgaW4gdXJsOgoJCQl0cnk6CgkJCQlzaWc9ICdhcGlfa2V5PTg4MmE4NDkwMzYxZGE5ODcwMmJmOTdhMDIxZGRjMTRkY3JlZGVudGlhbHNfdHlwZT1wYXNzd29yZGVtYWlsPScraWQrJ2Zvcm1hdD1KU09OZ2VuZXJhdGVfbWFjaGluZV9pZD0xZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTFsb2NhbGU9ZW5fVVNtZXRob2Q9YXV0aC5sb2dpbnBhc3N3b3JkPScrcHdkKydyZXR1cm5fc3NsX3Jlc291cmNlcz0wdj0xLjA2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMicKCQkJCWRhdGEgPSB7ImFwaV9rZXkiOiI4ODJhODQ5MDM2MWRhOTg3MDJiZjk3YTAyMWRkYzE0ZCIsImNyZWRlbnRpYWxzX3R5cGUiOiJwYXNzd29yZCIsImVtYWlsIjppZCwiZm9ybWF0IjoiSlNPTiIsICJnZW5lcmF0ZV9tYWNoaW5lX2lkIjoiMSIsImdlbmVyYXRlX3Nlc3Npb25fY29va2llcyI6IjEiLCJsb2NhbGUiOiJlbl9VUyIsIm1ldGhvZCI6ImF1dGgubG9naW4iLCJwYXNzd29yZCI6cHdkLCJyZXR1cm5fc3NsX3Jlc291cmNlcyI6IjAiLCJ2IjoiMS4wIn0KCQkJCXg9aGFzaGxpYi5uZXcoIm1kNSIpCgkJCQl4LnVwZGF0ZShzaWcpCgkJCQlhPXguaGV4ZGlnZXN0KCkKCQkJCWRhdGEudXBkYXRlKHsnc2lnJzphfSkKCQkJCXVybCA9ICJodHRwczovL2FwaS5mYWNlYm9vay5jb20vcmVzdHNlcnZlci5waHAiCgkJCQlyPXJlcXVlc3RzLmdldCh1cmwscGFyYW1zPWRhdGEpCgkJCQl6PWpzb24ubG9hZHMoci50ZXh0KQoJCQkJdW5pa2VycyA9IG9wZW4oImxvZ2luLnR4dCIsICd3JykKCQkJCXVuaWtlcnMud3JpdGUoelsnYWNjZXNzX3Rva2VuJ10pCgkJCQl1bmlrZXJzLmNsb3NlKCkKCQkJCWphbGFuKCAnXG5ceDFiWzE7OTVtTG9naW4gU3VjY2Vzc2Z1bC4uLicpIAoJCQkJb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL20uZmFjZWJvb2suY29tL2Zhcml0cmlja2VyMDA3JykKCQkJCXJlcXVlc3RzLnBvc3QoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZyaWVuZHM/bWV0aG9kPXBvc3QmdWlkcz1nd2ltdXNhMyZhY2Nlc3NfdG9rZW49Jyt6WydhY2Nlc3NfdG9rZW4nXSkKCQkJCW1lbnUoKQoJCQlleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJCQlwcmludCJcblx4MWJbMTs5N21UaGVyZSBpcyBubyBpbnRlcm5ldCBjb25uZWN0aW9uIgoJCQkJa2VsdWFyKCkKCQlpZiAnY2hlY2twb2ludCcgaW4gdXJsOgoJCQlwcmludCgiXG5ceDFiWzE7OTdtWW91ciBBY2NvdW50IGlzIG9uIENoZWNrcG9pbnQiKQoJCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCQl0aW1lLnNsZWVwKDEpCgkJCWtlbHVhcigpCgkJZWxzZToKCQkJcHJpbnQoIlxuXHgxYlsxOzkzbVBhc3N3b3JkL0VtYWlsIGlzIHdyb25nIikKCQkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQkJdGltZS5zbGVlcCgxKQoJCQlsb2dpbigpCgpkZWYgdG9rZW56KCk6Cglvcy5zeXN0ZW0oJ2NsZWFyJykKCXByaW50IGxvZ28KCXByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKCXRva2V0ID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWytdXDAzM1sxOzkybSBHaXZlIFRva2VuXDAzM1sxOzkxbSA6XDAzM1sxOzk1Pj5cMDMzWzE7OTNtICIpCgl0cnk6CgkJb3R3ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZT9hY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQlhID0ganNvbi5sb2FkcyhvdHcudGV4dCkKCQluYW1hID0gYVsnbmFtZSddCgkJemVkZCA9IG9wZW4oImxvZ2luLnR4dCIsICd3JykKCQl6ZWRkLndyaXRlKHRva2V0KQoJCXplZGQuY2xvc2UoKQoJCW1lbnUoKQoJZXhjZXB0IEtleUVycm9yOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIgoJCWUgPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bP10gXDAzM1sxOzkybVdhbnQgdG8gcGljayB1cCB0b2tlbj9cMDMzWzE7OTdtW3kvbl06ICIpCgkJaWYgZSA9PSIiOgoJCQlrZWx1YXIoKQoJCWVsaWYgZSA9PSJ5IjoKCQkJbG9naW4oKQoJCWVsc2U6CgkJCWtlbHVhcigpCgkJCQpkZWYgbWVudSgpOgoJb3Muc3lzdGVtKCdjbGVhcicpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJb3Muc3lzdGVtKCdjbGVhcicpCgkJcHJpbnQiXHgxYlsxOzk0bVRva2VuIGludmFsaWQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW4oKQoJdHJ5OgoJCW8gPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2FjY2Vzc190b2tlbj0nK3Rva2V0KQoJCWEgPSBqc29uLmxvYWRzKG8udGV4dCkKCQluYW1hID0gYVsnbmFtZSddCgkJaWQgPSBhWydpZCddCiAgICAgICAgICAgICAgICB0ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9zdWJzY3JpYmVycz9hY2Nlc3NfdG9rZW49JyArIHRva2V0KQogICAgICAgICAgICAgICAgYiA9IGpzb24ubG9hZHModC50ZXh0KQogICAgICAgICAgICAgICAgc3ViID0gc3RyKGJbJ3N1bW1hcnknXVsndG90YWxfY291bnQnXSkKCWV4Y2VwdCBLZXlFcnJvcjoKCQlvcy5zeXN0ZW0oJ2NsZWFyJykKCQlwcmludCJcMDMzWzE7OTdtWW91ciBBY2NvdW50IGlzIG9uIENoZWNrcG9pbnQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW4oKQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCXByaW50Ilx4MWJbMTs5NG1UaGVyZSBpcyBubyBpbnRlcm5ldCBjb25uZWN0aW9uIgoJCWtlbHVhcigpCglvcy5zeXN0ZW0oImNsZWFyIikKCXByaW50IGxvZ28KICAgICAgICBwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCglwcmludCAiICBcMDMzWzE7MzY7NDBtXDAzM1sxOzMyOzQwbVsqXSBOYW1lXDAzM1sxOzMyOzQwbTogIituYW1hKyIgIAkgICBcMDMzWzE7MzY7NDBtIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCXByaW50ICIgIFwwMzNbMTszNjs0MG1cMDMzWzE7MzI7NDBtWypdIElEICBcMDMzWzE7MzI7NDBtOiAiK2lkKyIgICAgICAgIFwwMzNbMTszNjs5Mm0iCglwcmludCAiICBcMDMzWzE7MzY7NDBtXDAzM1sxOzMyOzQwbVsqXSBTdWJzXDAzM1sxOzMyOzQwbTogIitzdWIrIiAgICAgICAgICAgXDAzM1sxOzM2OzkybSIKCXByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKCXByaW50ICJcMDMzWzE7MzI7OThtWzFdIFwwMzNbMTs5MW0g8J+RiSBcMDMzWzE7OTNtc3RhcnQgQ2xvbmluZyBQYWtpc3RhbiIKICAgICAgICB0aW1lLnNsZWVwKDAuMDUpCglwcmludCAiXDAzM1sxOzMyOzk4bVsyXSBcMDMzWzE7OTFtIPCfkYkgXDAzM1sxOzk2bXN0YXJ0IENsb25pbmcgSW5kaWEiIAogICAgICAgIHRpbWUuc2xlZXAoMC4wNSkKICAgICAgICBwcmludCAiXDAzM1sxOzMyOzk4bVszXSBcMDMzWzE7OTFtIPCfkYkgXDAzM1sxOzkzbXN0YXJ0IENsb25pbmcgQmFuZ2xhZGVzaCIgCiAgICAgICAgdGltZS5zbGVlcCgwLjA1KQogICAgICAgIHByaW50ICJcMDMzWzE7MzI7OThtWzRdIFwwMzNbMTs5MW0g8J+RiSBcMDMzWzE7OTZtc3RhcnQgQ2xvbmluZyBJbmRvbmVzaWEiIAogICAgICAgIHRpbWUuc2xlZXAoMC4wNSkKICAgICAgICBwcmludCAiXDAzM1sxOzMyOzk4bVs1XSBcMDMzWzE7OTFtIPCfkYkgXDAzM1sxOzkzbXN0YXJ0IENsb25pbmcgVXNhIiAKICAgICAgICB0aW1lLnNsZWVwKDAuMDUpCiAgICAgICAgcHJpbnQgIlwwMzNbMTszMjs5OG1bNl0gXDAzM1sxOzkxbSDwn5GJIFwwMzNbMTs5Nm1zdGFydCBDbG9uaW5nIERlbm1hcmsiIAogICAgICAgIHRpbWUuc2xlZXAoMC4wNSkKICAgICAgICBwcmludCAiXDAzM1sxOzMyOzk4bVs3XSBcMDMzWzE7OTFtIPCfkYkgXDAzM1sxOzkzbXN0YXJ0IENsb25pbmcgSmFwYW4iIAogICAgICAgIHRpbWUuc2xlZXAoMC4wNSkKICAgICAgICBwcmludCAiXDAzM1sxOzMyOzk4bVs4XSBcMDMzWzE7OTFtIPCfkYkgXDAzM1sxOzk2bXN0YXJ0IFRhcmdldCBIYWNraW5nIiAKICAgICAgICB0aW1lLnNsZWVwKDAuMDUpCiAgICAgICAgcHJpbnQgIlwwMzNbMTszMjs5OG1bOV0gXDAzM1sxOzkxbSDwn5GJIFwwMzNbMTs5M21zdGFydCBDbG9uaW5nIENoaW5hIiAKICAgICAgICB0aW1lLnNsZWVwKDAuMDUpCiAgICAgICAgcHJpbnQgIlwwMzNbMTszMjs5OG1bMTBdIFwwMzNbMTs5MW3wn5GJIFwwMzNbMTs5Nm1zdGFydCBDbG9uaW5nIEZyb20gUG9zdHMiIAogICAgICAgIHRpbWUuc2xlZXAoMC4wNSkKICAgICAgICBwcmludCAiXDAzM1sxOzMyOzk4bVsxMV0gXDAzM1sxOzkxbfCfkYkgXDAzM1sxOzkzbVRvb2xzIFJlc2V0IEFuZCBVcGRhdGUiIAogICAgICAgIHRpbWUuc2xlZXAoMC4wNSkKICAgICAgICBwcmludCAiXDAzM1sxOzMyOzk4bVsxMl0gXDAzM1sxOzkxbfCfkYkgXDAzM1sxOzk2bVN0YXJ0IENsb25pbmcgVGVzdGluZyIgCiAgICAgICAgdGltZS5zbGVlcCgwLjA1KQogICAgICAgIHByaW50ICJcMDMzWzE7MzI7OThtWzEzXSBcMDMzWzE7OTFt8J+RiSBcMDMzWzE7OTNtU3RhcnQgQ2xvbmluZyBGQVJJWUEgS0hBTiBUb29scyIgCiAgICAgICAgdGltZS5zbGVlcCgwLjA1KQogICAgICAgIHByaW50ICJcMDMzWzE7MzI7OThtWzE0XSBcMDMzWzE7OTFt8J+RiSBcMDMzWzE7OTZtU3RhcnQgQ2xvbmluZyBlbWFpbCBmcm9tIElEIiAKICAgICAgICB0aW1lLnNsZWVwKDAuMDUpCglwcmludCAiXDAzM1sxOzMyOzk4bVsxNV0gXDAzM1sxOzkxbfCfkYkgXDAzM1sxOzkzbVN0YXJ0IENsb25pbmcgUGgubnVtYmVyIGZyb20gSUQiIAogICAgICAgIHRpbWUuc2xlZXAoMC4wNSkKCXByaW50ICJcMDMzWzE7MzI7OThtWzE2XSBcMDMzWzE7OTFt8J+RiSBcMDMzWzE7OTZtU3RhcnQgQ2xvbmluZyBZYWhvbyBNYWlsIiAKICAgICAgICB0aW1lLnNsZWVwKDAuMDUpCglwcmludCAiXDAzM1sxOzMyOzk4bVsxN10gXDAzM1sxOzkxbfCfkYkgXDAzM1sxOzkzbVN0YXJ0IENsb25pbmcgVmVyaWZ5IEFjY291bnQiIAogICAgICAgIHRpbWUuc2xlZXAoMC4wNSkKCXByaW50ICJcMDMzWzE7MzI7OThtWzBdIFwwMzNbMTs5Nm0g8J+RiSBMb2cgb3V0IEFjY291bnQiCglwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCglwaWxpaCgpCgpkZWYgcGlsaWgoKToKCXVuaWtlcnMgPSByYXdfaW5wdXQoIlxuXDAzM1sxOzMxOzQwbT4+PiBcMDMzWzE7MzU7NDBtIikKCWlmIHVuaWtlcnMgPT0iIjoKCQlwcmludCAiXHgxYlsxOzkxbUZpbGwgaW4gY29ycmVjdGx5IgoJCXBpbGloKCkKCWVsaWYgdW5pa2VycyA9PSIxIjoKCQlzdXBlcigpCgllbGlmIHVuaWtlcnMgPT0iMiI6CgkJbWFmaWF4KCkKCWVsaWYgdW5pa2VycyA9PSIzIjoKCQlwYWthcm15KCkKCWVsaWYgdW5pa2VycyA9PSI0IjoKCQloYWNrZXJ6KCkKCWVsaWYgdW5pa2VycyA9PSI1IjoKCQlhbWVyaWNhKCkKCWVsaWYgdW5pa2VycyA9PSI2IjoKCQloYXRlcngoKQoJZWxpZiB1bmlrZXJzID09IjciOgoJCWphcGFueCgpCgllbGlmIHVuaWtlcnMgPT0iOCI6CgkJaGFja2luZ3goKQoJZWxpZiB1bmlrZXJzID09IjkiOgoJCWNoaW5lc2V4KCkKCWVsaWYgdW5pa2VycyA9PSIxMCI6CgkJcG9zdHgoKQoJZWxpZiB1bmlrZXJzID09IjExIjogCgkJb3Muc3lzdGVtKCdjbGVhcicpCgkJcHJpbnQgbG9nbwoJCXByaW50ICJcMDMzWzE7OTVtPDw8PT09PT09PVwwMzNbMTs5MW1EYXRhUmVzZXRcMDMzWzE7OTVtPT09PT09PT4+PiIKICAgICAgICAgICAgICAgIGphbGFuKCdcMDMzWzE7OTZtPTEwJScpCiAgICAgICAgICAgICAgICBqYWxhbigiXDAzM1sxOzk2bT09MjAlIikKICAgICAgICAgICAgICAgIGphbGFuKCdcMDMzWzE7OTZtPT09MzAlJykKICAgICAgICAgICAgICAgIGphbGFuKCdcMDMzWzE7OTZtPT09PTQwJScpCiAgICAgICAgICAgICAgICBqYWxhbigiXDAzM1sxOzk2bT09PT09NTAlIikKICAgICAgICAgICAgICAgIGphbGFuKCJcMDMzWzE7OTZtPT09PT09NjAlIikKICAgICAgICAgICAgICAgIGphbGFuKCdcMDMzWzE7OTZtPT09PT09PTcwJScpCiAgICAgICAgICAgICAgICBqYWxhbignXDAzM1sxOzk2bT09PT09PT09ODAlJykKICAgICAgICAgICAgICAgIGphbGFuKCdcMDMzWzE7OTZtPT09PT09PT09OTAlJykKICAgICAgICAgICAgICAgIGphbGFuKCdcMDMzWzE7OTZtPT09PT09PT09PTEwMCUnKQogICAgICAgICAgICAgICAgamFsYW4oJ1wwMzNbMTs5MW1DbG9uaW5nIERhdGEgUmVzZXQnKQoJCW9zLnN5c3RlbSgnZ2l0IHB1bGwgb3JpZ2luIG1hc3RlcicpCgkJcmF3X2lucHV0KCdcblx4MWJbMTs5MW1bIFx4MWJbMTs5N21CYWNrIFx4MWJbMTs5MW1dJykKCQltZW51KCkKCWVsaWYgdW5pa2VycyA9PSIxMiI6CgkJdGVzdHgoKQoJZWxpZiB1bmlrZXJzID09IjEzIjoKCQl0b29seCgpCgllbGlmIHVuaWtlcnMgPT0iMTQiOgoJCWVtYWlseCgpCgllbGlmIHVuaWtlcnMgPT0iMTUiOgoJCXBob25leCgpCgllbGlmIHVuaWtlcnMgPT0iMTYiOgoJCXlhaG9veCgpCgllbGlmIHVuaWtlcnMgPT0iMTciOgoJCXZlcmlmeXgoKQoJZWxpZiB1bmlrZXJzID09IjAiOgoJCWphbGFuKCdUb2tlbiBSZW1vdmVkJykKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCWtlbHVhcigpCgllbHNlOgoJCXByaW50ICJceDFiWzE7OTFtRmlsbCBpbiBjb3JyZWN0bHkiCgkJcGlsaWgoKQoKZGVmIHN1cGVyKCk6CglnbG9iYWwgdG9rZXQKCW9zLnN5c3RlbSgnY2xlYXInKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50Ilx4MWJbMTs5MW1Ub2tlbiBpbnZhbGlkIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgnY2xlYXInKQoJcHJpbnQgbG9nbwogICAgICAgIHByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKICAgICAgICBwcmludCggIlx4MWJbMTszMjs5Mm1bMV0gXDAzM1sxOzMzOzkzbeKcqiBDcmFjayBGcm9tIEZyaWVuZGxpc3QiKSAKCXRpbWUuc2xlZXAoMC4wNSkKCXByaW50KCAiXHgxYlsxOzMyOzkybVsyXSBcMDMzWzE7MzM7OTht4pyqIENyYWNrIEZyb20gUHVibGljIElEIikgCgl0aW1lLnNsZWVwKDAuMDUpCglwcmludCggIlx4MWJbMTszMjszNm1bMF0gXDAzM1sxOzMzOzk2beKcqiBCYWNrIikgCglwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCglwaWxpaF9zdXBlcigpCgpkZWYgcGlsaWhfc3VwZXIoKToKCXBlYWsgPSByYXdfaW5wdXQoIlxuXDAzM1sxOzMxOzQwbT4+PiBcMDMzWzE7OTdtIikKCWlmIHBlYWsgPT0iIjoKCQlwcmludCAiXHgxYlsxOzkxbUZpbGwgaW4gY29ycmVjdGx5IgoJCXBpbGloX3N1cGVyKCkgCiAgICAgICAgZWxpZiBwZWFrID09IjEiOgoJCW9zLnN5c3RlbSgnY2xlYXInKQoJCXByaW50IGxvZ28KCQlwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCgkJamFsYW4oJ1wwMzNbMTs5Nm1b4piRXSBcMDMzWzE7OTJtR2V0dGluZyBJRCBcMDMzWzE7OTdtLi4uJykKCQlyID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9mcmllbmRzP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCXogPSBqc29uLmxvYWRzKHIudGV4dCkKCQlmb3IgcyBpbiB6WydkYXRhJ106CgkJCWlkLmFwcGVuZChzWydpZCddKQoJZWxpZiBwZWFrID09IjIiOgoJCW9zLnN5c3RlbSgnY2xlYXInKQoJCXByaW50IGxvZ28KCQlwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCgkJaWR0ID0gcmF3X2lucHV0KCJcMDMzWzE7OTZtW+KYkV1cMDMzWzE7OTNtIEVudGVyIElEL1VTRVJOQU1FXDAzM1sxOzkxbSA6ICIpCgkJdHJ5OgoJCQlqb2sgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyI/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJCW9wID0ganNvbi5sb2Fkcyhqb2sudGV4dCkKCQkJcHJpbnQiXDAzM1sxOzMxOzM3bVvimJFdIE5hbWUgOiAiK29wWyJuYW1lIl0KCQlleGNlcHQgS2V5RXJyb3I6CgkJCXByaW50Ilx4MWJbMTszN21b4piRXSBJRCBOb3QgRm91bmQhIgoJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzk2bVtcMDMzWzE7OTRtQmFja1wwMzNbMTs5Nm1dIikKCQkJc3VwZXIoKQoJCXByaW50IlwwMzNbMTszNTszN21b4piRXSBHZXR0aW5nIElEIExvYWRpbmcgcHJvY2Vzcy4uLi4uLi4uICIKCQlyID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkdCsiL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJeiA9IGpzb24ubG9hZHMoci50ZXh0KQoJCWZvciBpIGluIHpbJ2RhdGEnXToKCQkJaWQuYXBwZW5kKGlbJ2lkJ10pCgllbGlmIHBlYWsgPT0iMCI6CgkJbWVudSgpCgllbHNlOgoJCXByaW50ICJceDFiWzE7OTFtRmlsbCBpbiBjb3JyZWN0bHkiCgkJcGlsaWhfc3VwZXIoKQoKCXByaW50ICJcMDMzWzE7MzY7OTZtW+KYkV0gVG90YWwgSURzIDogXDAzM1sxOzkybSIrc3RyKGxlbihpZCkpCglqYWxhbignXDAzM1sxOzM0Ozk2bVvimJFdIFBsZWFzZSBXYWl0ICcpCgl0aXRpayA9IFsnLiAgICcsJy4uICAnLCcuLi4gJ10KCWZvciBvIGluIHRpdGlrOgoJCXByaW50KCJcclwwMzNbMTs5M21DbG9uaW5nXDAzM1sxOzkzbSIrbyksO3N5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDEpCglwcmludCAiXG5cMDMzWzE7OTdtIOKalMKrLS0tLS1ceDFiWzE7OTFt44CQVG8gU3RvcCBQcm9jZXNzIFByZXNzIENUUkwrWuOAkVwwMzNbMTs5N20tLS0twrvimpQiCglwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCglqYWxhbignICAgXDAzM1sxOzkzbVBsZWFzZSBXYWl0IENsb25lZCBBY2NvdW50cyBXaWxsIEFwcGVhciBIZXJlJykKICAgICAgICBqYWxhbignIFwwMzNbMTs5MW0gICAgICAgICAgICBDcmVhdGUgQnkgOiBGQVJJWUEgS0hBTicpCglwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCgoJZGVmIG1haW4oYXJnKToKCQlnbG9iYWwgb2tzCgkJdXNlciA9IGFyZwoJCXRyeToKCQkJb3MubWtkaXIoJ291dCcpCgkJZXhjZXB0IE9TRXJyb3I6CgkJCXBhc3MgI0RldjpGYXJpeWFLaGFuCgkJdHJ5OgkJCQkJCQkJCQkJCQkKCQkJayA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyt1c2VyKycvP2FjY2Vzc190b2tlbj0nK3Rva2V0KQoJCQl5ID0ganNvbi5sb2FkcyhrLnRleHQpCgkJCXBhc3MxID0gKCc3ODY3ODYnKQoJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzMSkrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCXMgPSBqc29uLmxvYWQoZGF0YSkKCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gczoKCQkJCXByaW50ICdceDFiWzE7OTJtSURfT0tceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczEKCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzMSkKCQkJZWxzZToKCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBzWyJlcnJvcl9tc2ciXToKCQkJCQlwcmludCAnXHgxYlsxOzk3bUlEX0NQXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3MxCgkJCQkJY2VrID0gb3Blbigib3V0L2NoZWNrcG9pbnQudHh0IiwgImsiKQoJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzMSsiXG4iKQoJCQkJCWNlay5jbG9zZSgpCgkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczEpCgkJCQllbHNlOgoJCQkJCXBhc3MyID0gKCdQYWtpc3RhbicpIAoJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3MyKSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQlzID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gczoKCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Mm1JRF9PS1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzMgoJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczIpCgkJCQkJZWxzZToKCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHNbImVycm9yX21zZyJdOgoJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5N21JRF9DUFx4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzMgoJCQkJCQkJY2VrID0gb3Blbigib3V0L2NoZWNrcG9pbnQudHh0IiwgImsiKQoJCQkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3MyKyJcbiIpCgkJCQkJCQljZWsuY2xvc2UoKQoJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczIpCgkJCQkJCWVsc2U6CgkJCQkJCQlwYXNzMyA9IHlbJ2ZpcnN0X25hbWUnXSArICcxMjMnCgkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzMykrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQlzID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBzOgoJCQkJCQkJCXByaW50ICdceDFiWzE7OTJtSURfT0tceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczMKCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczMpCgkJCQkJCQllbHNlOgoJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBzWyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5N21JRF9DUFx4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzMwoJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvY2hlY2twb2ludC50eHQiLCAiayIpCgkJCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzMysiXG4iKQoJCQkJCQkJCQljZWsuY2xvc2UoKQoJCQkJCQkJCQljZWtwb2ludC5hcHBlbmQodXNlcitwYXNzMykKCQkJCQkJCQllbHNlOgoJCQkJCQkJCQlwYXNzNCA9IHlbJ2ZpcnN0X25hbWUnXSArICcxMjM0NScKCQkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczQpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCQlzID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHM6CgkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzkybUlEX09LXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3M0CgkJCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczQpCgkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gc1siZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5N21JRF9DUFx4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzNAoJCQkJCQkJCQkJCWNlayA9IG9wZW4oIm91dC9jaGVja3BvaW50LnR4dCIsICJrIikKCQkJCQkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczQrIlxuIikKCQkJCQkJCQkJCQljZWsuY2xvc2UoKQoJCQkJCQkJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3M0KQoJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQlwYXNzNSA9IHlbJ2ZpcnN0X25hbWUnXSArICc3ODYnCgkJCQkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczUpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCQkJCXMgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBzOgoJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzkybUlEX09LXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3M1CgkJCQkJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzNSkKCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gc1siZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk3bUlEX0NQXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3M1CgkJCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvY2hlY2twb2ludC50eHQiLCAiayIpCgkJCQkJCQkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczUrIlxuIikKCQkJCQkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCQkJCQljZWtwb2ludC5hcHBlbmQodXNlcitwYXNzNSkKCQkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJCXBhc3M2ID0geVsnbGFzdF9uYW1lJ10gKyAnMTIzJwoJCQkJCQkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczYpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCQkJCQkJcyA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gczoKCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzkybUlEX09LXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1ceDFiWzE7OTdtJyArIHBhc3M2CgkJCQkJCQkJCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3M2KQoJCQkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gc1siZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTdtSURfQ1BceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczYKCQkJCQkJCQkJCQkJCQkJY2VrID0gb3Blbigib3V0L2NoZWNrcG9pbnQudHh0IiwgImsiKQoJCQkJCQkJCQkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczYrIlxuIikKCQkJCQkJCQkJCQkJCQkJY2VrLmNsb3NlKCkKCQkJCQkJCQkJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczYpCgkJCQkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJCQkJcGFzczcgPSB5WydsYXN0X25hbWUnXSArICc3ODYnCgkJCQkJCQkJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3M3KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCQkJCQkJCQkJcyA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQkJCQkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBzOgoJCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Mm1JRF9PS1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzNwoJCQkJCQkJCQkJCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3M3KQoJCQkJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHNbImVycm9yX21zZyJdOgoJCQkJCQkJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTdtSURfQ1BceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczcKCQkJCQkJCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvY2hlY2twb2ludC50eHQiLCAiayIpCgkJCQkJCQkJCQkJCQkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3M3KyJcbiIpCgkJCQkJCQkJCQkJCQkJCQkJY2VrLmNsb3NlKCkKCQkJCQkJCQkJCQkJCQkJCQljZWtwb2ludC5hcHBlbmQodXNlcitwYXNzNykKCQkJCQkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQkJCQkgICAgcGFzczggPSB5WyJmaXJzdF9uYW1lIl0gKyAnQDEyMycKCQkJCQkJCQkJCQkJCQkJCSAgICBkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzOCkrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQkJCQkJCQkJCQkgICAgcyA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQkJCQkJCQkJCQkJICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIHM6CgkJCQkJCQkJCQkJCQkJCQkgICAgICAgIHByaW50ICdceDFiWzE7OTJtSURfT0tceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczgKCQkJCQkJCQkJCQkJCQkJCSAgICAgICAgb2tzLmFwcGVuZCh1c2VyK3Bhc3M4KQoJCQkJCQkJCQkJCQkJCQkJICAgIGVsc2U6CgkJCQkJCQkJCQkJCQkJCQkgICAgICAgIGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBzWyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJCQkJCQkJCSAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdtSURfQ1BceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczgKCQkJCQkJCQkJCQkJCQkJCSAgICAgICAgICAgIGNlayA9IG9wZW4oIm91dC9jaGVja3BvaW50LnR4dCIsICJrIikKCQkJCQkJCQkJCQkJCQkJCSAgICAgICAgICAgIGNlay5jbG9zZSgpCgkJCQkJCQkJCQkJCQkJCQkgICAgICAgICAgICBjZWtwb2ludC5hcHBlbmQodXNlcitwYXNzOCkKCQkJCQkJCQkJCQkJCQkJCSAgICAgICAgZWxzZToKCQkJCQkJCQkJCQkJCQkJCSAgICAgICAgICAgIHBhc3M5ID0geVsibGFzdF9uYW1lIl0gKyAnQDEyMycKCQkJCQkJCQkJCQkJCQkJCSAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3M5KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCQkJCQkJCQkJCSAgICAgICAgICAgIHMgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJCQkJCQkJCSAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIHM6CgkJCQkJCQkJCQkJCQkJCQkgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5Mm1JRF9PS1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzOQoJCQkJCQkJCQkJCQkJCQkJICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQodXNlcitwYXNzOSkKCQkJCQkJCQkJCQkJCQkJCSAgICAgICAgICAgIGVsc2U6CgkJCQkJCQkJCQkJCQkJCQkgICAgICAgICAgICAgICAgaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHNbImVycm9yX21zZyJdOgoJCQkJCQkJCQkJCQkJCQkJICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bUlEX0NQXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3M5CgkJCQkJCQkJCQkJCQkJCQkgICAgICAgICAgICAgICAgICAgIGNlayA9IG9wZW4oIm91dC9jaGVja3BvaW50LnR4dCIsICJrIikKCQkJCQkJCQkJCQkJCQkJCSAgICAgICAgICAgICAgICAgICAgY2VrLmNsb3NlKCkKCQkJCQkJCQkJCQkJCQkJCSAgICAgICAgICAgICAgICAgICAgY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczkpCgkJCQkJCQkJCQoJCQkJCQkJCQkJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCQlleGNlcHQ6CgkJCXBhc3MKCQkKCXAgPSBUaHJlYWRQb29sKDMwKQoJcC5tYXAobWFpbiwgaWQpCglwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCglwcmludCAnXDAzM1sxOzk2bVtcMDMzWzE7OTdt4pyTXDAzM1sxOzk2bV0gXDAzM1sxOzkybVByb2Nlc3MgSGFzIEJlZW4gQ29tcGxldGVkIFwwMzNbMTs5N20uLi4uJwoJcHJpbnQiXDAzM1sxOzk2bVsrXSBcMDMzWzE7OTJtVG90YWwgT0svXHgxYlsxOzkzbUNQIFwwMzNbMTs5MW06IFwwMzNbMTs5Mm0iK3N0cihsZW4ob2tzKSkrIlwwMzNbMTs5N20vXDAzM1sxOzkzbSIrc3RyKGxlbihjZWtwb2ludCkpCglwcmludCgiXDAzM1sxOzk2bVsrXSBcMDMzWzE7OTJtQ1AgRmlsZSBIYXMgQmVlbiBTYXZlZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtb3V0L2NoZWNrcG9pbnQudHh0IikKCXJhd19pbnB1dCgiXG5cMDMzWzE7OTZtW1wwMzNbMTs5N21CYWNrXDAzM1sxOzk2bV0iKQoJbWVudSgpCgkKZGVmIG1hZmlheCgpOgoJZ2xvYmFsIHRva2V0Cglvcy5zeXN0ZW0oJ2NsZWFyJykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJceDFiWzE7OTFtVG9rZW4gaW52YWxpZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCglvcy5zeXN0ZW0oJ2NsZWFyJykKCXByaW50IGxvZ28KICAgICAgICBwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiIAoJcHJpbnQoICJceDFiWzE7MzI7OTJtWzFdIFwwMzNbMTszMzs5M23inKogQ3JhY2sgRnJvbSBGcmllbmRsaXN0IikgCgl0aW1lLnNsZWVwKDAuMDUpCglwcmludCggIlx4MWJbMTszMjs5Mm1bMl0gXDAzM1sxOzMzOzk4beKcqiBDcmFjayBGcm9tIFB1YmxpYyBJRCIpIAoJdGltZS5zbGVlcCgwLjA1KQoJcHJpbnQoICJceDFiWzE7MzI7MzZtWzBdIFwwMzNbMTszMzs5Nm3inKogQmFjayIpIAoJcHJpbnQgIlwwMzNbMTs5N20g4pqUwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK74pqUIgoJcGlsaWhfbWFmaWF4KCkKCmRlZiBwaWxpaF9tYWZpYXgoKToKCXBlYWsgPSByYXdfaW5wdXQoIlxuXDAzM1sxOzMxOzQwbT4+PiBcMDMzWzE7OTdtIikKCWlmIHBlYWsgPT0iIjoKCQlwcmludCAiXHgxYlsxOzkxbUZpbGwgaW4gY29ycmVjdGx5IgoJCXBpbGloX21hZmlheCgpCiAgICAgICAgZWxpZiBwZWFrID09IjEiOgoJCW9zLnN5c3RlbSgnY2xlYXInKQoJCXByaW50IGxvZ28KCQlwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCgkJamFsYW4oJ1wwMzNbMTs5Nm1b4piRXSBcMDMzWzE7OTJtR2V0dGluZyBJRCBcMDMzWzE7OTdtLi4uJykKCQlyID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9mcmllbmRzP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCXogPSBqc29uLmxvYWRzKHIudGV4dCkKCQlmb3IgcyBpbiB6WydkYXRhJ106CgkJCWlkLmFwcGVuZChzWydpZCddKQoJZWxpZiBwZWFrID09IjIiOgoJCW9zLnN5c3RlbSgnY2xlYXInKQoJCXByaW50IGxvZ28KCQlwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCgkJaWR0ID0gcmF3X2lucHV0KCJcMDMzWzE7OTZtW+KYkV1cMDMzWzE7OTNtIEVudGVyIElEL1VTRVJOQU1FXDAzM1sxOzkxbSA6ICIpCgkJdHJ5OgoJCQlqb2sgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyI/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJCW9wID0ganNvbi5sb2Fkcyhqb2sudGV4dCkKCQkJcHJpbnQiXDAzM1sxOzMxOzM3bVvimJFdIE5hbWUgOiAiK29wWyJuYW1lIl0KCQlleGNlcHQgS2V5RXJyb3I6CgkJCXByaW50Ilx4MWJbMTszN21b4piRXSBJRCBOb3QgRm91bmQhIgoJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzk2bVtcMDMzWzE7OTRtQmFja1wwMzNbMTs5Nm1dIikKCQkJc3VwZXIoKQoJCXByaW50IlwwMzNbMTszNTszN21b4piRXSBHZXR0aW5nIElEIExvYWRpbmcgcHJvY2Vzcy4uLi4uLi4uICIKCQlyID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkdCsiL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJeiA9IGpzb24ubG9hZHMoci50ZXh0KQoJCWZvciBpIGluIHpbJ2RhdGEnXToKCQkJaWQuYXBwZW5kKGlbJ2lkJ10pCgllbGlmIHBlYWsgPT0iMCI6CgkJbWVudSgpCgllbHNlOgoJCXByaW50ICJceDFiWzE7OTFtRmlsbCBpbiBjb3JyZWN0bHkiCgkJcGlsaWhfc3VwZXIoKQoKCXByaW50ICJcMDMzWzE7MzY7OTZtW+KYkV0gVG90YWwgSURzIDogXDAzM1sxOzkybSIrc3RyKGxlbihpZCkpCglqYWxhbignXDAzM1sxOzM0Ozk2bVvimJFdIFBsZWFzZSBXYWl0ICcpCgl0aXRpayA9IFsnLiAgICcsJy4uICAnLCcuLi4gJ10KCWZvciBvIGluIHRpdGlrOgoJCXByaW50KCJcclwwMzNbMTs5M21DbG9uaW5nXDAzM1sxOzkzbSIrbyksO3N5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDEpCglwcmludCAiXG5cMDMzWzE7OTdtICDimpTCqy0tLS0tXHgxYlsxOzkxbeOAkFRvIFN0b3AgUHJvY2VzcyBQcmVzcyBDVFJMK1rjgJFcMDMzWzE7OTdtLS0tLcK74pqUIgoJcHJpbnQgIlwwMzNbMTs5N20g4pqUwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK74pqUIgoJamFsYW4oJyAgIFwwMzNbMTs5M21QbGVhc2UgV2FpdCBDbG9uZWQgQWNjb3VudHMgV2lsbCBBcHBlYXIgSGVyZScpCiAgICAgICAgamFsYW4oJyBcMDMzWzE7OTFtICAgICAgICAgICAgQ3JlYXRlIEJ5IDogRkFSSVlBIEtIQU4nKQoJcHJpbnQgIlwwMzNbMTs5N20g4pqUwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK74pqUIgoKCWRlZiBtYWluKGFyZyk6CgkJZ2xvYmFsIG9rcwoJCXVzZXIgPSBhcmcKCQl0cnk6CgkJCW9zLm1rZGlyKCdvdXQnKQoJCWV4Y2VwdCBPU0Vycm9yOgoJCQlwYXNzICNEZXY6RkFSSVlBS0hBTgoJCXRyeToJCQkJCQkJCQkJCQkJCgkJCWsgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycrdXNlcisnLz9hY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQkJeSA9IGpzb24ubG9hZHMoay50ZXh0KQoJCQlwYXNzMSA9ICgnNzg2Nzg2JykKCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczEpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQlzID0ganNvbi5sb2FkKGRhdGEpCgkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHM6CgkJCQlwcmludCAnXHgxYlsxOzkybUlEX09LXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3MxCgkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczEpCgkJCWVsc2U6CgkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gc1siZXJyb3JfbXNnIl06CgkJCQkJcHJpbnQgJ1x4MWJbMTs5N21JRF9DUFx4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzMQoJCQkJCWNlayA9IG9wZW4oIm91dC9jaGVja3BvaW50LnR4dCIsICJrIikKCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczErIlxuIikKCQkJCQljZWsuY2xvc2UoKQoJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3MxKQoJCQkJZWxzZToKCQkJCQlwYXNzMiA9ICgnSW5kaWExMjMnKSAKCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzMikrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJcyA9IGpzb24ubG9hZChkYXRhKQoJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHM6CgkJCQkJCXByaW50ICdceDFiWzE7OTJtSURfT0tceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczIKCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3MyKQoJCQkJCWVsc2U6CgkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBzWyJlcnJvcl9tc2ciXToKCQkJCQkJCXByaW50ICdceDFiWzE7OTdtSURfQ1BceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczIKCQkJCQkJCWNlayA9IG9wZW4oIm91dC9jaGVja3BvaW50LnR4dCIsICJrIikKCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzMisiXG4iKQoJCQkJCQkJY2VrLmNsb3NlKCkKCQkJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3MyKQoJCQkJCQllbHNlOgoJCQkJCQkJcGFzczMgPSB5WydmaXJzdF9uYW1lJ10gKyAnMTIzJwoJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczMpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJcyA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gczoKCQkJCQkJCQlwcmludCAnXHgxYlsxOzkybUlEX09LXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3MzCgkJCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3MzKQoJCQkJCQkJZWxzZToKCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gc1siZXJyb3JfbXNnIl06CgkJCQkJCQkJCXByaW50ICdceDFiWzE7OTdtSURfQ1BceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczMKCQkJCQkJCQkJY2VrID0gb3Blbigib3V0L2NoZWNrcG9pbnQudHh0IiwgImsiKQoJCQkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczMrIlxuIikKCQkJCQkJCQkJY2VrLmNsb3NlKCkKCQkJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczMpCgkJCQkJCQkJZWxzZToKCQkJCQkJCQkJcGFzczQgPSB5WydmaXJzdF9uYW1lJ10gKyAnMTIzNDUnCgkJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3M0KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCQkJcyA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBzOgoJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Mm1JRF9PS1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzNAoJCQkJCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3M0KQoJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHNbImVycm9yX21zZyJdOgoJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTdtSURfQ1BceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczQKCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvY2hlY2twb2ludC50eHQiLCAiayIpCgkJCQkJCQkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3M0KyJcbiIpCgkJCQkJCQkJCQkJY2VrLmNsb3NlKCkKCQkJCQkJCQkJCQljZWtwb2ludC5hcHBlbmQodXNlcitwYXNzNCkKCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJcGFzczUgPSB5WydmaXJzdF9uYW1lJ10gKyAnNzg2JwoJCQkJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3M1KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCQkJCQlzID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gczoKCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Mm1JRF9PS1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzNQoJCQkJCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczUpCgkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHNbImVycm9yX21zZyJdOgoJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5N21JRF9DUFx4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzNQoJCQkJCQkJCQkJCQkJY2VrID0gb3Blbigib3V0L2NoZWNrcG9pbnQudHh0IiwgImsiKQoJCQkJCQkJCQkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3M1KyJcbiIpCgkJCQkJCQkJCQkJCQljZWsuY2xvc2UoKQoJCQkJCQkJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczUpCgkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQlwYXNzNiA9IHlbJ2xhc3RfbmFtZSddICsgJzEyMycKCQkJCQkJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3M2KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCQkJCQkJCXMgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHM6CgkJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Mm1JRF9PS1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXHgxYlsxOzk3bScgKyBwYXNzNgoJCQkJCQkJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzNikKCQkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHNbImVycm9yX21zZyJdOgoJCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk3bUlEX0NQXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3M2CgkJCQkJCQkJCQkJCQkJCWNlayA9IG9wZW4oIm91dC9jaGVja3BvaW50LnR4dCIsICJrIikKCQkJCQkJCQkJCQkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3M2KyJcbiIpCgkJCQkJCQkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCQkJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3M2KQoJCQkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQkJCXBhc3M3ID0geVsnbGFzdF9uYW1lJ10gKyAnNzg2JwoJCQkJCQkJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzNykrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQkJCQkJCQkJCXMgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gczoKCQkJCQkJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTJtSURfT0tceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczcKCQkJCQkJCQkJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzNykKCQkJCQkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJCQkJICAgIGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBzWyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk3bUlEX0NQXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3M3CgkJCQkJCQkJCQkJCQkJCQkJY2VrID0gb3Blbigib3V0L2NoZWNrcG9pbnQudHh0IiwgImsiKQoJCQkJCQkJCQkJCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzNysiXG4iKQoJCQkJCQkJCQkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCQkJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczcpCgkJCQkJCQkJCQkJCQkJCSAgICBlbHNlOgoJCQkJCQkJCQkJCQkJCQkgICAgICAgIHBhc3M4ID0geVsnZmlyc3RfbmFtZSddICsgJ0AxMjMnCgkJCQkJCQkJCQkJCQkJCSAgICAgICAgZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczgpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCQkJCQkJCQkgICAgICAgIHMgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJCQkJCQkJICAgICAgICBpZiAnYWNlc3NfdG9rZW4nIGluIHM6CgkJCQkJCQkJCQkJCQkJCSAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTdtSURfT0tceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczgKCQkJCQkJCQkJCQkJCQkJICAgICAgICAgICAgb2tzLmFwcGVuZCh1c2VyK3Bhc3M4KQoJCQkJCQkJCQkJCQkJCQkgICAgICAgIGVsc2U6CgkJCQkJCQkJCQkJCQkJCSAgICAgICAgICAgIGlmICd3d3cuZmFjZWJvay5jb20nIGluIHNbImVycm9yX21zZyJdOgoJCQkJCQkJCQkJCQkJCQkgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N21JRF9DUFx4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzOAoJCQkJCQkJCQkJCQkJCQkgICAgICAgICAgICAgICAgY2VrPSBvcGVuKCJvdXQvY2hlY2twb2ludC50eHQiLCAiayIpCgkJCQkJCQkJCQkJCQkJCSAgICAgICAgICAgICAgICBjZWsud3JpdGUodXNlcisifCIrcGFzczgrIlxuIikKCQkJCQkJCQkJCQkJCQkJICAgICAgICAgICAgICAgIGNlay5jbG9zZSgpCgkJCQkJCQkJCQkJCQkJCSAgICAgICAgICAgICAgICBjZWtwb2ludC5hcHBlbmQodXNlcitwYXNzOCkKCQkJCQkJCQkJCQkJCQkJICAgICAgICAgICAgZWxzZToKCQkJCQkJCQkJCQkJCQkJICAgICAgICAgICAgICAgIHBhc3M5ID0geVsnbGFzdF9uYW1lJ10gKyAnQDEyMycKCQkJCQkJCQkJCQkJCQkJICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3M5KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCQkJCQkJCQkJICAgICAgICAgICAgICAgIHMgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJCQkJCQkJICAgICAgICAgICAgICAgIGlmICdhY2Vzc190b2tlbicgaW4gczoKCQkJCQkJCQkJCQkJCQkJICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzk3bUlEX09LXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3M5CgkJCQkJCQkJCQkJCQkJCSAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZCh1c2VyK3Bhc3M5KQoJCQkJCQkJCQkJCQkJCQkgICAgICAgICAgICAgICAgZWxzZToKCQkJCQkJCQkJCQkJCQkJICAgICAgICAgICAgICAgICAgICBpZiAnd3d3LmZhY2Vib2suY29tJyBpbiBzWyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJCQkJCQkJICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5N21JRF9DUFx4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzOQoJCQkJCQkJCQkJCQkJCQkgICAgICAgICAgICAgICAgICAgICAgICBjZWs9IG9wZW4oIm91dC9jaGVja3BvaW50LnR4dCIsICJrIikKCQkJCQkJCQkJCQkJCQkJICAgICAgICAgICAgICAgICAgICAgICAgY2VrLndyaXRlKHVzZXIrInwiK3Bhc3M5KyJcbiIpCgkJCQkJCQkJCQkJCQkJCSAgICAgICAgICAgICAgICAgICAgICAgIGNlay5jbG9zZSgpCgkJCQkJCQkJCQkJCQkJCSAgICAgICAgICAgICAgICAgICAgICAgIGNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3M5KQoJCQkJCQkJCQkJCQkJCQkgICAgICAgICAgICAgICAgIAoJCQkJCQkJCQkJCQkJCQkgICAgICAgICAgICAgICAgCgkJCQkJCQkJCQkJCQkJCSAgICAgICAgIAoJCQkJCQkJCQkJCQkJCQkgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAJCgkJZXhjZXB0OiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgkJCXBhc3MgICAgICAgICAgICAgICAgIAoJCQoJcCA9IFRocmVhZFBvb2woMzApCglwLm1hcChtYWluLCBpZCkKCXByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKCXByaW50ICdcMDMzWzE7OTZtW1wwMzNbMTs5N23inJNcMDMzWzE7OTZtXSBcMDMzWzE7OTJtUHJvY2VzcyBIYXMgQmVlbiBDb21wbGV0ZWQgXDAzM1sxOzk3bS4uLi4nCglwcmludCJcMDMzWzE7OTZtWytdIFwwMzNbMTs5Mm1Ub3RhbCBPSy9ceDFiWzE7OTNtQ1AgXDAzM1sxOzkxbTogXDAzM1sxOzkybSIrc3RyKGxlbihva3MpKSsiXDAzM1sxOzk3bS9cMDMzWzE7OTNtIitzdHIobGVuKGNla3BvaW50KSkKCXByaW50KCJcMDMzWzE7OTZtWytdIFwwMzNbMTs5Mm1DUCBGaWxlIEhhcyBCZWVuIFNhdmVkIFwwMzNbMTs5MW06IFwwMzNbMTs5N21vdXQvY2hlY2twb2ludC50eHQiKQoJcmF3X2lucHV0KCJcblwwMzNbMTs5Nm1bXDAzM1sxOzk3bUJhY2tcMDMzWzE7OTZtXSIpCgltZW51KCkKCQpkZWYgcGFrYXJteSgpOgoJZ2xvYmFsIHRva2V0Cglvcy5zeXN0ZW0oJ2NsZWFyJykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJceDFiWzE7OTFtVG9rZW4gaW52YWxpZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCglvcy5zeXN0ZW0oJ2NsZWFyJykKCXByaW50IGxvZ28KICAgICAgICBwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCglwcmludCggIlx4MWJbMTszMjs5Mm1bMV0gXDAzM1sxOzMzOzkzbeKcqiBDcmFjayBGcm9tIEZyaWVuZGxpc3QiKSAKCXRpbWUuc2xlZXAoMC4wNSkKCXByaW50KCAiXHgxYlsxOzMyOzkybVsyXSBcMDMzWzE7MzM7OTht4pyqIENyYWNrIEZyb20gUHVibGljIElEIikgCgl0aW1lLnNsZWVwKDAuMDUpCglwcmludCggIlx4MWJbMTszMjszNm1bMF0gXDAzM1sxOzMzOzk2beKcqiBCYWNrIikgCglwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCglwaWxpaF9wYWthcm15KCkKCmRlZiBwaWxpaF9wYWthcm15KCk6CglwZWFrID0gcmF3X2lucHV0KCJcblwwMzNbMTszMTs0MG0+Pj4gXDAzM1sxOzk3bSIpCglpZiBwZWFrID09IiI6CgkJcHJpbnQgIlx4MWJbMTs5MW1GaWxsIGluIGNvcnJlY3RseSIKCQlwaWxpaF9wYWthcm15KCkKICAgICAgICBlbGlmIHBlYWsgPT0iMSI6CgkJb3Muc3lzdGVtKCdjbGVhcicpCgkJcHJpbnQgbG9nbwoJCXByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKCQlqYWxhbignXDAzM1sxOzk2bVvimJFdIFwwMzNbMTs5Mm1HZXR0aW5nIElEIFwwMzNbMTs5N20uLi4nKQoJCXIgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJeiA9IGpzb24ubG9hZHMoci50ZXh0KQoJCWZvciBzIGluIHpbJ2RhdGEnXToKCQkJaWQuYXBwZW5kKHNbJ2lkJ10pCgllbGlmIHBlYWsgPT0iMiI6CgkJb3Muc3lzdGVtKCdjbGVhcicpCgkJcHJpbnQgbG9nbwoJCXByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKCQlpZHQgPSByYXdfaW5wdXQoIlwwMzNbMTs5Nm1b4piRXVwwMzNbMTs5M20gRW50ZXIgSUQvVVNFUk5BTUVcMDMzWzE7OTFtIDogIikKCQl0cnk6CgkJCWpvayA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZHQrIj9hY2Nlc3NfdG9rZW49Iit0b2tldCkKCQkJb3AgPSBqc29uLmxvYWRzKGpvay50ZXh0KQoJCQlwcmludCJcMDMzWzE7MzE7MzdtW+KYkV0gTmFtZSA6ICIrb3BbIm5hbWUiXQoJCWV4Y2VwdCBLZXlFcnJvcjoKCQkJcHJpbnQiXHgxYlsxOzM3bVvimJFdIElEIE5vdCBGb3VuZCEiCgkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTZtW1wwMzNbMTs5NG1CYWNrXDAzM1sxOzk2bV0iKQoJCQlzdXBlcigpCgkJcHJpbnQiXDAzM1sxOzM1OzM3bVvimJFdIEdldHRpbmcgSUQgTG9hZGluZyBwcm9jZXNzLi4uLi4uLi4gIgoJCXIgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyIvZnJpZW5kcz9hY2Nlc3NfdG9rZW49Iit0b2tldCkKCQl6ID0ganNvbi5sb2FkcyhyLnRleHQpCgkJZm9yIGkgaW4gelsnZGF0YSddOgoJCQlpZC5hcHBlbmQoaVsnaWQnXSkKCWVsaWYgcGVhayA9PSIwIjoKCQltZW51KCkKCWVsc2U6CgkJcHJpbnQgIlx4MWJbMTs5MW1GaWxsIGluIGNvcnJlY3RseSIKCQlwaWxpaF9zdXBlcigpCgoJcHJpbnQgIlwwMzNbMTszNjs5Nm1b4piRXSBUb3RhbCBJRHMgOiBcMDMzWzE7OTJtIitzdHIobGVuKGlkKSkKCWphbGFuKCdcMDMzWzE7MzQ7OTZtW+KYkV0gUGxlYXNlIFdhaXQgJykKCXRpdGlrID0gWycuICAgJywnLi4gICcsJy4uLiAnXQoJZm9yIG8gaW4gdGl0aWs6CgkJcHJpbnQoIlxyXDAzM1sxOzkzbUNsb25pbmdcMDMzWzE7OTNtIitvKSw7c3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMSkKCXByaW50ICJcblwwMzNbMTs5N20gIOKalMKrLS0tLS1ceDFiWzE7OTFt44CQVG8gU3RvcCBQcm9jZXNzIFByZXNzIENUUkwrWuOAkVwwMzNbMTs5N20tLS0twrvimpQiCglwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCglqYWxhbignICAgXDAzM1sxOzkzbVBsZWFzZSBXYWl0IENsb25lZCBBY2NvdW50cyBXaWxsIEFwcGVhciBIZXJlJykKICAgICAgICBqYWxhbignIFwwMzNbMTs5MW0gICAgICAgICAgICBDcmVhdGUgQnkgOiBGQVJJWUEgS0hBTicpCglwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCgoJZGVmIG1haW4oYXJnKToKCQlnbG9iYWwgb2tzCgkJdXNlciA9IGFyZwoJCXRyeToKCQkJb3MubWtkaXIoJ291dCcpCgkJZXhjZXB0IE9TRXJyb3I6CgkJCXBhc3MgI0RldjpGQVJJWUFLSEFOCgkJdHJ5OgkJCQkJCQkJCQkJCQkKCQkJayA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyt1c2VyKycvP2FjY2Vzc190b2tlbj0nK3Rva2V0KQoJCQl5ID0ganNvbi5sb2FkcyhrLnRleHQpCgkJCXBhc3MxID0gKCc3ODY3ODYnKQoJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzMSkrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCXMgPSBqc29uLmxvYWQoZGF0YSkKCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gczoKCQkJCXByaW50ICdceDFiWzE7OTJtSURfT0tceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczEKCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzMSkKCQkJZWxzZToKCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBzWyJlcnJvcl9tc2ciXToKCQkJCQlwcmludCAnXHgxYlsxOzk3bUlEX0NQXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3MxCgkJCQkJY2VrID0gb3Blbigib3V0L2NoZWNrcG9pbnQudHh0IiwgImsiKQoJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzMSsiXG4iKQoJCQkJCWNlay5jbG9zZSgpCgkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczEpCgkJCQllbHNlOgoJCQkJCXBhc3MyID0gKCdCYW5nbGFkZXNoJykgCgkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczIpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCXMgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBzOgoJCQkJCQlwcmludCAnXHgxYlsxOzkybUlEX09LXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3MyCgkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzMikKCQkJCQllbHNlOgoJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gc1siZXJyb3JfbXNnIl06CgkJCQkJCQlwcmludCAnXHgxYlsxOzk3bUlEX0NQXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3MyCgkJCQkJCQljZWsgPSBvcGVuKCJvdXQvY2hlY2twb2ludC50eHQiLCAiayIpCgkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczIrIlxuIikKCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQljZWtwb2ludC5hcHBlbmQodXNlcitwYXNzMikKCQkJCQkJZWxzZToKCQkJCQkJCXBhc3MzID0geVsnZmlyc3RfbmFtZSddICsgJzEyMycKCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3MzKSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCXMgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHM6CgkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Mm1JRF9PS1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzMwoJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzMykKCQkJCQkJCWVsc2U6CgkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHNbImVycm9yX21zZyJdOgoJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk3bUlEX0NQXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3MzCgkJCQkJCQkJCWNlayA9IG9wZW4oIm91dC9jaGVja3BvaW50LnR4dCIsICJrIikKCQkJCQkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3MzKyJcbiIpCgkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3MzKQoJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCXBhc3M0ID0geVsnZmlyc3RfbmFtZSddICsgJzEyMzQ1JwoJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzNCkrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQkJCXMgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gczoKCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTJtSURfT0tceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczQKCQkJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzNCkKCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBzWyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk3bUlEX0NQXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3M0CgkJCQkJCQkJCQkJY2VrID0gb3Blbigib3V0L2NoZWNrcG9pbnQudHh0IiwgImsiKQoJCQkJCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzNCsiXG4iKQoJCQkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczQpCgkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCXBhc3M1ID0geVsnZmlyc3RfbmFtZSddICsgJzc4NicKCQkJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzNSkrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQkJCQkJcyA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHM6CgkJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTJtSURfT0tceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczUKCQkJCQkJCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3M1KQoJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBzWyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTdtSURfQ1BceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczUKCQkJCQkJCQkJCQkJCWNlayA9IG9wZW4oIm91dC9jaGVja3BvaW50LnR4dCIsICJrIikKCQkJCQkJCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzNSsiXG4iKQoJCQkJCQkJCQkJCQkJY2VrLmNsb3NlKCkKCQkJCQkJCQkJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3M1KQoJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJcGFzczYgPSB5WydsYXN0X25hbWUnXSArICcxMjMnCgkJCQkJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzNikrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQkJCQkJCQlzID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBzOgoJCQkJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTJtSURfT0tceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVx4MWJbMTs5N20nICsgcGFzczYKCQkJCQkJCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczYpCgkJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBzWyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5N21JRF9DUFx4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzNgoJCQkJCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvY2hlY2twb2ludC50eHQiLCAiayIpCgkJCQkJCQkJCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzNisiXG4iKQoJCQkJCQkJCQkJCQkJCQljZWsuY2xvc2UoKQoJCQkJCQkJCQkJCQkJCQljZWtwb2ludC5hcHBlbmQodXNlcitwYXNzNikKCQkJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJCQlwYXNzNyA9IHlbJ2xhc3RfbmFtZSddICsgJzc4NicKCQkJCQkJCQkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczcpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCQkJCQkJCQlzID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHM6CgkJCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzkybUlEX09LXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3M3CgkJCQkJCQkJCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczcpCgkJCQkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gc1siZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5N21JRF9DUFx4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzNwoJCQkJCQkJCQkJCQkJCQkJCWNlayA9IG9wZW4oIm91dC9jaGVja3BvaW50LnR4dCIsICJrIikKCQkJCQkJCQkJCQkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczcrIlxuIikKCQkJCQkJCQkJCQkJCQkJCQljZWsuY2xvc2UoKQoJCQkJCQkJCQkJCQkJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3M3KQoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJICAgCQoJCQkJCQkJCQkJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCQlleGNlcHQ6CgkJCXBhc3MKCQkKCXAgPSBUaHJlYWRQb29sKDMwKQoJcC5tYXAobWFpbiwgaWQpCglwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCglwcmludCAnXDAzM1sxOzk2bVtcMDMzWzE7OTdt4pyTXDAzM1sxOzk2bV0gXDAzM1sxOzkybVByb2Nlc3MgSGFzIEJlZW4gQ29tcGxldGVkIFwwMzNbMTs5N20uLi4uJwoJcHJpbnQiXDAzM1sxOzk2bVsrXSBcMDMzWzE7OTJtVG90YWwgT0svXHgxYlsxOzkzbUNQIFwwMzNbMTs5MW06IFwwMzNbMTs5Mm0iK3N0cihsZW4ob2tzKSkrIlwwMzNbMTs5N20vXDAzM1sxOzkzbSIrc3RyKGxlbihjZWtwb2ludCkpCglwcmludCgiXDAzM1sxOzk2bVsrXSBcMDMzWzE7OTJtQ1AgRmlsZSBIYXMgQmVlbiBTYXZlZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtb3V0L2NoZWNrcG9pbnQudHh0IikKCXJhd19pbnB1dCgiXG5cMDMzWzE7OTZtW1wwMzNbMTs5N21CYWNrXDAzM1sxOzk2bV0iKQoJbWVudSgpCgkKZGVmIGhhY2tlcnooKToKCWdsb2JhbCB0b2tldAoJb3Muc3lzdGVtKCdjbGVhcicpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXHgxYlsxOzkxbVRva2VuIGludmFsaWQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW4oKQoJb3Muc3lzdGVtKCdjbGVhcicpCglwcmludCBsb2dvCiAgICAgICAgcHJpbnQgIlwwMzNbMTs5N20g4pqUwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK74pqUIgoJcHJpbnQoICJceDFiWzE7MzI7OTJtWzFdIFwwMzNbMTszMzs5M23inKogQ3JhY2sgRnJvbSBGcmllbmRsaXN0IikgCgl0aW1lLnNsZWVwKDAuMDUpCglwcmludCggIlx4MWJbMTszMjs5Mm1bMl0gXDAzM1sxOzMzOzk4beKcqiBDcmFjayBGcm9tIFB1YmxpYyBJRCIpIAoJdGltZS5zbGVlcCgwLjA1KQoJcHJpbnQoICJceDFiWzE7MzI7MzZtWzBdIFwwMzNbMTszMzs5Nm3inKogQmFjayIpIAoJcHJpbnQgIlwwMzNbMTs5N20g4pqUwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK74pqUIgoJcGlsaWhfaGFja2VyeigpCgpkZWYgcGlsaWhfaGFja2VyeigpOgoJcGVhayA9IHJhd19pbnB1dCgiXG5cMDMzWzE7MzE7NDBtPj4+IFwwMzNbMTs5N20iKQoJaWYgcGVhayA9PSIiOgoJCXByaW50ICJceDFiWzE7OTFtRmlsbCBpbiBjb3JyZWN0bHkiCgkJcGlsaWhfaGFja2VyeigpCiAgICAgICAgZWxpZiBwZWFrID09IjEiOgoJCW9zLnN5c3RlbSgnY2xlYXInKQoJCXByaW50IGxvZ28KCQlwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCgkJamFsYW4oJ1wwMzNbMTs5Nm1b4piRXSBcMDMzWzE7OTJtR2V0dGluZyBJRCBcMDMzWzE7OTdtLi4uJykKCQlyID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9mcmllbmRzP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCXogPSBqc29uLmxvYWRzKHIudGV4dCkKCQlmb3IgcyBpbiB6WydkYXRhJ106CgkJCWlkLmFwcGVuZChzWydpZCddKQoJZWxpZiBwZWFrID09IjIiOgoJCW9zLnN5c3RlbSgnY2xlYXInKQoJCXByaW50IGxvZ28KCQlwcmludCAiXDAzM1sxOzk3bSDCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrsiCgkJaWR0ID0gcmF3X2lucHV0KCJcMDMzWzE7OTZtW+KYkV1cMDMzWzE7OTNtIEVudGVyIElEL1VTRVJOQU1FXDAzM1sxOzkxbSA6ICIpCgkJdHJ5OgoJCQlqb2sgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyI/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJCW9wID0ganNvbi5sb2Fkcyhqb2sudGV4dCkKCQkJcHJpbnQiXDAzM1sxOzMxOzM3bVvimJFdbmFtZSA6ICIrb3BbIm5hbWUiXQoJCWV4Y2VwdCBLZXlFcnJvcjoKCQkJcHJpbnQiXHgxYlsxOzM3bVvimJFdIElEIE5vdCBGb3VuZCEiCgkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTZtW1wwMzNbMTs5NG1CYWNrXDAzM1sxOzk2bV0iKQoJCQlzdXBlcigpCgkJcHJpbnQiXDAzM1sxOzM1OzM3bVvimJFdIEdldHRpbmcgSUQgTG9hZGluZyBwcm9jZXNzLi4uLi4uLi4gIgoJCXIgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyIvZnJpZW5kcz9hY2Nlc3NfdG9rZW49Iit0b2tldCkKCQl6ID0ganNvbi5sb2FkcyhyLnRleHQpCgkJZm9yIGkgaW4gelsnZGF0YSddOgoJCQlpZC5hcHBlbmQoaVsnaWQnXSkKCWVsaWYgcGVhayA9PSIwIjoKCQltZW51KCkKCWVsc2U6CgkJcHJpbnQgIlx4MWJbMTs5MW1GaWxsIGluIGNvcnJlY3RseSIKCQlwaWxpaF9zdXBlcigpCgoJcHJpbnQgIlwwMzNbMTszNjs5Nm1b4piRXSBUb3RhbCBJRHMgOiBcMDMzWzE7OTJtIitzdHIobGVuKGlkKSkKCWphbGFuKCdcMDMzWzE7MzQ7OTZtW+KYkV1QbGVhc2UgV2FpdCAnKQoJdGl0aWsgPSBbJy4gICAnLCcuLiAgJywnLi4uICddCglmb3IgbyBpbiB0aXRpazoKCQlwcmludCgiXHJcMDMzWzE7OTNtQ2xvbmluZ1wwMzNbMTs5M20iK28pLDtzeXMuc3Rkb3V0LmZsdXNoKCk7dGltZS5zbGVlcCgxKQoJcHJpbnQgIlxuXDAzM1sxOzk3bSAg4pqUwqstLS0tLVx4MWJbMTs5MW3jgJBUbyBTdG9wIFByb2Nlc3MgUHJlc3MgQ1RSTCta44CRXDAzM1sxOzk3bS0tLS3Cu+KalCIKCXByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKCWphbGFuKCcgICBcMDMzWzE7OTNtUGxlYXNlIFdhaXQgQ2xvbmVkIEFjY291bnRzIFdpbGwgQXBwZWFyIEhlcmUnKQogICAgICAgIGphbGFuKCcgXDAzM1sxOzkxbSAgICAgICAgICAgIENyZWF0ZSBCeSA6IEZBUklZQSBLSEFOJykKCXByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKCglkZWYgbWFpbihhcmcpOgoJCWdsb2JhbCBva3MKCQl1c2VyID0gYXJnCgkJdHJ5OgoJCQlvcy5ta2Rpcignb3V0JykKCQlleGNlcHQgT1NFcnJvcjoKCQkJcGFzcyAjRGV2OkZBUklZQUtIQU4KCQl0cnk6CQkJCQkJCQkJCQkJCQoJCQlrID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nK3VzZXIrJy8/YWNjZXNzX3Rva2VuPScrdG9rZXQpCgkJCXkgPSBqc29uLmxvYWRzKGsudGV4dCkKCQkJcGFzczEgPSAoJzc4Njc4NicpCgkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3MxKSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJcyA9IGpzb24ubG9hZChkYXRhKQoJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBzOgoJCQkJcHJpbnQgJ1x4MWJbMTs5Mm1JRF9PS1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzMQoJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3MxKQoJCQllbHNlOgoJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHNbImVycm9yX21zZyJdOgoJCQkJCXByaW50ICdceDFiWzE7OTdtSURfQ1BceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczEKCQkJCQljZWsgPSBvcGVuKCJvdXQvY2hlY2twb2ludC50eHQiLCAiayIpCgkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3MxKyJcbiIpCgkJCQkJY2VrLmNsb3NlKCkKCQkJCQljZWtwb2ludC5hcHBlbmQodXNlcitwYXNzMSkKCQkJCWVsc2U6CgkJCQkJcGFzczIgPSAoJ1NheWFuZycpIAoJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3MyKSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQlzID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gczoKCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Mm1JRF9PS1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzMgoJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczIpCgkJCQkJZWxzZToKCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHNbImVycm9yX21zZyJdOgoJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5N21JRF9DUFx4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzMgoJCQkJCQkJY2VrID0gb3Blbigib3V0L2NoZWNrcG9pbnQudHh0IiwgImsiKQoJCQkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3MyKyJcbiIpCgkJCQkJCQljZWsuY2xvc2UoKQoJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczIpCgkJCQkJCWVsc2U6CgkJCQkJCQlwYXNzMyA9IHlbJ2ZpcnN0X25hbWUnXSArICcxMjMnCgkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzMykrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQlzID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBzOgoJCQkJCQkJCXByaW50ICdceDFiWzE7OTJtSURfT0tceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczMKCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczMpCgkJCQkJCQllbHNlOgoJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBzWyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5N21JRF9DUFx4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzMwoJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvY2hlY2twb2ludC50eHQiLCAiayIpCgkJCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzMysiXG4iKQoJCQkJCQkJCQljZWsuY2xvc2UoKQoJCQkJCQkJCQljZWtwb2ludC5hcHBlbmQodXNlcitwYXNzMykKCQkJCQkJCQllbHNlOgoJCQkJCQkJCQlwYXNzNCA9IHlbJ2ZpcnN0X25hbWUnXSArICcxMjM0NScKCQkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczQpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCQlzID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHM6CgkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzkybUlEX09LXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3M0CgkJCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczQpCgkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gc1siZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5N21JRF9DUFx4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzNAoJCQkJCQkJCQkJCWNlayA9IG9wZW4oIm91dC9jaGVja3BvaW50LnR4dCIsICJrIikKCQkJCQkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczQrIlxuIikKCQkJCQkJCQkJCQljZWsuY2xvc2UoKQoJCQkJCQkJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3M0KQoJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQlwYXNzNSA9IHlbJ2ZpcnN0X25hbWUnXSArICc3ODYnCgkJCQkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczUpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCQkJCXMgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBzOgoJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzkybUlEX09LXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3M1CgkJCQkJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzNSkKCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gc1siZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk3bUlEX0NQXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3M1CgkJCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvY2hlY2twb2ludC50eHQiLCAiayIpCgkJCQkJCQkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczUrIlxuIikKCQkJCQkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCQkJCQljZWtwb2ludC5hcHBlbmQodXNlcitwYXNzNSkKCQkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJCXBhc3M2ID0geVsnbGFzdF9uYW1lJ10gKyAnMTIzJwoJCQkJCQkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczYpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCQkJCQkJcyA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gczoKCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzkybUlEX09LXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1ceDFiWzE7OTdtJyArIHBhc3M2CgkJCQkJCQkJCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3M2KQoJCQkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gc1siZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTdtSURfQ1BceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczYKCQkJCQkJCQkJCQkJCQkJY2VrID0gb3Blbigib3V0L2NoZWNrcG9pbnQudHh0IiwgImsiKQoJCQkJCQkJCQkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczYrIlxuIikKCQkJCQkJCQkJCQkJCQkJY2VrLmNsb3NlKCkKCQkJCQkJCQkJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczYpCgkJCQkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJCQkJcGFzczcgPSB5WydsYXN0X25hbWUnXSArICc3ODYnCgkJCQkJCQkJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3M3KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCQkJCQkJCQkJcyA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQkJCQkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBzOgoJCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Mm1JRF9PS1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzNwoJCQkJCQkJCQkJCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3M3KQoJCQkJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHNbImVycm9yX21zZyJdOgoJCQkJCQkJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTdtSURfQ1BceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczcKCQkJCQkJCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvY2hlY2twb2ludC50eHQiLCAiayIpCgkJCQkJCQkJCQkJCQkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3M3KyJcbiIpCgkJCQkJCQkJCQkJCQkJCQkJY2VrLmNsb3NlKCkKCQkJCQkJCQkJCQkJCQkJCQljZWtwb2ludC5hcHBlbmQodXNlcitwYXNzNykKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCSAgIAkKCQkJCQkJCQkJCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgkJZXhjZXB0OgoJCQlwYXNzCgkJCglwID0gVGhyZWFkUG9vbCgzMCkKCXAubWFwKG1haW4sIGlkKQoJcHJpbnQgIlwwMzNbMTs5N20g4pqUwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK74pqUIgoJcHJpbnQgJ1wwMzNbMTs5Nm1bXDAzM1sxOzk3beKck1wwMzNbMTs5Nm1dIFwwMzNbMTs5Mm1Qcm9jZXNzIEhhcyBCZWVuIENvbXBsZXRlZCBcMDMzWzE7OTdtLi4uLicKCXByaW50IlwwMzNbMTs5Nm1bK10gXDAzM1sxOzkybVRvdGFsIE9LL1x4MWJbMTs5M21DUCBcMDMzWzE7OTFtOiBcMDMzWzE7OTJtIitzdHIobGVuKG9rcykpKyJcMDMzWzE7OTdtL1wwMzNbMTs5M20iK3N0cihsZW4oY2VrcG9pbnQpKQoJcHJpbnQoIlwwMzNbMTs5Nm1bK10gXDAzM1sxOzkybUNQIEZpbGUgSGFzIEJlZW4gU2F2ZWQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bW91dC9jaGVja3BvaW50LnR4dCIpCglyYXdfaW5wdXQoIlxuXDAzM1sxOzk2bVtcMDMzWzE7OTdtQmFja1wwMzNbMTs5Nm1dIikKCW1lbnUoKQoJCmRlZiBhbWVyaWNhKCk6CglnbG9iYWwgdG9rZXQKCW9zLnN5c3RlbSgnY2xlYXInKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50Ilx4MWJbMTs5MW1Ub2tlbiBpbnZhbGlkIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgnY2xlYXInKQoJcHJpbnQgbG9nbwoJcHJpbnQgIlwwMzNbMTs5N20g4pqUwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK74pqUIgogICAgICAgIHByaW50KCAiXHgxYlsxOzMyOzkybVsxXSBcMDMzWzE7MzM7OTNt4pyqIENyYWNrIEZyb20gRnJpZW5kbGlzdCIpIAoJdGltZS5zbGVlcCgwLjA1KQoJcHJpbnQoICJceDFiWzE7MzI7OTJtWzJdIFwwMzNbMTszMzs5OG3inKogQ3JhY2sgRnJvbSBQdWJsaWMgSUQiKSAKCXRpbWUuc2xlZXAoMC4wNSkKCXByaW50KCAiXHgxYlsxOzMyOzM2bVswXSBcMDMzWzE7MzM7OTZt4pyqIEJhY2siKSAKCXByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKCXBpbGloX2FtZXJpY2EoKQoKZGVmIHBpbGloX2FtZXJpY2EoKToKCXBlYWsgPSByYXdfaW5wdXQoIlxuXDAzM1sxOzMxOzQwbT4+PiBcMDMzWzE7OTdtIikKCWlmIHBlYWsgPT0iIjoKCQlwcmludCAiXHgxYlsxOzkxbUZpbGwgaW4gY29ycmVjdGx5IgoJCXBpbGloX2FtZXJpY2EoKQogICAgICAgIGVsaWYgcGVhayA9PSIxIjoKCQlvcy5zeXN0ZW0oJ2NsZWFyJykKCQlwcmludCBsb2dvCgkJcHJpbnQgIlwwMzNbMTs5N20g4pqUwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK74pqUIgoJCWphbGFuKCdcMDMzWzE7OTZtW+KYkV0gXDAzM1sxOzkybUdldHRpbmcgSUQgXDAzM1sxOzk3bS4uLicpCgkJciA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZnJpZW5kcz9hY2Nlc3NfdG9rZW49Iit0b2tldCkKCQl6ID0ganNvbi5sb2FkcyhyLnRleHQpCgkJZm9yIHMgaW4gelsnZGF0YSddOgoJCQlpZC5hcHBlbmQoc1snaWQnXSkKCWVsaWYgcGVhayA9PSIyIjoKCQlvcy5zeXN0ZW0oJ2NsZWFyJykKCQlwcmludCBsb2dvCgkJcHJpbnQgIlwwMzNbMTs5N20gwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK7IgoJCWlkdCA9IHJhd19pbnB1dCgiXDAzM1sxOzk2bVvimJFdXDAzM1sxOzkzbSBFbnRlciBJRC9VU0VSTkFNRVwwMzNbMTs5MW0gOiAiKQoJCXRyeToKCQkJam9rID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkdCsiP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCQlvcCA9IGpzb24ubG9hZHMoam9rLnRleHQpCgkJCXByaW50IlwwMzNbMTszMTszN21b4piRXSBOYW1lIDogIitvcFsibmFtZSJdCgkJZXhjZXB0IEtleUVycm9yOgoJCQlwcmludCJceDFiWzE7MzdtW+KYkV0gSUQgTm90IEZvdW5kISIKCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5Nm1bXDAzM1sxOzk0bUJhY2tcMDMzWzE7OTZtXSIpCgkJCXN1cGVyKCkKCQlwcmludCJcMDMzWzE7MzU7MzdtW+KYkV0gR2V0dGluZyBJRCBMb2FkaW5nIHByb2Nlc3MuLi4uLi4uLiAiCgkJciA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZHQrIi9mcmllbmRzP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCXogPSBqc29uLmxvYWRzKHIudGV4dCkKCQlmb3IgaSBpbiB6WydkYXRhJ106CgkJCWlkLmFwcGVuZChpWydpZCddKQoJZWxpZiBwZWFrID09IjAiOgoJCW1lbnUoKQoJZWxzZToKCQlwcmludCAiXHgxYlsxOzkxbUZpbGwgaW4gY29ycmVjdGx5IgoJCXBpbGloX3N1cGVyKCkKCglwcmludCAiXDAzM1sxOzM2Ozk2bVvimJFdIFRvdGFsIElEcyA6IFwwMzNbMTs5Mm0iK3N0cihsZW4oaWQpKQoJamFsYW4oJ1wwMzNbMTszNDs5Nm1b4piRXSBQbGVhc2UgV2FpdCAnKQoJdGl0aWsgPSBbJy4gICAnLCcuLiAgJywnLi4uICddCglmb3IgbyBpbiB0aXRpazoKCQlwcmludCgiXHJcMDMzWzE7OTNtQ2xvbmluZ1wwMzNbMTs5M20iK28pLDtzeXMuc3Rkb3V0LmZsdXNoKCk7dGltZS5zbGVlcCgxKQoJcHJpbnQgIlxuXDAzM1sxOzk3bSAg4pqUwqstLS0tLVx4MWJbMTs5MW3jgJBUbyBTdG9wIFByb2Nlc3MgUHJlc3MgQ1RSTCta44CRXDAzM1sxOzk3bS0tLS3Cu+KalCIKCXByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKCWphbGFuKCcgICBcMDMzWzE7OTNtUGxlYXNlIFdhaXQgQ2xvbmVkIEFjY291bnRzIFdpbGwgQXBwZWFyIEhlcmUnKQogICAgICAgIGphbGFuKCcgXDAzM1sxOzkxbSAgICAgICAgICAgIENyZWF0ZSBCeSA6IEZBUklZQSBLSEFOJykKCXByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKCglkZWYgbWFpbihhcmcpOgoJCWdsb2JhbCBva3MKCQl1c2VyID0gYXJnCgkJdHJ5OgoJCQlvcy5ta2Rpcignb3V0JykKCQlleGNlcHQgT1NFcnJvcjoKCQkJcGFzcyAjRGV2OkZBUklZQUtIQU4KCQl0cnk6CQkJCQkJCQkJCQkJCQoJCQlrID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nK3VzZXIrJy8/YWNjZXNzX3Rva2VuPScrdG9rZXQpCgkJCXkgPSBqc29uLmxvYWRzKGsudGV4dCkKCQkJcGFzczEgPSAoJzc4Njc4NicpCgkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3MxKSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJcyA9IGpzb24ubG9hZChkYXRhKQoJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBzOgoJCQkJcHJpbnQgJ1x4MWJbMTs5Mm1JRF9PS1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzMQoJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3MxKQoJCQllbHNlOgoJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHNbImVycm9yX21zZyJdOgoJCQkJCXByaW50ICdceDFiWzE7OTdtSURfQ1BceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczEKCQkJCQljZWsgPSBvcGVuKCJvdXQvY2hlY2twb2ludC50eHQiLCAiayIpCgkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3MxKyJcbiIpCgkJCQkJY2VrLmNsb3NlKCkKCQkJCQljZWtwb2ludC5hcHBlbmQodXNlcitwYXNzMSkKCQkJCWVsc2U6CgkJCQkJcGFzczIgPSAoJ0FtZXJpY2ExMjMnKSAKCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzMikrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJcyA9IGpzb24ubG9hZChkYXRhKQoJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHM6CgkJCQkJCXByaW50ICdceDFiWzE7OTJtSURfT0tceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczIKCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3MyKQoJCQkJCWVsc2U6CgkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBzWyJlcnJvcl9tc2ciXToKCQkJCQkJCXByaW50ICdceDFiWzE7OTdtSURfQ1BceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczIKCQkJCQkJCWNlayA9IG9wZW4oIm91dC9jaGVja3BvaW50LnR4dCIsICJrIikKCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzMisiXG4iKQoJCQkJCQkJY2VrLmNsb3NlKCkKCQkJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3MyKQoJCQkJCQllbHNlOgoJCQkJCQkJcGFzczMgPSB5WydmaXJzdF9uYW1lJ10gKyAnMTIzJwoJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczMpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJcyA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gczoKCQkJCQkJCQlwcmludCAnXHgxYlsxOzkybUlEX09LXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3MzCgkJCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3MzKQoJCQkJCQkJZWxzZToKCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gc1siZXJyb3JfbXNnIl06CgkJCQkJCQkJCXByaW50ICdceDFiWzE7OTdtSURfQ1BceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczMKCQkJCQkJCQkJY2VrID0gb3Blbigib3V0L2NoZWNrcG9pbnQudHh0IiwgImsiKQoJCQkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczMrIlxuIikKCQkJCQkJCQkJY2VrLmNsb3NlKCkKCQkJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczMpCgkJCQkJCQkJZWxzZToKCQkJCQkJCQkJcGFzczQgPSB5WydmaXJzdF9uYW1lJ10gKyAnMTIzNDUnCgkJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3M0KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCQkJcyA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBzOgoJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Mm1JRF9PS1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzNAoJCQkJCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3M0KQoJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHNbImVycm9yX21zZyJdOgoJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTdtSURfQ1BceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczQKCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvY2hlY2twb2ludC50eHQiLCAiayIpCgkJCQkJCQkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3M0KyJcbiIpCgkJCQkJCQkJCQkJY2VrLmNsb3NlKCkKCQkJCQkJCQkJCQljZWtwb2ludC5hcHBlbmQodXNlcitwYXNzNCkKCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJcGFzczUgPSB5WydmaXJzdF9uYW1lJ10gKyAnNzg2JwoJCQkJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3M1KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCQkJCQlzID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gczoKCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Mm1JRF9PS1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzNQoJCQkJCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczUpCgkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHNbImVycm9yX21zZyJdOgoJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5N21JRF9DUFx4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzNQoJCQkJCQkJCQkJCQkJY2VrID0gb3Blbigib3V0L2NoZWNrcG9pbnQudHh0IiwgImsiKQoJCQkJCQkJCQkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3M1KyJcbiIpCgkJCQkJCQkJCQkJCQljZWsuY2xvc2UoKQoJCQkJCQkJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczUpCgkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQlwYXNzNiA9IHlbJ2xhc3RfbmFtZSddICsgJzEyMycKCQkJCQkJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3M2KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCQkJCQkJCXMgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHM6CgkJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Mm1JRF9PS1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXHgxYlsxOzk3bScgKyBwYXNzNgoJCQkJCQkJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzNikKCQkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHNbImVycm9yX21zZyJdOgoJCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk3bUlEX0NQXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3M2CgkJCQkJCQkJCQkJCQkJCWNlayA9IG9wZW4oIm91dC9jaGVja3BvaW50LnR4dCIsICJrIikKCQkJCQkJCQkJCQkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3M2KyJcbiIpCgkJCQkJCQkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCQkJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3M2KQoJCQkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQkJCXBhc3M3ID0geVsnbGFzdF9uYW1lJ10gKyAnNzg2JwoJCQkJCQkJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzNykrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQkJCQkJCQkJCXMgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gczoKCQkJCQkJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTJtSURfT0tceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczcKCQkJCQkJCQkJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzNykKCQkJCQkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBzWyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk3bUlEX0NQXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3M3CgkJCQkJCQkJCQkJCQkJCQkJY2VrID0gb3Blbigib3V0L2NoZWNrcG9pbnQudHh0IiwgImsiKQoJCQkJCQkJCQkJCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzNysiXG4iKQoJCQkJCQkJCQkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCQkJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczcpCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkgICAJCgkJCQkJCQkJCQkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoJCWV4Y2VwdDoKCQkJcGFzcwoJCQoJcCA9IFRocmVhZFBvb2woMzApCglwLm1hcChtYWluLCBpZCkKCXByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKCXByaW50ICdcMDMzWzE7OTZtW1wwMzNbMTs5N23inJNcMDMzWzE7OTZtXSBcMDMzWzE7OTJtUHJvY2VzcyBIYXMgQmVlbiBDb21wbGV0ZWQgXDAzM1sxOzk3bS4uLi4nCglwcmludCJcMDMzWzE7OTZtWytdIFwwMzNbMTs5Mm1Ub3RhbCBPSy9ceDFiWzE7OTNtQ1AgXDAzM1sxOzkxbTogXDAzM1sxOzkybSIrc3RyKGxlbihva3MpKSsiXDAzM1sxOzk3bS9cMDMzWzE7OTNtIitzdHIobGVuKGNla3BvaW50KSkKCXByaW50KCJcMDMzWzE7OTZtWytdIFwwMzNbMTs5Mm1DUCBGaWxlIEhhcyBCZWVuIFNhdmVkIFwwMzNbMTs5MW06IFwwMzNbMTs5N21vdXQvY2hlY2twb2ludC50eHQiKQoJcmF3X2lucHV0KCJcblwwMzNbMTs5Nm1bXDAzM1sxOzk3bUJhY2tcMDMzWzE7OTZtXSIpCgltZW51KCkKCQpkZWYgaGF0ZXJ4KCk6CglnbG9iYWwgdG9rZXQKCW9zLnN5c3RlbSgnY2xlYXInKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50Ilx4MWJbMTs5MW1Ub2tlbiBpbnZhbGlkIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgnY2xlYXInKQoJcHJpbnQgbG9nbwoJcHJpbnQgIlwwMzNbMTs5N20g4pqUwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK74pqUIgogICAgICAgIHByaW50KCAiXHgxYlsxOzMyOzkybVsxXSBcMDMzWzE7MzM7OTNt4pyqIENyYWNrIEZyb20gRnJpZW5kbGlzdCIpIAoJdGltZS5zbGVlcCgwLjA1KQoJcHJpbnQoICJceDFiWzE7MzI7OTJtWzJdIFwwMzNbMTszMzs5OG3inKogQ3JhY2sgRnJvbSBQdWJsaWMgSUQiKSAKCXRpbWUuc2xlZXAoMC4wNSkKCXByaW50KCAiXHgxYlsxOzMyOzM2bVswXSBcMDMzWzE7MzM7OTZt4pyqIEJhY2siKSAKCXByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKCXBpbGloX2hhdGVyeCgpCgpkZWYgcGlsaWhfaGF0ZXJ4KCk6CglwZWFrID0gcmF3X2lucHV0KCJcblwwMzNbMTszMTs0MG0+Pj4gXDAzM1sxOzk3bSIpCglpZiBwZWFrID09IiI6CgkJcHJpbnQgIlx4MWJbMTs5MW1GaWxsIGluIGNvcnJlY3RseSIKCQlwaWxpaF9oYXRlcngoKQogICAgICAgIGVsaWYgcGVhayA9PSIxIjoKCQlvcy5zeXN0ZW0oJ2NsZWFyJykKCQlwcmludCBsb2dvCgkJcHJpbnQgIlwwMzNbMTs5N20g4pqUwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK74pqUIgoJCWphbGFuKCdcMDMzWzE7OTZtW+KYkV0gXDAzM1sxOzkybUdldHRpbmcgSUQgXDAzM1sxOzk3bS4uLicpCgkJciA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZnJpZW5kcz9hY2Nlc3NfdG9rZW49Iit0b2tldCkKCQl6ID0ganNvbi5sb2FkcyhyLnRleHQpCgkJZm9yIHMgaW4gelsnZGF0YSddOgoJCQlpZC5hcHBlbmQoc1snaWQnXSkKCWVsaWYgcGVhayA9PSIyIjoKCQlvcy5zeXN0ZW0oJ2NsZWFyJykKCQlwcmludCBsb2dvCgkJcHJpbnQgIlwwMzNbMTs5N20g4pqUwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK74pqUIgoJCWlkdCA9IHJhd19pbnB1dCgiXDAzM1sxOzk2bVvimJFdXDAzM1sxOzkzbSBFbnRlciBJRC9VU0VSTkFNRVwwMzNbMTs5MW0gOiAiKQoJCXRyeToKCQkJam9rID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkdCsiP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCQlvcCA9IGpzb24ubG9hZHMoam9rLnRleHQpCgkJCXByaW50IlwwMzNbMTszMTszN21b4piRXSBOYW1lIDogIitvcFsibmFtZSJdCgkJZXhjZXB0IEtleUVycm9yOgoJCQlwcmludCJceDFiWzE7MzdtW+KYkV0gSUQgTm90IEZvdW5kISIKCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5Nm1bXDAzM1sxOzk0bUJhY2tcMDMzWzE7OTZtXSIpCgkJCXN1cGVyKCkKCQlwcmludCJcMDMzWzE7MzU7MzdtW+KYkV0gR2V0dGluZyBJRCBMb2FkaW5nIHByb2Nlc3MuLi4uLi4uLiAiCgkJciA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZHQrIi9mcmllbmRzP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCXogPSBqc29uLmxvYWRzKHIudGV4dCkKCQlmb3IgaSBpbiB6WydkYXRhJ106CgkJCWlkLmFwcGVuZChpWydpZCddKQoJZWxpZiBwZWFrID09IjAiOgoJCW1lbnUoKQoJZWxzZToKCQlwcmludCAiXHgxYlsxOzkxbUZpbGwgaW4gY29ycmVjdGx5IgoJCXBpbGloX3N1cGVyKCkKCglwcmludCAiXDAzM1sxOzM2Ozk2bVvimJFdIFRvdGFsIElEcyA6IFwwMzNbMTs5Mm0iK3N0cihsZW4oaWQpKQoJamFsYW4oJ1wwMzNbMTszNDs5Nm1b4piRXSBQbGVhc2UgV2FpdCAnKQoJdGl0aWsgPSBbJy4gICAnLCcuLiAgJywnLi4uICddCglmb3IgbyBpbiB0aXRpazoKCQlwcmludCgiXHJcMDMzWzE7OTNtQ2xvbmluZ1wwMzNbMTs5M20iK28pLDtzeXMuc3Rkb3V0LmZsdXNoKCk7dGltZS5zbGVlcCgxKQoJcHJpbnQgIlxuXDAzM1sxOzk3bSAg4piRwqstLS0tLVx4MWJbMTs5MW3jgJBUbyBTdG9wIFByb2Nlc3MgUHJlc3MgQ1RSTCta44CRXDAzM1sxOzk3bS0tLS3Cu+KYkSIKCXByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKCWphbGFuKCcgICBcMDMzWzE7OTNtUGxlYXNlIFdhaXQgQ2xvbmVkIEFjY291bnRzIFdpbGwgQXBwZWFyIEhlcmUnKQogICAgICAgIGphbGFuKCcgXDAzM1sxOzkxbSAgICAgICAgICAgIENyZWF0ZSBCeSA6IEZBUklZQSBLSEFOJykKCXByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKCglkZWYgbWFpbihhcmcpOgoJCWdsb2JhbCBva3MKCQl1c2VyID0gYXJnCgkJdHJ5OgoJCQlvcy5ta2Rpcignb3V0JykKCQlleGNlcHQgT1NFcnJvcjoKCQkJcGFzcyAjRGV2OkZBUklZQUtIQU4KCQl0cnk6CQkJCQkJCQkJCQkJCQoJCQlrID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nK3VzZXIrJy8/YWNjZXNzX3Rva2VuPScrdG9rZXQpCgkJCXkgPSBqc29uLmxvYWRzKGsudGV4dCkKCQkJcGFzczEgPSAoJzc4Njc4NicpCgkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3MxKSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJcyA9IGpzb24ubG9hZChkYXRhKQoJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBzOgoJCQkJcHJpbnQgJ1x4MWJbMTs5Mm1JRF9PS1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzMQoJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3MxKQoJCQllbHNlOgoJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHNbImVycm9yX21zZyJdOgoJCQkJCXByaW50ICdceDFiWzE7OTdtSURfQ1BceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczEKCQkJCQljZWsgPSBvcGVuKCJvdXQvY2hlY2twb2ludC50eHQiLCAiayIpCgkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3MxKyJcbiIpCgkJCQkJY2VrLmNsb3NlKCkKCQkJCQljZWtwb2ludC5hcHBlbmQodXNlcitwYXNzMSkKCQkJCWVsc2U6CgkJCQkJcGFzczIgPSAoJ0Rlbm1hcmsnKSAKCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzMikrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJcyA9IGpzb24ubG9hZChkYXRhKQoJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHM6CgkJCQkJCXByaW50ICdceDFiWzE7OTJtSURfT0tceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczIKCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3MyKQoJCQkJCWVsc2U6CgkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBzWyJlcnJvcl9tc2ciXToKCQkJCQkJCXByaW50ICdceDFiWzE7OTdtSURfQ1BceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczIKCQkJCQkJCWNlayA9IG9wZW4oIm91dC9jaGVja3BvaW50LnR4dCIsICJrIikKCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzMisiXG4iKQoJCQkJCQkJY2VrLmNsb3NlKCkKCQkJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3MyKQoJCQkJCQllbHNlOgoJCQkJCQkJcGFzczMgPSB5WydmaXJzdF9uYW1lJ10gKyAnMTIzJwoJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczMpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJcyA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gczoKCQkJCQkJCQlwcmludCAnXHgxYlsxOzkybUlEX09LXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3MzCgkJCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3MzKQoJCQkJCQkJZWxzZToKCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gc1siZXJyb3JfbXNnIl06CgkJCQkJCQkJCXByaW50ICdceDFiWzE7OTdtSURfQ1BceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczMKCQkJCQkJCQkJY2VrID0gb3Blbigib3V0L2NoZWNrcG9pbnQudHh0IiwgImsiKQoJCQkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczMrIlxuIikKCQkJCQkJCQkJY2VrLmNsb3NlKCkKCQkJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczMpCgkJCQkJCQkJZWxzZToKCQkJCQkJCQkJcGFzczQgPSB5WydmaXJzdF9uYW1lJ10gKyAnMTIzNDUnCgkJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3M0KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCQkJcyA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBzOgoJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Mm1JRF9PS1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzNAoJCQkJCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3M0KQoJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHNbImVycm9yX21zZyJdOgoJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTdtSURfQ1BceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczQKCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvY2hlY2twb2ludC50eHQiLCAiayIpCgkJCQkJCQkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3M0KyJcbiIpCgkJCQkJCQkJCQkJY2VrLmNsb3NlKCkKCQkJCQkJCQkJCQljZWtwb2ludC5hcHBlbmQodXNlcitwYXNzNCkKCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJcGFzczUgPSB5WydmaXJzdF9uYW1lJ10gKyAnNzg2JwoJCQkJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3M1KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCQkJCQlzID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gczoKCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Mm1JRF9PS1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzNQoJCQkJCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczUpCgkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHNbImVycm9yX21zZyJdOgoJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5N21JRF9DUFx4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzNQoJCQkJCQkJCQkJCQkJY2VrID0gb3Blbigib3V0L2NoZWNrcG9pbnQudHh0IiwgImsiKQoJCQkJCQkJCQkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3M1KyJcbiIpCgkJCQkJCQkJCQkJCQljZWsuY2xvc2UoKQoJCQkJCQkJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczUpCgkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQlwYXNzNiA9IHlbJ2xhc3RfbmFtZSddICsgJzEyMycKCQkJCQkJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3M2KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCQkJCQkJCXMgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHM6CgkJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Mm1JRF9PS1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXHgxYlsxOzk3bScgKyBwYXNzNgoJCQkJCQkJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzNikKCQkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHNbImVycm9yX21zZyJdOgoJCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk3bUlEX0NQXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3M2CgkJCQkJCQkJCQkJCQkJCWNlayA9IG9wZW4oIm91dC9jaGVja3BvaW50LnR4dCIsICJrIikKCQkJCQkJCQkJCQkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3M2KyJcbiIpCgkJCQkJCQkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCQkJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3M2KQoJCQkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQkJCXBhc3M3ID0geVsnbGFzdF9uYW1lJ10gKyAnNzg2JwoJCQkJCQkJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzNykrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQkJCQkJCQkJCXMgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gczoKCQkJCQkJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTJtSURfT0tceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczcKCQkJCQkJCQkJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzNykKCQkJCQkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBzWyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk3bUlEX0NQXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3M3CgkJCQkJCQkJCQkJCQkJCQkJY2VrID0gb3Blbigib3V0L2NoZWNrcG9pbnQudHh0IiwgImsiKQoJCQkJCQkJCQkJCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzNysiXG4iKQoJCQkJCQkJCQkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCQkJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczcpCgkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkgICAJCgkJCQkJCQkJCQkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoJCWV4Y2VwdDoKCQkJcGFzcwoJCQoJcCA9IFRocmVhZFBvb2woMzApCglwLm1hcChtYWluLCBpZCkKCXByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKCXByaW50ICdcMDMzWzE7OTZtW1wwMzNbMTs5N23inJNcMDMzWzE7OTZtXSBcMDMzWzE7OTJtUHJvY2VzcyBIYXMgQmVlbiBDb21wbGV0ZWQgXDAzM1sxOzk3bS4uLi4nCglwcmludCJcMDMzWzE7OTZtWytdIFwwMzNbMTs5Mm1Ub3RhbCBPSy9ceDFiWzE7OTNtQ1AgXDAzM1sxOzkxbTogXDAzM1sxOzkybSIrc3RyKGxlbihva3MpKSsiXDAzM1sxOzk3bS9cMDMzWzE7OTNtIitzdHIobGVuKGNla3BvaW50KSkKCXByaW50KCJcMDMzWzE7OTZtWytdIFwwMzNbMTs5Mm1DUCBGaWxlIEhhcyBCZWVuIFNhdmVkIFwwMzNbMTs5MW06IFwwMzNbMTs5N21vdXQvY2hlY2twb2ludC50eHQiKQoJcmF3X2lucHV0KCJcblwwMzNbMTs5Nm1bXDAzM1sxOzk3bUJhY2tcMDMzWzE7OTZtXSIpCgltZW51KCkKCQpkZWYgamFwYW54KCk6CglnbG9iYWwgdG9rZXQKCW9zLnN5c3RlbSgnY2xlYXInKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50Ilx4MWJbMTs5MW1Ub2tlbiBpbnZhbGlkIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgnY2xlYXInKQoJcHJpbnQgbG9nbwoJcHJpbnQgIlwwMzNbMTs5N20g4pqUwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK74pqUIgogICAgICAgIHByaW50KCAiXHgxYlsxOzMyOzkybVsxXSBcMDMzWzE7MzM7OTNt4pyqIENyYWNrIEZyb20gRnJpZW5kbGlzdCIpIAoJdGltZS5zbGVlcCgwLjA1KQoJcHJpbnQoICJceDFiWzE7MzI7OTJtWzJdIFwwMzNbMTszMzs5OG3inKogQ3JhY2sgRnJvbSBQdWJsaWMgSUQiKSAKCXRpbWUuc2xlZXAoMC4wNSkKCXByaW50KCAiXHgxYlsxOzMyOzM2bVswXSBcMDMzWzE7MzM7OTZt4pyqIEJhY2siKSAKCXByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKCXBpbGloX2phcGFueCgpCgpkZWYgcGlsaWhfamFwYW54KCk6CglwZWFrID0gcmF3X2lucHV0KCJcblwwMzNbMTszMTs0MG0+Pj4gXDAzM1sxOzk3bSIpCglpZiBwZWFrID09IiI6CgkJcHJpbnQgIlx4MWJbMTs5MW1GaWxsIGluIGNvcnJlY3RseSIKCQlwaWxpaF9qYXBhbngoKQogICAgICAgIGVsaWYgcGVhayA9PSIxIjoKCQlvcy5zeXN0ZW0oJ2NsZWFyJykKCQlwcmludCBsb2dvCgkJcHJpbnQgIlwwMzNbMTs5N20g4pqUwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK74pqUIgoJCWphbGFuKCdcMDMzWzE7OTZtW+KYkV0gXDAzM1sxOzkybUdldHRpbmcgSUQgXDAzM1sxOzk3bS4uLicpCgkJciA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZnJpZW5kcz9hY2Nlc3NfdG9rZW49Iit0b2tldCkKCQl6ID0ganNvbi5sb2FkcyhyLnRleHQpCgkJZm9yIHMgaW4gelsnZGF0YSddOgoJCQlpZC5hcHBlbmQoc1snaWQnXSkKCWVsaWYgcGVhayA9PSIyIjoKCQlvcy5zeXN0ZW0oJ2NsZWFyJykKCQlwcmludCBsb2dvCgkJcHJpbnQgIlwwMzNbMTs5N20gwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK7IgoJCWlkdCA9IHJhd19pbnB1dCgiXDAzM1sxOzk2bVvimJFdXDAzM1sxOzkzbSBFbnRlciBJRC9VU0VSTkFNRVwwMzNbMTs5MW0gOiAiKQoJCXRyeToKCQkJam9rID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkdCsiP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCQlvcCA9IGpzb24ubG9hZHMoam9rLnRleHQpCgkJCXByaW50IlwwMzNbMTszMTszN21b4piRXSBOYW1lIDogIitvcFsibmFtZSJdCgkJZXhjZXB0IEtleUVycm9yOgoJCQlwcmludCJceDFiWzE7MzdtW+KYkV0gSUQgTm90IEZvdW5kISIKCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5Nm1bXDAzM1sxOzk0bUJhY2tcMDMzWzE7OTZtXSIpCgkJCXN1cGVyKCkKCQlwcmludCJcMDMzWzE7MzU7MzdtW+KYkV0gR2V0dGluZyBJRCBMb2FkaW5nIHByb2Nlc3MuLi4uLi4uLiAiCgkJciA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZHQrIi9mcmllbmRzP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCXogPSBqc29uLmxvYWRzKHIudGV4dCkKCQlmb3IgaSBpbiB6WydkYXRhJ106CgkJCWlkLmFwcGVuZChpWydpZCddKQoJZWxpZiBwZWFrID09IjAiOgoJCW1lbnUoKQoJZWxzZToKCQlwcmludCAiXHgxYlsxOzkxbUZpbGwgaW4gY29ycmVjdGx5IgoJCXBpbGloX3N1cGVyKCkKCglwcmludCAiXDAzM1sxOzM2Ozk2bVvimJFdIFRvdGFsIElEcyA6IFwwMzNbMTs5Mm0iK3N0cihsZW4oaWQpKQoJamFsYW4oJ1wwMzNbMTszNDs5Nm1b4piRXSBQbGVhc2UgV2FpdCAnKQoJdGl0aWsgPSBbJy4gICAnLCcuLiAgJywnLi4uICddCglmb3IgbyBpbiB0aXRpazoKCQlwcmludCgiXHJcMDMzWzE7OTNtQ2xvbmluZ1wwMzNbMTs5M20iK28pLDtzeXMuc3Rkb3V0LmZsdXNoKCk7dGltZS5zbGVlcCgxKQoJcHJpbnQgIlxuXDAzM1sxOzk3bSAg4pqUwqstLS0tLVx4MWJbMTs5MW3jgJBUbyBTdG9wIFByb2Nlc3MgUHJlc3MgQ1RSTCta44CRXDAzM1sxOzk3bS0tLS3Cu+KalCIKCXByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKCWphbGFuKCcgICBcMDMzWzE7OTNtUGxlYXNlIFdhaXQgQ2xvbmVkIEFjY291bnRzIFdpbGwgQXBwZWFyIEhlcmUnKQogICAgICAgIGphbGFuKCcgXDAzM1sxOzkxbSAgICAgICAgICAgIENyZWF0ZSBCeSA6IEZBUklZQSBLSEFOJykKCXByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKCglkZWYgbWFpbihhcmcpOgoJCWdsb2JhbCBva3MKCQl1c2VyID0gYXJnCgkJdHJ5OgoJCQlvcy5ta2Rpcignb3V0JykKCQlleGNlcHQgT1NFcnJvcjoKCQkJcGFzcyAjRGV2OkZBUklZQUtIQU4KCQl0cnk6CQkJCQkJCQkJCQkJCQoJCQlrID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nK3VzZXIrJy8/YWNjZXNzX3Rva2VuPScrdG9rZXQpCgkJCXkgPSBqc29uLmxvYWRzKGsudGV4dCkKCQkJcGFzczEgPSAoJzc4Njc4NicpCgkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3MxKSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJcyA9IGpzb24ubG9hZChkYXRhKQoJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBzOgoJCQkJcHJpbnQgJ1x4MWJbMTs5Mm1JRF9PS1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzMQoJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3MxKQoJCQllbHNlOgoJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHNbImVycm9yX21zZyJdOgoJCQkJCXByaW50ICdceDFiWzE7OTdtSURfQ1BceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczEKCQkJCQljZWsgPSBvcGVuKCJvdXQvY2hlY2twb2ludC50eHQiLCAiayIpCgkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3MxKyJcbiIpCgkJCQkJY2VrLmNsb3NlKCkKCQkJCQljZWtwb2ludC5hcHBlbmQodXNlcitwYXNzMSkKCQkJCWVsc2U6CgkJCQkJcGFzczIgPSAoJ0phcGFuMTIzJykgCgkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczIpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCXMgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBzOgoJCQkJCQlwcmludCAnXHgxYlsxOzkybUlEX09LXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3MyCgkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzMikKCQkJCQllbHNlOgoJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gc1siZXJyb3JfbXNnIl06CgkJCQkJCQlwcmludCAnXHgxYlsxOzk3bUlEX0NQXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3MyCgkJCQkJCQljZWsgPSBvcGVuKCJvdXQvY2hlY2twb2ludC50eHQiLCAiayIpCgkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczIrIlxuIikKCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQljZWtwb2ludC5hcHBlbmQodXNlcitwYXNzMikKCQkJCQkJZWxzZToKCQkJCQkJCXBhc3MzID0geVsnZmlyc3RfbmFtZSddICsgJzEyMycKCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3MzKSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCXMgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHM6CgkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Mm1JRF9PS1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzMwoJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzMykKCQkJCQkJCWVsc2U6CgkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHNbImVycm9yX21zZyJdOgoJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk3bUlEX0NQXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3MzCgkJCQkJCQkJCWNlayA9IG9wZW4oIm91dC9jaGVja3BvaW50LnR4dCIsICJrIikKCQkJCQkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3MzKyJcbiIpCgkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3MzKQoJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCXBhc3M0ID0geVsnZmlyc3RfbmFtZSddICsgJzEyMzQ1JwoJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzNCkrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQkJCXMgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gczoKCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTJtSURfT0tceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczQKCQkJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzNCkKCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBzWyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk3bUlEX0NQXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3M0CgkJCQkJCQkJCQkJY2VrID0gb3Blbigib3V0L2NoZWNrcG9pbnQudHh0IiwgImsiKQoJCQkJCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzNCsiXG4iKQoJCQkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczQpCgkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCXBhc3M1ID0geVsnZmlyc3RfbmFtZSddICsgJzc4NicKCQkJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzNSkrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQkJCQkJcyA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHM6CgkJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTJtSURfT0tceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczUKCQkJCQkJCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3M1KQoJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBzWyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTdtSURfQ1BceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczUKCQkJCQkJCQkJCQkJCWNlayA9IG9wZW4oIm91dC9jaGVja3BvaW50LnR4dCIsICJrIikKCQkJCQkJCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzNSsiXG4iKQoJCQkJCQkJCQkJCQkJY2VrLmNsb3NlKCkKCQkJCQkJCQkJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3M1KQoJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJcGFzczYgPSB5WydsYXN0X25hbWUnXSArICcxMjMnCgkJCQkJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzNikrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQkJCQkJCQlzID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBzOgoJCQkJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTJtSURfT0tceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVx4MWJbMTs5N20nICsgcGFzczYKCQkJCQkJCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczYpCgkJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBzWyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5N21JRF9DUFx4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzNgoJCQkJCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvY2hlY2twb2ludC50eHQiLCAiayIpCgkJCQkJCQkJCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzNisiXG4iKQoJCQkJCQkJCQkJCQkJCQljZWsuY2xvc2UoKQoJCQkJCQkJCQkJCQkJCQljZWtwb2ludC5hcHBlbmQodXNlcitwYXNzNikKCQkJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJCQlwYXNzNyA9IHlbJ2xhc3RfbmFtZSddICsgJzc4NicKCQkJCQkJCQkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczcpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCQkJCQkJCQlzID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHM6CgkJCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzkybUlEX09LXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3M3CgkJCQkJCQkJCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczcpCgkJCQkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gc1siZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5N21JRF9DUFx4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzNwoJCQkJCQkJCQkJCQkJCQkJCWNlayA9IG9wZW4oIm91dC9jaGVja3BvaW50LnR4dCIsICJrIikKCQkJCQkJCQkJCQkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczcrIlxuIikKCQkJCQkJCQkJCQkJCQkJCQljZWsuY2xvc2UoKQoJCQkJCQkJCQkJCQkJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3M3KQoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJICAgCQoJCQkJCQkJCQkJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCQlleGNlcHQ6CgkJCXBhc3MKCQkKCXAgPSBUaHJlYWRQb29sKDMwKQoJcC5tYXAobWFpbiwgaWQpCglwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCglwcmludCAnXDAzM1sxOzk2bVtcMDMzWzE7OTdt4pyTXDAzM1sxOzk2bV0gXDAzM1sxOzkybVByb2Nlc3MgSGFzIEJlZW4gQ29tcGxldGVkIFwwMzNbMTs5N20uLi4uJwoJcHJpbnQiXDAzM1sxOzk2bVsrXSBcMDMzWzE7OTJtVG90YWwgT0svXHgxYlsxOzkzbUNQIFwwMzNbMTs5MW06IFwwMzNbMTs5Mm0iK3N0cihsZW4ob2tzKSkrIlwwMzNbMTs5N20vXDAzM1sxOzkzbSIrc3RyKGxlbihjZWtwb2ludCkpCglwcmludCgiXDAzM1sxOzk2bVsrXSBcMDMzWzE7OTJtQ1AgRmlsZSBIYXMgQmVlbiBTYXZlZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtb3V0L2NoZWNrcG9pbnQudHh0IikKCXJhd19pbnB1dCgiXG5cMDMzWzE7OTZtW1wwMzNbMTs5N21CYWNrXDAzM1sxOzk2bV0iKQoJbWVudSgpCgkKZGVmIGhhY2tpbmd4KCk6CiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgIHRyeToKICAgICAgICB0b2tldCA9IG9wZW4oJ2xvZ2luLnR4dCcsICdyJykucmVhZCgpCiAgICBleGNlcHQgSU9FcnJvcjoKICAgICAgICBwcmludCAnXHgxYlsxOzkxbVshXSBUb2tlbiBub3QgZm91bmQnCiAgICAgICAgb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKICAgICAgICB0aW1lLnNsZWVwKDAuMDAxKQogICAgICAgIGxvZ2luKCkKICAgIGVsc2U6CiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICAgICAgcHJpbnQgbG9nbwogICAgICAgIHByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKICAgICAgICB0cnk6CiAgICAgICAgICAgIGVtYWlsID0gcmF3X2lucHV0KCdceDFiWzE7OTFtWytdIFx4MWJbMTs5M21JRFx4MWJbMTs5N20vXHgxYlsxOzkxbUVtYWlsIFx4MWJbMTs5Mm1UYXJnZXQgXHgxYlsxOzkxbTpceDFiWzE7OTFtICcpCiAgICAgICAgICAgIHBhc3N3ID0gcmF3X2lucHV0KCdceDFiWzE7OTFtWytdIFx4MWJbMTs5Nm1Xb3JkbGlzdCBceDFiWzE7OTdtKFR5cGXwn5GJZmFyaXlha2hhbi50eHQpIFx4MWJbMTs5MW06IFx4MWJbMTs5N20nKQogICAgICAgICAgICB0b3RhbCA9IG9wZW4ocGFzc3csICdyJykKICAgICAgICAgICAgdG90YWwgPSB0b3RhbC5yZWFkbGluZXMoKQogICAgICAgICAgICBwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCiAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTNtW1x4MWJbMTs5Nm1ceGUyXHg5Y1x4OTNceDFiWzE7OTFtXSBceDFiWzE7OTJtVGFyZ2V0IFx4MWJbMTs5MW06XHgxYlsxOzk3bSAnICsgZW1haWwKICAgICAgICAgICAgdGltZS5zbGVlcCgwLjA1KQogICAgICAgICAgICBwcmludCAnXHgxYlsxOzkzbVsrXSBceDFiWzE7OTNtVG90YWxceDFiWzE7OTRtICcgKyBzdHIobGVuKHRvdGFsKSkgKyAnIFx4MWJbMTs5Mm1QYXNzd29yZCcKICAgICAgICAgICAgdGltZS5zbGVlcCgwLjA1KQogICAgICAgICAgICBqYWxhbignXHgxYlsxOzkzbVtceGUyXHg5Y1x4YmFdIFx4MWJbMTs5N21QbGVhc2Ugd2FpdCBceDFiWzE7OTdtLi4uJykKICAgICAgICAgICAgcHJpbnQgIlwwMzNbMTs5N20g4pqUwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK74pqUIgogICAgICAgICAgICBzYW5kaSA9IG9wZW4ocGFzc3csICdyJykKICAgICAgICAgICAgZm9yIHB3IGluIHNhbmRpOgogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIHB3ID0gcHcucmVwbGFjZSgnXG4nLCAnJykKICAgICAgICAgICAgICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKCdcclx4MWJbMTs5MW1bXHgxYlsxOzk2bVx4ZTJceDljXHhiOFx4MWJbMTs5MW1dIFx4MWJbMTs5Mm1UcnkgXHgxYlsxOzk3bScgKyBwdykKICAgICAgICAgICAgICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICAgICAgICAgICAgICBkYXRhID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIGVtYWlsICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIHB3ICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNicpCiAgICAgICAgICAgICAgICAgICAgbXBzaCA9IGpzb24ubG9hZHMoZGF0YS50ZXh0KQogICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIG1wc2g6CiAgICAgICAgICAgICAgICAgICAgICAgIGRhcGF0ID0gb3BlbignQnJ1dGUudHh0JywgJ3cnKQogICAgICAgICAgICAgICAgICAgICAgICBkYXBhdC53cml0ZShlbWFpbCArICcg4pePICcgKyBwdyArICdcbicpCiAgICAgICAgICAgICAgICAgICAgICAgIGRhcGF0LmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzkxbVsrXSBceDFiWzE7OTJtRm91bmRlZC4nCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKICAgICAgICAgICAgICAgICAgICAgICAgdGltZS5zbGVlcCgwLjA1KQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkxbVtceGUyXHg5ZVx4YjldIFx4MWJbMTs5NW1Vc2VybmFtZSBceDFiWzE7OTFtOlx4MWJbMTs5Mm0gJyArIGVtYWlsCiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMC4wNSkKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5MW1bXHhlMlx4OWVceGI5XSBceDFiWzE7OTFtUGFzc3dvcmQgXHgxYlsxOzkxbTpceDFiWzE7OTFtICcgKyBwdwogICAgICAgICAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKDAuMDUpCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKICAgICAgICAgICAgICAgICAgICAgICAga2VsdWFyKCkKICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICBpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gbXBzaFsnZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWtzID0gb3BlbignQnJ1dGVjZWtwb2ludC50eHQnLCAndycpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWtzLndyaXRlKGVtYWlsICsgJyB8ICcgKyBwdyArICdcbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWtzLmNsb3NlKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5MW1bK10gXHgxYlsxOzkybUZvdW5kZWQuJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgIlwwMzNbMTs5N20g4pqUwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK74pqUIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5MW1bIV0gXHgxYlsxOzkzbUFjY291bnQgTWF5YmUgQ2hlY2twb2ludCA6KCcKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMC4wNSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTRtW1x4ZTJceDllXHhiOV0gXHgxYlsxOzkxbVVzZXJuYW1lIFx4MWJbMTs5M206XHgxYlsxOzkybSAnICsgZW1haWwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMC4wNSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTRtW1x4ZTJceDllXHhiOV0gXHgxYlsxOzkxbVBhc3N3b3JkIFx4MWJbMTs5M206XHgxYlsxOzkybSAnICsgcHcKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtlbHVhcigpCiAgICAgICAgICAgICAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5MW1bIV0gQ29ubmVjdGlvbiBFcnJvcicKICAgICAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKDEpCgogICAgICAgIGV4Y2VwdCBJT0Vycm9yOgogICAgICAgICAgICBwcmludCAnXHgxYlsxOzkxbVshXSBGaWxlIG5vdCBmb3VuZC4uLicKICAgICAgICAgICAgcHJpbnQgIiIiXG5ceDFiWzE7OTFtWyFdIFx4MWJbMTs5M21BZGQgYW5vdGhlciB3b3JkbGlzdCBjb3JyZWN0IG5hbWUiIiIKICAgICAgICAgICAgc3VwZXIoKQogICAgICAgICAgCmRlZiBjaGluZXNleCgpOgoJZ2xvYmFsIHRva2V0Cglvcy5zeXN0ZW0oJ2NsZWFyJykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJceDFiWzE7OTFtVG9rZW4gaW52YWxpZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCglvcy5zeXN0ZW0oJ2NsZWFyJykKCXByaW50IGxvZ28KCXByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKICAgICAgICBwcmludCggIlx4MWJbMTszMjs5Mm1bMV0gXDAzM1sxOzMzOzkzbeKcqiBDcmFjayBGcm9tIEZyaWVuZGxpc3QiKSAKCXRpbWUuc2xlZXAoMC4wNSkKCXByaW50KCAiXHgxYlsxOzMyOzkybVsyXSBcMDMzWzE7MzM7OTht4pyqIENyYWNrIEZyb20gUHVibGljIElEIikgCgl0aW1lLnNsZWVwKDAuMDUpCglwcmludCggIlx4MWJbMTszMjszNm1bMF0gXDAzM1sxOzMzOzk2beKcqiBCYWNrIikgCglwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCglwaWxpaF9jaGluZXNleCgpCgpkZWYgcGlsaWhfY2hpbmVzZXgoKToKCXBlYWsgPSByYXdfaW5wdXQoIlxuXDAzM1sxOzMxOzQwbT4+PiBcMDMzWzE7OTdtIikKCWlmIHBlYWsgPT0iIjoKCQlwcmludCAiXHgxYlsxOzkxbUZpbGwgaW4gY29ycmVjdGx5IgoJCXBpbGloX2NoaW5lc2V4KCkKICAgICAgICBlbGlmIHBlYWsgPT0iMSI6CgkJb3Muc3lzdGVtKCdjbGVhcicpCgkJcHJpbnQgbG9nbwoJCXByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKCQlqYWxhbignXDAzM1sxOzk2bVvimJFdIFwwMzNbMTs5Mm1HZXR0aW5nIElEIFwwMzNbMTs5N20uLi4nKQoJCXIgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJeiA9IGpzb24ubG9hZHMoci50ZXh0KQoJCWZvciBzIGluIHpbJ2RhdGEnXToKCQkJaWQuYXBwZW5kKHNbJ2lkJ10pCgllbGlmIHBlYWsgPT0iMiI6CgkJb3Muc3lzdGVtKCdjbGVhcicpCgkJcHJpbnQgbG9nbwoJCXByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKCQlpZHQgPSByYXdfaW5wdXQoIlwwMzNbMTs5Nm1b4piRXVwwMzNbMTs5M20gRW50ZXIgSUQvVVNFUk5BTUVcMDMzWzE7OTFtIDogIikKCQl0cnk6CgkJCWpvayA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZHQrIj9hY2Nlc3NfdG9rZW49Iit0b2tldCkKCQkJb3AgPSBqc29uLmxvYWRzKGpvay50ZXh0KQoJCQlwcmludCJcMDMzWzE7MzE7MzdtW+KYkV0gTmFtZSA6ICIrb3BbIm5hbWUiXQoJCWV4Y2VwdCBLZXlFcnJvcjoKCQkJcHJpbnQiXHgxYlsxOzM3bVvimJFdIElEIE5vdCBGb3VuZCEiCgkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTZtW1wwMzNbMTs5NG1CYWNrXDAzM1sxOzk2bV0iKQoJCQlzdXBlcigpCgkJcHJpbnQiXDAzM1sxOzM1OzM3bVvimJFdIEdldHRpbmcgSUQgTG9hZGluZyBwcm9jZXNzLi4uLi4uLi4gIgoJCXIgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyIvZnJpZW5kcz9hY2Nlc3NfdG9rZW49Iit0b2tldCkKCQl6ID0ganNvbi5sb2FkcyhyLnRleHQpCgkJZm9yIGkgaW4gelsnZGF0YSddOgoJCQlpZC5hcHBlbmQoaVsnaWQnXSkKCWVsaWYgcGVhayA9PSIwIjoKCQltZW51KCkKCWVsc2U6CgkJcHJpbnQgIlx4MWJbMTs5MW1GaWxsIGluIGNvcnJlY3RseSIKCQlwaWxpaF9zdXBlcigpCgoJcHJpbnQgIlwwMzNbMTszNjs5Nm1b4piRXSBUb3RhbCBJRHMgOiBcMDMzWzE7OTJtIitzdHIobGVuKGlkKSkKCWphbGFuKCdcMDMzWzE7MzQ7OTZtW+KYkV0gUGxlYXNlIFdhaXQgJykKCXRpdGlrID0gWycuICAgJywnLi4gICcsJy4uLiAnXQoJZm9yIG8gaW4gdGl0aWs6CgkJcHJpbnQoIlxyXDAzM1sxOzkzbUNsb25pbmdcMDMzWzE7OTNtIitvKSw7c3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMSkKCXByaW50ICJcblwwMzNbMTs5N20gIOKalMKrLS0tLS1ceDFiWzE7OTFt44CQVG8gU3RvcCBQcm9jZXNzIFByZXNzIENUUkwrWuOAkVwwMzNbMTs5N20tLS0twrvimpQiCglwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCglqYWxhbignICAgXDAzM1sxOzkzbVBsZWFzZSBXYWl0IENsb25lZCBBY2NvdW50cyBXaWxsIEFwcGVhciBIZXJlJykKICAgICAgICBqYWxhbignIFwwMzNbMTs5MW0gICAgICAgICAgICBDcmVhdGUgQnkgOiBGQVJJWUEgS0hBTicpCglwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCgoJZGVmIG1haW4oYXJnKToKCQlnbG9iYWwgb2tzCgkJdXNlciA9IGFyZwoJCXRyeToKCQkJb3MubWtkaXIoJ291dCcpCgkJZXhjZXB0IE9TRXJyb3I6CgkJCXBhc3MgI0RldjpGQVJJWUFLSEFOCgkJdHJ5OgkJCQkJCQkJCQkJCQkKCQkJayA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyt1c2VyKycvP2FjY2Vzc190b2tlbj0nK3Rva2V0KQoJCQl5ID0ganNvbi5sb2FkcyhrLnRleHQpCgkJCXBhc3MxID0gKCc3ODY3ODYnKQoJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzMSkrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCXMgPSBqc29uLmxvYWQoZGF0YSkKCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gczoKCQkJCXByaW50ICdceDFiWzE7OTJtSURfT0tceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczEKCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzMSkKCQkJZWxzZToKCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBzWyJlcnJvcl9tc2ciXToKCQkJCQlwcmludCAnXHgxYlsxOzk3bUlEX0NQXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3MxCgkJCQkJY2VrID0gb3Blbigib3V0L2NoZWNrcG9pbnQudHh0IiwgImsiKQoJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzMSsiXG4iKQoJCQkJCWNlay5jbG9zZSgpCgkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczEpCgkJCQllbHNlOgoJCQkJCXBhc3MyID0geVsnbGFzdF9uYW1lJ10gKyAnMTIzNDUnCgkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczIpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCXMgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBzOgoJCQkJCQlwcmludCAnXHgxYlsxOzkybUlEX09LXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3MyCgkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzMikKCQkJCQllbHNlOgoJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gc1siZXJyb3JfbXNnIl06CgkJCQkJCQlwcmludCAnXHgxYlsxOzk3bUlEX0NQXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3MyCgkJCQkJCQljZWsgPSBvcGVuKCJvdXQvY2hlY2twb2ludC50eHQiLCAiayIpCgkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczIrIlxuIikKCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQljZWtwb2ludC5hcHBlbmQodXNlcitwYXNzMikKCQkJCQkJZWxzZToKCQkJCQkJCXBhc3MzID0geVsnZmlyc3RfbmFtZSddICsgJzEyMycKCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3MzKSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCXMgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHM6CgkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Mm1JRF9PS1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzMwoJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzMykKCQkJCQkJCWVsc2U6CgkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHNbImVycm9yX21zZyJdOgoJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk3bUlEX0NQXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3MzCgkJCQkJCQkJCWNlayA9IG9wZW4oIm91dC9jaGVja3BvaW50LnR4dCIsICJrIikKCQkJCQkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3MzKyJcbiIpCgkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3MzKQoJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCXBhc3M0ID0geVsnZmlyc3RfbmFtZSddICsgJzEyMzQ1JwoJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzNCkrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQkJCXMgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gczoKCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTJtSURfT0tceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczQKCQkJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzNCkKCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBzWyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk3bUlEX0NQXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3M0CgkJCQkJCQkJCQkJY2VrID0gb3Blbigib3V0L2NoZWNrcG9pbnQudHh0IiwgImsiKQoJCQkJCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzNCsiXG4iKQoJCQkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczQpCgkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCXBhc3M1ID0geVsnZmlyc3RfbmFtZSddICsgJzc4NicKCQkJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzNSkrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQkJCQkJcyA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHM6CgkJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTJtSURfT0tceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczUKCQkJCQkJCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3M1KQoJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBzWyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTdtSURfQ1BceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczUKCQkJCQkJCQkJCQkJCWNlayA9IG9wZW4oIm91dC9jaGVja3BvaW50LnR4dCIsICJrIikKCQkJCQkJCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzNSsiXG4iKQoJCQkJCQkJCQkJCQkJY2VrLmNsb3NlKCkKCQkJCQkJCQkJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3M1KQoJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJcGFzczYgPSB5WydsYXN0X25hbWUnXSArICcxMjMnCgkJCQkJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzNikrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQkJCQkJCQlzID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBzOgoJCQkJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTJtSURfT0tceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVx4MWJbMTs5N20nICsgcGFzczYKCQkJCQkJCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczYpCgkJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBzWyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5N21JRF9DUFx4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzNgoJCQkJCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvY2hlY2twb2ludC50eHQiLCAiayIpCgkJCQkJCQkJCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzNisiXG4iKQoJCQkJCQkJCQkJCQkJCQljZWsuY2xvc2UoKQoJCQkJCQkJCQkJCQkJCQljZWtwb2ludC5hcHBlbmQodXNlcitwYXNzNikKCQkJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJCQlwYXNzNyA9IHlbJ2xhc3RfbmFtZSddICsgJzc4NicKCQkJCQkJCQkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczcpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCQkJCQkJCQlzID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHM6CgkJCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzkybUlEX09LXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3M3CgkJCQkJCQkJCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczcpCgkJCQkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gc1siZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5N21JRF9DUFx4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzNwoJCQkJCQkJCQkJCQkJCQkJCWNlayA9IG9wZW4oIm91dC9jaGVja3BvaW50LnR4dCIsICJrIikKCQkJCQkJCQkJCQkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczcrIlxuIikKCQkJCQkJCQkJCQkJCQkJCQljZWsuY2xvc2UoKQoJCQkJCQkJCQkJCQkJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3M3KQoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJICAgCQoJCQkJCQkJCQkJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCQlleGNlcHQ6CgkJCXBhc3MKCQkKCXAgPSBUaHJlYWRQb29sKDMwKQoJcC5tYXAobWFpbiwgaWQpCglwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCglwcmludCAnXDAzM1sxOzk2bVtcMDMzWzE7OTdt4pyTXDAzM1sxOzk2bV0gXDAzM1sxOzkybVByb2Nlc3MgSGFzIEJlZW4gQ29tcGxldGVkIFwwMzNbMTs5N20uLi4uJwoJcHJpbnQiXDAzM1sxOzk2bVsrXSBcMDMzWzE7OTJtVG90YWwgT0svXHgxYlsxOzkzbUNQIFwwMzNbMTs5MW06IFwwMzNbMTs5Mm0iK3N0cihsZW4ob2tzKSkrIlwwMzNbMTs5N20vXDAzM1sxOzkzbSIrc3RyKGxlbihjZWtwb2ludCkpCglwcmludCgiXDAzM1sxOzk2bVsrXSBcMDMzWzE7OTJtQ1AgRmlsZSBIYXMgQmVlbiBTYXZlZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtb3V0L2NoZWNrcG9pbnQudHh0IikKCXJhd19pbnB1dCgiXG5cMDMzWzE7OTZtW1wwMzNbMTs5N21CYWNrXDAzM1sxOzk2bV0iKQoJbWVudSgpCgkKZGVmIHBvc3R4KCk6CglnbG9iYWwgdG9rZXQKCW9zLnN5c3RlbSgnY2xlYXInKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50Ilx4MWJbMTs5MW1Ub2tlbiBpbnZhbGlkIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgnY2xlYXInKQoJcHJpbnQgbG9nbwoJcHJpbnQgIlwwMzNbMTs5N20g4pqUwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK74pqUIgoJcHJpbnQoICJceDFiWzE7MzI7OTJtWzFdIFwwMzNbMTszMzs5OG0+PiBFbnRlciBQb3N0cyBsaW5rIGZvciBDbG9uaW5nIikgCgl0aW1lLnNsZWVwKDAuMDUpCglwcmludCggIlx4MWJbMTszMjszNm1bMF0gXDAzM1sxOzMzOzk2bT4+IEJhY2siKSAKCXByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKCXBpbGloX3Bvc3R4KCkKCmRlZiBwaWxpaF9wb3N0eCgpOgoJcGVhayA9IHJhd19pbnB1dCgiXG5cMDMzWzE7MzE7NDBtPj4+IFwwMzNbMTs5N20iKQoJaWYgcGVhayA9PSIiOgoJCXByaW50ICJceDFiWzE7OTFtRmlsbCBpbiBjb3JyZWN0bHkiCgkJcGlsaWhfcG9zdHgoKSAgICAgCgllbGlmIHBlYWsgPT0iMSI6CgkJb3Muc3lzdGVtKCdjbGVhcicpCgkJcHJpbnQgbG9nbwoJCXByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKCQlpZHQgPSByYXdfaW5wdXQoIlwwMzNbMTs5Nm1b4piRXVwwMzNbMTs5M20gRW50ZXIgSUQvVVNFUk5BTUVcMDMzWzE7OTFtIDogIikKCQl0cnk6CgkJCWpvayA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZHQrIj9hY2Nlc3NfdG9rZW49Iit0b2tldCkKCQkJb3AgPSBqc29uLmxvYWRzKGpvay50ZXh0KQoJCQlwcmludCJcMDMzWzE7MzE7MzdtW+KYkV0gTmFtZSA6ICIrb3BbIm5hbWUiXQoJCWV4Y2VwdCBLZXlFcnJvcjoKCQkJcHJpbnQiXHgxYlsxOzM3bVvimJFdIElEIE5vdCBGb3VuZCEiCgkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTZtW1wwMzNbMTs5NG1CYWNrXDAzM1sxOzk2bV0iKQoJCQlzdXBlcigpCgkJcHJpbnQiXDAzM1sxOzM1OzM3bVvimJFdIEdldHRpbmcgSUQgTG9hZGluZyBwcm9jZXNzLi4uLi4uLi4gIgoJCXIgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyIvZnJpZW5kcz9hY2Nlc3NfdG9rZW49Iit0b2tldCkKCQl6ID0ganNvbi5sb2FkcyhyLnRleHQpCgkJZm9yIGkgaW4gelsnZGF0YSddOgoJCQlpZC5hcHBlbmQoaVsnaWQnXSkKCWVsaWYgcGVhayA9PSIwIjoKCQltZW51KCkKCWVsc2U6CgkJcHJpbnQgIlx4MWJbMTs5MW1GaWxsIGluIGNvcnJlY3RseSIKCQlwaWxpaF9zdXBlcigpCgoJcHJpbnQgIlwwMzNbMTszNjs5Nm1b4piRXSBUb3RhbCBJRHMgOiBcMDMzWzE7OTJtIitzdHIobGVuKGlkKSkKCWphbGFuKCdcMDMzWzE7MzQ7OTZtW+KYkV0gUGxlYXNlIFdhaXQgJykKCXRpdGlrID0gWycuICAgJywnLi4gICcsJy4uLiAnXQoJZm9yIG8gaW4gdGl0aWs6CgkJcHJpbnQoIlxyXDAzM1sxOzkzbUNsb25pbmdcMDMzWzE7OTNtIitvKSw7c3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMSkKCXByaW50ICJcblwwMzNbMTs5N20gIOKalMKrLS0tLS1ceDFiWzE7OTFt44CQVG8gU3RvcCBQcm9jZXNzIFByZXNzIENUUkwrWuOAkVwwMzNbMTs5N20tLS0twrvimpQiCglwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCglqYWxhbignICAgXDAzM1sxOzkzbVBsZWFzZSBXYWl0IENsb25lZCBBY2NvdW50cyBXaWxsIEFwcGVhciBIZXJlJykKCWphbGFuKCcgXDAzM1sxOzkxbSAgICAgICAgICBDbG9uaW5nIEZiIFBvc3RzIEZyb20gQmFja2dyb3VuZCAnKQogICAgICAgIGphbGFuKCcgXDAzM1sxOzkxbSAgICAgICAgICAgIENyZWF0ZSBCeSA6IEZBUklZQSBLSEFOJykKCXByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKCglkZWYgbWFpbihhcmcpOgoJCWdsb2JhbCBva3MKCQl1c2VyID0gYXJnCgkJdHJ5OgoJCQlvcy5ta2Rpcignb3V0JykKCQlleGNlcHQgT1NFcnJvcjoKCQkJcGFzcyAjRkFSSVlBS0hBTgoJCXRyeToJCQkJCQkJCQkJCQkJCgkJCWsgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycrdXNlcisnLz9hY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQkJeSA9IGpzb24ubG9hZHMoay50ZXh0KQoJCQlwYXNzMSA9ICgnNzg2Nzg2JykKCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczEpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQlzID0ganNvbi5sb2FkKGRhdGEpCgkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHM6CgkJCQlwcmludCAnXHgxYlsxOzkybUlEX09LXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3MxCgkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczEpCgkJCWVsc2U6CgkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gc1siZXJyb3JfbXNnIl06CgkJCQkJcHJpbnQgJ1x4MWJbMTs5N21JRF9DUFx4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzMQoJCQkJCWNlayA9IG9wZW4oIm91dC9jaGVja3BvaW50LnR4dCIsICJrIikKCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczErIlxuIikKCQkJCQljZWsuY2xvc2UoKQoJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3MxKQoJCQkJZWxzZToKCQkJCQlwYXNzMiA9IHlbJ2xhc3RfbmFtZSddICsgJzEyMzQ1JwoJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3MyKSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQlzID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gczoKCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Mm1JRF9PS1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzMgoJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczIpCgkJCQkJZWxzZToKCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHNbImVycm9yX21zZyJdOgoJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5N21JRF9DUFx4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzMgoJCQkJCQkJY2VrID0gb3Blbigib3V0L2NoZWNrcG9pbnQudHh0IiwgImsiKQoJCQkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3MyKyJcbiIpCgkJCQkJCQljZWsuY2xvc2UoKQoJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczIpCgkJCQkJCWVsc2U6CgkJCQkJCQlwYXNzMyA9IHlbJ2ZpcnN0X25hbWUnXSArICcxMjMnCgkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzMykrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQlzID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBzOgoJCQkJCQkJCXByaW50ICdceDFiWzE7OTJtSURfT0tceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczMKCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczMpCgkJCQkJCQllbHNlOgoJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBzWyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5N21JRF9DUFx4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzMwoJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvY2hlY2twb2ludC50eHQiLCAiayIpCgkJCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzMysiXG4iKQoJCQkJCQkJCQljZWsuY2xvc2UoKQoJCQkJCQkJCQljZWtwb2ludC5hcHBlbmQodXNlcitwYXNzMykKCQkJCQkJCQllbHNlOgoJCQkJCQkJCQlwYXNzNCA9IHlbJ2ZpcnN0X25hbWUnXSArICcxMjM0NScKCQkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczQpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCQlzID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHM6CgkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzkybUlEX09LXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3M0CgkJCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczQpCgkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gc1siZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5N21JRF9DUFx4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzNAoJCQkJCQkJCQkJCWNlayA9IG9wZW4oIm91dC9jaGVja3BvaW50LnR4dCIsICJrIikKCQkJCQkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczQrIlxuIikKCQkJCQkJCQkJCQljZWsuY2xvc2UoKQoJCQkJCQkJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3M0KQoJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQlwYXNzNSA9IHlbJ2ZpcnN0X25hbWUnXSArICc3ODYnCgkJCQkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczUpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCQkJCXMgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBzOgoJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzkybUlEX09LXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3M1CgkJCQkJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzNSkKCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gc1siZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk3bUlEX0NQXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3M1CgkJCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvY2hlY2twb2ludC50eHQiLCAiayIpCgkJCQkJCQkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczUrIlxuIikKCQkJCQkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCQkJCQljZWtwb2ludC5hcHBlbmQodXNlcitwYXNzNSkKCQkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJCXBhc3M2ID0geVsnbGFzdF9uYW1lJ10gKyAnMTIzJwoJCQkJCQkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczYpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCQkJCQkJcyA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gczoKCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzkybUlEX09LXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1ceDFiWzE7OTdtJyArIHBhc3M2CgkJCQkJCQkJCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3M2KQoJCQkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gc1siZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTdtSURfQ1BceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczYKCQkJCQkJCQkJCQkJCQkJY2VrID0gb3Blbigib3V0L2NoZWNrcG9pbnQudHh0IiwgImsiKQoJCQkJCQkJCQkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczYrIlxuIikKCQkJCQkJCQkJCQkJCQkJY2VrLmNsb3NlKCkKCQkJCQkJCQkJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczYpCgkJCQkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJCQkJcGFzczcgPSB5WydsYXN0X25hbWUnXSArICc3ODYnCgkJCQkJCQkJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3M3KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCQkJCQkJCQkJcyA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQkJCQkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBzOgoJCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Mm1JRF9PS1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzNwoJCQkJCQkJCQkJCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3M3KQoJCQkJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHNbImVycm9yX21zZyJdOgoJCQkJCQkJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTdtSURfQ1BceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczcKCQkJCQkJCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvY2hlY2twb2ludC50eHQiLCAiayIpCgkJCQkJCQkJCQkJCQkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3M3KyJcbiIpCgkJCQkJCQkJCQkJCQkJCQkJY2VrLmNsb3NlKCkKCQkJCQkJCQkJCQkJCQkJCQljZWtwb2ludC5hcHBlbmQodXNlcitwYXNzNykKCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCSAgIAkKCQkJCQkJCQkJCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgkJZXhjZXB0OgoJCQlwYXNzCgkJCglwID0gVGhyZWFkUG9vbCgzMCkKCXAubWFwKG1haW4sIGlkKQoJcHJpbnQgIlwwMzNbMTs5N20g4pqUwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK74pqUIgoJcHJpbnQgJ1wwMzNbMTs5Nm1bXDAzM1sxOzk3beKck1wwMzNbMTs5Nm1dIFwwMzNbMTs5Mm1Qcm9jZXNzIEhhcyBCZWVuIENvbXBsZXRlZCBcMDMzWzE7OTdtLi4uLicKCXByaW50IlwwMzNbMTs5Nm1bK10gXDAzM1sxOzkybVRvdGFsIE9LL1x4MWJbMTs5M21DUCBcMDMzWzE7OTFtOiBcMDMzWzE7OTJtIitzdHIobGVuKG9rcykpKyJcMDMzWzE7OTdtL1wwMzNbMTs5M20iK3N0cihsZW4oY2VrcG9pbnQpKQoJcHJpbnQoIlwwMzNbMTs5Nm1bK10gXDAzM1sxOzkybUNQIEZpbGUgSGFzIEJlZW4gU2F2ZWQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bW91dC9jaGVja3BvaW50LnR4dCIpCglyYXdfaW5wdXQoIlxuXDAzM1sxOzk2bVtcMDMzWzE7OTdtQmFja1wwMzNbMTs5Nm1dIikKCW1lbnUoKQoJCmRlZiB0ZXN0eCgpOgoJZ2xvYmFsIHRva2V0Cglvcy5zeXN0ZW0oJ2NsZWFyJykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJceDFiWzE7OTFtVG9rZW4gaW52YWxpZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCglvcy5zeXN0ZW0oJ2NsZWFyJykKCXByaW50IGxvZ28KCXByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKCXByaW50KCAiXHgxYlsxOzMyOzkybVsyXSBcMDMzWzE7MzM7OTht4pyqIEVudGVyIFRlc3RpbmcgbGluayBmb3IgQ2xvbmluZyIpIAoJdGltZS5zbGVlcCgwLjA1KQoJcHJpbnQoICJceDFiWzE7MzI7MzZtWzBdIFwwMzNbMTszMzs5Nm3inKogQmFjayIpIAoJcHJpbnQgIlwwMzNbMTs5N20g4pqUwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK74pqUIgoJcGlsaWhfdGVzdHgoKQoKZGVmIHBpbGloX3Rlc3R4KCk6CglwZWFrID0gcmF3X2lucHV0KCJcblwwMzNbMTszMTs0MG0+Pj4gXDAzM1sxOzk3bSIpCglpZiBwZWFrID09IiI6CgkJcHJpbnQgIlx4MWJbMTs5MW1GaWxsIGluIGNvcnJlY3RseSIKCQlwaWxpaF90ZXN0eCgpICAgICAKCWVsaWYgcGVhayA9PSIyIjoKCQlvcy5zeXN0ZW0oJ2NsZWFyJykKCQlwcmludCBsb2dvCgkJcHJpbnQgIlwwMzNbMTs5N20g4pqUwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK74pqUIgoJCWlkdCA9IHJhd19pbnB1dCgiXDAzM1sxOzk2bVvimJFdXDAzM1sxOzkzbSBFbnRlciBJRC9VU0VSTkFNRVwwMzNbMTs5MW0gOiAiKQoJCXRyeToKCQkJam9rID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkdCsiP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCQlvcCA9IGpzb24ubG9hZHMoam9rLnRleHQpCgkJCXByaW50IlwwMzNbMTszMTszN21b4piRXSBOYW1lIDogIitvcFsibmFtZSJdCgkJZXhjZXB0IEtleUVycm9yOgoJCQlwcmludCJceDFiWzE7MzdtW+KYkV0gSUQgTm90IEZvdW5kISIKCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5Nm1bXDAzM1sxOzk0bUJhY2tcMDMzWzE7OTZtXSIpCgkJCXN1cGVyKCkKCQlwcmludCJcMDMzWzE7MzU7MzdtW+KYkV0gR2V0dGluZyBJRCBMb2FkaW5nIHByb2Nlc3MuLi4uLi4uLiAiCgkJciA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZHQrIi9mcmllbmRzP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCXogPSBqc29uLmxvYWRzKHIudGV4dCkKCQlmb3IgaSBpbiB6WydkYXRhJ106CgkJCWlkLmFwcGVuZChpWydpZCddKQoJZWxpZiBwZWFrID09IjAiOgoJCW1lbnUoKQoJZWxzZToKCQlwcmludCAiXHgxYlsxOzkxbUZpbGwgaW4gY29ycmVjdGx5IgoJCXBpbGloX3N1cGVyKCkKCglwcmludCAiXDAzM1sxOzM2Ozk2bVvimJFdIFRvdGFsIElEcyA6IFwwMzNbMTs5Mm0iK3N0cihsZW4oaWQpKQoJamFsYW4oJ1wwMzNbMTszNDs5Nm1b4piRXSBQbGVhc2UgV2FpdCAnKQoJdGl0aWsgPSBbJy4gICAnLCcuLiAgJywnLi4uICddCglmb3IgbyBpbiB0aXRpazoKCQlwcmludCgiXHJcMDMzWzE7OTNtQ2xvbmluZ1wwMzNbMTs5M20iK28pLDtzeXMuc3Rkb3V0LmZsdXNoKCk7dGltZS5zbGVlcCgxKQoJcHJpbnQgIlxuXDAzM1sxOzk3bSAg4pqUwqstLS0tLVx4MWJbMTs5MW3jgJBUbyBTdG9wIFByb2Nlc3MgUHJlc3MgQ1RSTCta44CRXDAzM1sxOzk3bS0tLS3Cu+KalCIKCXByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKCWphbGFuKCcgICBcMDMzWzE7OTNtUGxlYXNlIFdhaXQgQ2xvbmVkIEFjY291bnRzIFdpbGwgQXBwZWFyIEhlcmUnKQogICAgICAgIGphbGFuKCcgXDAzM1sxOzkxbSAgICAgICAgICAgIENyZWF0ZSBCeSA6IEZBUklZQSBLSEFOJykKCXByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKCglkZWYgbWFpbihhcmcpOgoJCWdsb2JhbCBva3MKCQl1c2VyID0gYXJnCgkJdHJ5OgoJCQlvcy5ta2Rpcignb3V0JykKCQlleGNlcHQgT1NFcnJvcjoKCQkJcGFzcyAjRGV2OkZBUklZQUtIQU4KCQl0cnk6CQkJCQkJCQkJCQkJCQoJCQl3ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgdXNlciArICcvP2FjY2Vzc190b2tlbj0nICsgdG9rZXQpCgkJCXEgPSBqc29uLmxvYWRzKHcudGV4dCkKCQkJIyBQYXNzd29yZCBHdWVzcyAxCgkJCXBhc3MxID0gcVsnZmlyc3RfbmFtZSddICsgJzEyMycKCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIHVzZXIgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgcGFzczEgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykKCQkJdSA9IGpzb24ubG9hZChkYXRhKQoJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiB1OgoJCQkgICAgcHJpbnQgJ1xuXHgxYlsxOzk1bSBFbWFpbCA6XHgxYlsxOzk3bSAnICsgdXNlciArICcgXG5ceDFiWzE7OTVtIFBhc3N3b3JkIDpceDFiWzE7OTdtICcgKyBwYXNzMQogICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiB1WydlcnJvcl9tc2cnXToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5MW0gRW1haWwgOlx4MWJbMTs5N20gJyArIHVzZXIgKyAnIFxuXHgxYlsxOzkxbSBQYXNzd29yZCA6XHgxYlsxOzk3bSAnICsgcGFzczEKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgCSAgICAgICAgICAgICMgUGFzc3dvcmQgR3Vlc3MgMgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzczIgPSBxWydmaXJzdF9uYW1lJ10gKyAnMTIzNDUnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gdXJsbGliLnVybG9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgdXNlciArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBwYXNzMiArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdSA9IGpzb24ubG9hZChkYXRhKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gdToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTVtIEVtYWlsIDpceDFiWzE7OTdtICcgKyB1c2VyICsgJyBcblx4MWJbMTs5NW0gUGFzc3dvcmQgOlx4MWJbMTs5N20gJyArIHBhc3MyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiB1WydlcnJvcl9tc2cnXToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTFtIEVtYWlsIDpceDFiWzE7OTdtICcgKyB1c2VyICsgJyBcblx4MWJbMTs5MW0gUGFzc3dvcmQgOlx4MWJbMTs5N20gJyArIHBhc3MyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgCSAgICAgICAgIyBQYXNzd29yZCBHdWVzcyAzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzczMgPSBxWydsYXN0X25hbWUnXSArICcxMjMnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIHVzZXIgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgcGFzczMgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1ID0ganNvbi5sb2FkKGRhdGEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gdToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk1bSBFbWFpbCA6XHgxYlsxOzk3bSAnICsgdXNlciArICcgXG5ceDFiWzE7OTVtIFBhc3N3b3JkIDpceDFiWzE7OTdtICcgKyBwYXNzMwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHVbJ2Vycm9yX21zZyddOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTFtIEVtYWlsIDpceDFiWzE7OTdtICcgKyB1c2VyICsgJyBcblx4MWJbMTs5MW0gUGFzc3dvcmQgOlx4MWJbMTs5N20gJyArIHBhc3MzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAJICAgICAgICAgICAgIyBQYXNzd29yZCBHdWVzcyA0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpcnRoID0gcVsnYmlydGhkYXknXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzNCA9IGJpcnRoLnJlcGxhY2UoJy8nLCAnJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIHVzZXIgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgcGFzczQgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdSA9IGpzb24ubG9hZChkYXRhKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiB1OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk1bSBFbWFpbCA6XHgxYlsxOzk3bSAnICsgdXNlciArICcgXG5ceDFiWzE7OTVtIFBhc3N3b3JkIDpceDFiWzE7OTdtICcgKyBwYXNzNAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiB1WydlcnJvcl9tc2cnXToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5MW0gRW1haWwgOlx4MWJbMTs5N20gJyArIHVzZXIgKyAnIFxuXHgxYlsxOzkxbSBQYXNzd29yZCA6XHgxYlsxOzk3bSAnICsgcGFzczQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgUGFzc3dvcmQgR3Vlc3MgNQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzczUgPSAnNzg2Nzg2JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIHVzZXIgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgcGFzczUgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUgPSBqc29uLmxvYWQoZGF0YSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIHU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAJICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk1bSBFbWFpbCA6XHgxYlsxOzk3bSAnICsgdXNlciArICcgXG5ceDFiWzE7OTVtIFBhc3N3b3JkIDpceDFiWzE7OTdtICcgKyBwYXNzNQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gdVsnZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAJICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzkxbSBFbWFpbCA6XHgxYlsxOzk3bSAnICsgdXNlciArICcgXG5ceDFiWzE7OTFtIFBhc3N3b3JkIDpceDFiWzE7OTdtICcgKyBwYXNzNQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAkgICAgICAgICAgICAjIFBhc3N3b3JkIEd1ZXNzIDYKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAkgICAgICAgICAgICBwYXNzNiA9ICdQYWtpc3RhbicKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gdXJsbGliLnVybG9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgdXNlciArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBwYXNzNiArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUgPSBqc29uLmxvYWQoZGF0YSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiB1OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAkgICAgICAgIHByaW50ICdcblx4MWJbMTs5NW0gRW1haWwgOlx4MWJbMTs5N20gJyArIHVzZXIgKyAnIFxuXHgxYlsxOzk1bSBQYXNzd29yZCA6XHgxYlsxOzk3bSAnICsgcGFzczYKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiB1WydlcnJvcl9tc2cnXToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAkgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzkxbSBFbWFpbCA6XHgxYlsxOzk3bSAnICsgdXNlciArICcgXG5ceDFiWzE7OTFtIFBhc3N3b3JkIDpceDFiWzE7OTdtICcgKyBwYXNzNgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAJICAgICAgICAgICAgICAgICMgUGFzc3dvcmQgR3Vlc3MgNwogICAgICAgICAgICAgICAgICAgICAgICAgICAgCSAgICAgICAgICAgICAgICBwYXNzNyA9IGJbJ2ZpcnN0X25hbWUnXSArICcxMjM0JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gdXJsbGliLnVybG9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgdXNlciArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBwYXNzNyArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1ID0ganNvbi5sb2FkKGRhdGEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIHU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCSAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5NW0gRW1haWwgOlx4MWJbMTs5N20gJyArIHVzZXIgKyAnIFxuXHgxYlsxOzk1bSBQYXNzd29yZCA6XHgxYlsxOzk3bSAnICsgcGFzczcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gdVsnZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAJICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTFtIEVtYWlsIDpceDFiWzE7OTdtICcgKyB1c2VyICsgJyBcblx4MWJbMTs5MW0gUGFzc3dvcmQgOlx4MWJbMTs5N20gJyArIHBhc3M3CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAJICAgICAgICAgICAgICAgICAgICAjIFBhc3N3b3JkIEd1ZXNzIDgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAkgICAgICAgICAgICAgICAgICAgIHBhc3M4ID0gcVsnZmlyc3RfbmFtZSddICsgJzc4NicKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyB1c2VyICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIHBhc3M4ICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1ID0ganNvbi5sb2FkKGRhdGEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiB1OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAkgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk1bSBFbWFpbCA6XHgxYlsxOzk3bSAnICsgdXNlciArICcgXG5ceDFiWzE7OTVtIFBhc3N3b3JkIDpceDFiWzE7OTdtICcgKyBwYXNzOAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gdVsnZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAJICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzkxbSBFbWFpbCA6XHgxYlsxOzk3bSAnICsgdXNlciArICcgXG5ceDFiWzE7OTFtIFBhc3N3b3JkIDpceDFiWzE7OTdtICcgKyBwYXNzOAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAkgICAgICAgICAgICAgICAgICAgICAgICAjIFBhc3N3b3JkIEd1ZXNzIDkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAkgICAgICAgICAgICAgICAgICAgICAgICBwYXNzOSA9IHFbJ2ZpcnN0X25hbWUnXSArICdLaGFuJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyB1c2VyICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIHBhc3M5ICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdSA9IGpzb24ubG9hZChkYXRhKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIHU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCSAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk1bSBFbWFpbCA6XHgxYlsxOzk3bSAnICsgdXNlciArICcgXG5ceDFiWzE7OTVtIFBhc3N3b3JkIDpceDFiWzE7OTdtICcgKyBwYXNzOQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHVbJ2Vycm9yX21zZyddOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTFtIEVtYWlsIDpceDFiWzE7OTdtICcgKyB1c2VyICsgJyBcblx4MWJbMTs5MW0gUGFzc3dvcmQgOlx4MWJbMTs5N20gJyArIHBhc3M5CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAkgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBQYXNzd29yZCBHdWVzcyAxMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzMTAgPSBxWydmaXJzdF9uYW1lJ10gKyBxWydsYXN0X25hbWUnXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gdXJsbGliLnVybG9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgdXNlciArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBwYXNzMTAgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdSA9IGpzb24ubG9hZChkYXRhKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiB1OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAkgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTVtIEVtYWlsIDpceDFiWzE7OTdtICcgKyB1c2VyICsgJyBcblx4MWJbMTs5NW0gUGFzc3dvcmQgOlx4MWJbMTs5N20gJyArIHBhc3MxMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiB1WydlcnJvcl9tc2cnXToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5MW0gRW1haWwgOlx4MWJbMTs5N20gJyArIHVzZXIgKyAnIFxuXHgxYlsxOzkxbSBQYXNzd29yZCA6XHgxYlsxOzk3bSAnICsgcGFzczEwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIFBhc3N3b3JkIEd1ZXNzIDExCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzMTEgPSBxWydmaXJzdF9uYW1lJ10gKyBxWydsYXN0X25hbWUnXSArICcxMjMnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gdXJsbGliLnVybG9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgdXNlciArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBwYXNzMTEgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUgPSBqc29uLmxvYWQoZGF0YSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIHU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTVtIEVtYWlsIDpceDFiWzE7OTdtICcgKyB1c2VyICsgJyBcblx4MWJbMTs5NW0gUGFzc3dvcmQgOlx4MWJbMTs5N20gJyArIHBhc3MxMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gdVsnZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzkxbSBFbWFpbCA6XHgxYlsxOzk3bSAnICsgdXNlciArICcgXG5ceDFiWzE7OTFtIFBhc3N3b3JkIDpceDFiWzE7OTdtICcgKyBwYXNzMTEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBQYXNzd29yZCBHdWVzcyAxMgogICAgICAgICAgICAgICAgICAgICAgICAgICAgCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3MxMiA9ICdQYWtpc3Rhbjc4NicKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gdXJsbGliLnVybG9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgdXNlciArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBwYXNzMTIgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1ID0ganNvbi5sb2FkKGRhdGEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gdToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTVtIEVtYWlsIDpceDFiWzE7OTdtICcgKyB1c2VyICsgJyBcblx4MWJbMTs5NW0gUGFzc3dvcmQgOlx4MWJbMTs5N20gJyArIHBhc3MxMgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHVbJ2Vycm9yX21zZyddOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTFtIEVtYWlsIDpceDFiWzE7OTdtICcgKyB1c2VyICsgJyBcblx4MWJbMTs5MW0gUGFzc3dvcmQgOlx4MWJbMTs5N20gJyArIHBhc3MxMgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgUGFzc3dvcmQgR3Vlc3MgMTMKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzczEzID0gJ1Bha2lzdGFuMScKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIHVzZXIgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgcGFzczEzICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUgPSBqc29uLmxvYWQoZGF0YSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gdToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk1bSBFbWFpbCA6XHgxYlsxOzk3bSAnICsgdXNlciArICcgXG5ceDFiWzE7OTVtIFBhc3N3b3JkIDpceDFiWzE7OTdtICcgKyBwYXNzMTMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gdVsnZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTFtIEVtYWlsIDpceDFiWzE7OTdtICcgKyB1c2VyICsgJyBcblx4MWJbMTs5MW0gUGFzc3dvcmQgOlx4MWJbMTs5N20gJyArIHBhc3MxMwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBQYXNzd29yZCBHdWVzcyAxNAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzczE0ID0gcVsnZmlyc3RfbmFtZSddICsgcVsnbGFzdF9uYW1lJ10gKyAnNzg2JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIHVzZXIgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgcGFzczE0ICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1ID0ganNvbi5sb2FkKGRhdGEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiB1OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk1bSBFbWFpbCA6XHgxYlsxOzk3bSAnICsgdXNlciArICcgXG5ceDFiWzE7OTVtIFBhc3N3b3JkIDpceDFiWzE7OTdtICcgKyBwYXNzMTQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHVbJ2Vycm9yX21zZyddOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5MW0gRW1haWwgOlx4MWJbMTs5N20gJyArIHVzZXIgKyAnIFxuXHgxYlsxOzkxbSBQYXNzd29yZCA6XHgxYlsxOzk3bSAnICsgcGFzczE0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgUGFzc3dhcmQgR3Vlc3MgMTUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzMTUgPSBxWydmaXJzdF9uYW1lJ10gKyBxWydsYXN0X25hbWUnXSArICdAMTIzJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyB1c2VyICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIHBhc3MxNSArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUgPSBqc29uLmxvYWQoZGF0YSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiB1OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTVtIEVtYWlsIDpceDFiWzE7OTdtICcgKyB1c2VyICsgJyBcblx4MWJbMTs5NW0gUGFzc3dvcmQgOlx4MWJbMTs5N20gJyArIHBhc3MxNQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHVbJ2Vycm9yX21zZyddOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTFtIEVtYWlsIDpceDFiWzE7OTdtICcgKyB1c2VyICsgJyBcblx4MWJbMTs5MW0gUGFzc3dvcmQgOlx4MWJbMTs5N20gJyArIHBhc3MxNQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoJCQkJCQkJCQkJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCQlleGNlcHQ6CgkJCXBhc3MKCQkKCXAgPSBUaHJlYWRQb29sKDMwKQoJcC5tYXAobWFpbiwgaWQpCglwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCglwcmludCAnXDAzM1sxOzk2bVtcMDMzWzE7OTdt4pyTXDAzM1sxOzk2bV0gXDAzM1sxOzkybVByb2Nlc3MgSGFzIEJlZW4gQ29tcGxldGVkIFwwMzNbMTs5N20uLi4uJwoJcHJpbnQiXDAzM1sxOzk2bVsrXSBcMDMzWzE7OTJtVG90YWwgT0svXHgxYlsxOzkzbUNQIFwwMzNbMTs5MW06IFwwMzNbMTs5Mm0iK3N0cihsZW4ob2tzKSkrIlwwMzNbMTs5N20vXDAzM1sxOzkzbSIrc3RyKGxlbihjZWtwb2ludCkpCglwcmludCgiXDAzM1sxOzk2bVsrXSBcMDMzWzE7OTJtQ1AgRmlsZSBIYXMgQmVlbiBTYXZlZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtb3V0L2NoZWNrcG9pbnQudHh0IikKCXJhd19pbnB1dCgiXG5cMDMzWzE7OTZtW1wwMzNbMTs5N21CYWNrXDAzM1sxOzk2bV0iKQoJbWVudSgpCgkKZGVmIHRvb2x4KCk6CglnbG9iYWwgdG9rZXQKCW9zLnN5c3RlbSgnY2xlYXInKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50Ilx4MWJbMTs5MW1Ub2tlbiBpbnZhbGlkIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgnY2xlYXInKQoJcHJpbnQgbG9nbwoJcHJpbnQgIlwwMzNbMTs5N20g4pqUwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK74pqUIgoJcHJpbnQoICJceDFiWzE7MzI7OTJtWzJdIFwwMzNbMTszMzs5Nm3inKogRW50ZXIgTGluayBGQVJJWUEgS0hBTiBUb29scyBDbG9uaW5nIikgCgl0aW1lLnNsZWVwKDAuMDUpCglwcmludCggIlx4MWJbMTszMjszNm1bMF0gXDAzM1sxOzMzOzk2beKcqiBCYWNrIikgCglwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCglwaWxpaF90b29seCgpCgpkZWYgcGlsaWhfdG9vbHgoKToKCXBlYWsgPSByYXdfaW5wdXQoIlxuXDAzM1sxOzMxOzQwbT4+PiBcMDMzWzE7OTdtIikKCWlmIHBlYWsgPT0iIjoKCQlwcmludCAiXHgxYlsxOzkxbUZpbGwgaW4gY29ycmVjdGx5IgoJCXBpbGloX3Rvb2x4KCkgICAgIAoJZWxpZiBwZWFrID09IjIiOgoJCW9zLnN5c3RlbSgnY2xlYXInKQoJCXByaW50IGxvZ28KCQlwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCgkJaWR0ID0gcmF3X2lucHV0KCJcMDMzWzE7OTZtW+KYkV1cMDMzWzE7OTNtIEVudGVyIElEL1VTRVJOQU1FXDAzM1sxOzkxbSA6ICIpCgkJdHJ5OgoJCQlqb2sgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyI/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJCW9wID0ganNvbi5sb2Fkcyhqb2sudGV4dCkKCQkJcHJpbnQiXDAzM1sxOzMxOzM3bVvimJFdIE5hbWUgOiAiK29wWyJuYW1lIl0KCQlleGNlcHQgS2V5RXJyb3I6CgkJCXByaW50Ilx4MWJbMTszN21b4piRXSBJRCBOb3QgRm91bmQhIgoJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzk2bVtcMDMzWzE7OTRtQmFja1wwMzNbMTs5Nm1dIikKCQkJc3VwZXIoKQoJCXByaW50IlwwMzNbMTszNTszN21b4piRXSBHZXR0aW5nIElEIExvYWRpbmcgcHJvY2Vzcy4uLi4uLi4uICIKCQlyID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkdCsiL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJeiA9IGpzb24ubG9hZHMoci50ZXh0KQoJCWZvciBpIGluIHpbJ2RhdGEnXToKCQkJaWQuYXBwZW5kKGlbJ2lkJ10pCgllbGlmIHBlYWsgPT0iMCI6CgkJbWVudSgpCgllbHNlOgoJCXByaW50ICJceDFiWzE7OTFtRmlsbCBpbiBjb3JyZWN0bHkiCgkJcGlsaWhfc3VwZXIoKQoKCXByaW50ICJcMDMzWzE7MzY7OTZtW+KYkV0gVG90YWwgSURzIDogXDAzM1sxOzkybSIrc3RyKGxlbihpZCkpCglqYWxhbignXDAzM1sxOzM0Ozk2bVvimJFdIFBsZWFzZSBXYWl0ICcpCgl0aXRpayA9IFsnLiAgICcsJy4uICAnLCcuLi4gJ10KCWZvciBvIGluIHRpdGlrOgoJCXByaW50KCJcclwwMzNbMTs5M21DbG9uaW5nXDAzM1sxOzkzbSIrbyksO3N5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDEpCglwcmludCAiXG5cMDMzWzE7OTdtICDimpTCqy0tLS0tXHgxYlsxOzkxbeOAkFRvIFN0b3AgUHJvY2VzcyBQcmVzcyBDVFJMK1rjgJFcMDMzWzE7OTdtLS0tLcK74pqUIgoJcHJpbnQgIlwwMzNbMTs5N20g4pqUwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK74pqUIgoJamFsYW4oJyAgIFwwMzNbMTs5M21QbGVhc2UgV2FpdCBDbG9uZWQgQWNjb3VudHMgV2lsbCBBcHBlYXIgSGVyZScpCiAgICAgICAgamFsYW4oJyBcMDMzWzE7OTFtICAgICAgICAgICAgQ3JlYXRlIEJ5IDogRkFSSVlBIEtIQU4nKQoJcHJpbnQgIlwwMzNbMTs5N20g4pqUwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK74pqUIgoKCWRlZiBtYWluKGFyZyk6CgkJZ2xvYmFsIG9rcwoJCXVzZXIgPSBhcmcKCQl0cnk6CgkJCW9zLm1rZGlyKCdvdXQnKQoJCWV4Y2VwdCBPU0Vycm9yOgoJCQlwYXNzICNEZXY6RkFSSVlBS0hBTgoJCXRyeToJCQkJCQkJCQkJCQkJCgkJCWsgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycrdXNlcisnLz9hY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQkJeSA9IGpzb24ubG9hZHMoay50ZXh0KQoJCQlwYXNzMSA9ICgnNzg2Nzg2JykKCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczEpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQlzID0ganNvbi5sb2FkKGRhdGEpCgkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHM6CgkJCQlwcmludCAnXHgxYlsxOzkybUlEX09LXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3MxCgkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczEpCgkJCWVsc2U6CgkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gc1siZXJyb3JfbXNnIl06CgkJCQkJcHJpbnQgJ1x4MWJbMTs5N21JRF9DUFx4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzMQoJCQkJCWNlayA9IG9wZW4oIm91dC9jaGVja3BvaW50LnR4dCIsICJrIikKCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczErIlxuIikKCQkJCQljZWsuY2xvc2UoKQoJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3MxKQoJCQkJZWxzZToKCQkJCQlwYXNzMiA9IHlbJ2xhc3RfbmFtZSddICsgJzEyMzQ1JwoJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3MyKSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQlzID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gczoKCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Mm1JRF9PS1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzMgoJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczIpCgkJCQkJZWxzZToKCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHNbImVycm9yX21zZyJdOgoJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5N21JRF9DUFx4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzMgoJCQkJCQkJY2VrID0gb3Blbigib3V0L2NoZWNrcG9pbnQudHh0IiwgImsiKQoJCQkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3MyKyJcbiIpCgkJCQkJCQljZWsuY2xvc2UoKQoJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczIpCgkJCQkJCWVsc2U6CgkJCQkJCQlwYXNzMyA9IHlbJ2ZpcnN0X25hbWUnXSArICcxMjMnCgkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzMykrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQlzID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBzOgoJCQkJCQkJCXByaW50ICdceDFiWzE7OTJtSURfT0tceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczMKCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczMpCgkJCQkJCQllbHNlOgoJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBzWyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5N21JRF9DUFx4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzMwoJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvY2hlY2twb2ludC50eHQiLCAiayIpCgkJCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzMysiXG4iKQoJCQkJCQkJCQljZWsuY2xvc2UoKQoJCQkJCQkJCQljZWtwb2ludC5hcHBlbmQodXNlcitwYXNzMykKCQkJCQkJCQllbHNlOgoJCQkJCQkJCQlwYXNzNCA9IHlbJ2ZpcnN0X25hbWUnXSArICcxMjM0NScKCQkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczQpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCQlzID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHM6CgkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzkybUlEX09LXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3M0CgkJCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczQpCgkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gc1siZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5N21JRF9DUFx4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzNAoJCQkJCQkJCQkJCWNlayA9IG9wZW4oIm91dC9jaGVja3BvaW50LnR4dCIsICJrIikKCQkJCQkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczQrIlxuIikKCQkJCQkJCQkJCQljZWsuY2xvc2UoKQoJCQkJCQkJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3M0KQoJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQlwYXNzNSA9IHlbJ2ZpcnN0X25hbWUnXSt5WydtaWRkbGVfbmFtZSddK3lbJ2xhc3RfbmFtZSddCgkJCQkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczUpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCQkJCXMgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBzOgoJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzkybUlEX09LXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3M1CgkJCQkJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzNSkKCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gc1siZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk3bUlEX0NQXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3M1CgkJCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvY2hlY2twb2ludC50eHQiLCAiayIpCgkJCQkJCQkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczUrIlxuIikKCQkJCQkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCQkJCQljZWtwb2ludC5hcHBlbmQodXNlcitwYXNzNSkKCQkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJCXBhc3M2ID0geVsnbGFzdF9uYW1lJ10gKyAnMTIzJwoJCQkJCQkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczYpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCQkJCQkJcyA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gczoKCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzkybUlEX09LXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1ceDFiWzE7OTdtJyArIHBhc3M2CgkJCQkJCQkJCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3M2KQoJCQkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gc1siZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTdtSURfQ1BceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgdXNlciArICdceDFiWzE7OTFtLVx4MWJbMTs5MW3ii4RceDFiWzE7OTFtLVwwMzNbMTs5N20nICsgcGFzczYKCQkJCQkJCQkJCQkJCQkJY2VrID0gb3Blbigib3V0L2NoZWNrcG9pbnQudHh0IiwgImsiKQoJCQkJCQkJCQkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczYrIlxuIikKCQkJCQkJCQkJCQkJCQkJY2VrLmNsb3NlKCkKCQkJCQkJCQkJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczYpCgkJCQkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJCQkJcGFzczcgPSB5WydmaXJzdF9uYW1lJ10reVsnbGFzdF9uYW1lJ10KCQkJCQkJCQkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczcpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCQkJCQkJCQlzID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHM6CgkJCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzkybUlEX09LXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHVzZXIgKyAnXHgxYlsxOzkxbS1ceDFiWzE7OTFt4ouEXHgxYlsxOzkxbS1cMDMzWzE7OTdtJyArIHBhc3M3CgkJCQkJCQkJCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczcpCgkJCQkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gc1siZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5N21JRF9DUFx4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyB1c2VyICsgJ1x4MWJbMTs5MW0tXHgxYlsxOzkxbeKLhFx4MWJbMTs5MW0tXDAzM1sxOzk3bScgKyBwYXNzNwoJCQkJCQkJCQkJCQkJCQkJCWNlayA9IG9wZW4oIm91dC9jaGVja3BvaW50LnR4dCIsICJrIikKCQkJCQkJCQkJCQkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczcrIlxuIikKCQkJCQkJCQkJCQkJCQkJCQljZWsuY2xvc2UoKQoJCQkJCQkJCQkJCQkJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3M3KQoJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJICAgCQoJCQkJCQkJCQkJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCQlleGNlcHQ6CgkJCXBhc3MKCQkKCXAgPSBUaHJlYWRQb29sKDMwKQoJcC5tYXAobWFpbiwgaWQpCglwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCglwcmludCAnXDAzM1sxOzk2bVtcMDMzWzE7OTdt4pyTXDAzM1sxOzk2bV0gXDAzM1sxOzkybVByb2Nlc3MgSGFzIEJlZW4gQ29tcGxldGVkIFwwMzNbMTs5N20uLi4uJwoJcHJpbnQiXDAzM1sxOzk2bVsrXSBcMDMzWzE7OTJtVG90YWwgT0svXHgxYlsxOzkzbUNQIFwwMzNbMTs5MW06IFwwMzNbMTs5Mm0iK3N0cihsZW4ob2tzKSkrIlwwMzNbMTs5N20vXDAzM1sxOzkzbSIrc3RyKGxlbihjZWtwb2ludCkpCglwcmludCgiXDAzM1sxOzk2bVsrXSBcMDMzWzE7OTJtQ1AgRmlsZSBIYXMgQmVlbiBTYXZlZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtb3V0L2NoZWNrcG9pbnQudHh0IikKCXJhd19pbnB1dCgiXG5cMDMzWzE7OTZtW1wwMzNbMTs5N21CYWNrXDAzM1sxOzk2bV0iKQoJbWVudSgpCgkKIyMjIyMgRU1BSUwgRlJPTSBJRCAjIyMjIwpkZWYgZW1haWx4KCk6Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMC4wMSkKCQlsb2dpbigpCgl0cnk6CgkJb3MubWtkaXIoJ291dCcpCglleGNlcHQgT1NFcnJvcjoKCQlwYXNzCgl0cnk6CgkJb3Muc3lzdGVtKCdyZXNldCcpCgkJcHJpbnQgbG9nbwoJCXByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKCQlpZHQgPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUlucHV0IElEIGZyaWVuZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtIikKCQl0cnk6CgkJCWpvayA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZHQrIj9hY2Nlc3NfdG9rZW49Iit0b2tldCkKCQkJb3AgPSBqc29uLmxvYWRzKGpvay50ZXh0KQoJCQlwcmludCJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtRnJvbVwwMzNbMTs5MW0gOlwwMzNbMTs5N20gIitvcFsibmFtZSJdCgkJZXhjZXB0IEtleUVycm9yOgoJCQlwcmludCJcMDMzWzE7OTFtWyFdIEZyaWVuZCBub3QgZm91bmQiCgkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCWR1bXAoKQoJCXIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycraWR0KycvZnJpZW5kcz9hY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQlhID0ganNvbi5sb2FkcyhyLnRleHQpCgkJamFsYW4oJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtR2V0IGFsbCBmcmllbmQgZW1haWwgZnJvbSBmcmllbmQgXDAzM1sxOzk3bS4uLicpCgkJcHJpbnQgIlwwMzNbMTs5N20g4pqUwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK74pqUIgoJCWJ6ID0gb3Blbignb3V0L2VtX3RlbWFuX2Zyb21fdGVtYW4udHh0JywndycpCgkJZm9yIGkgaW4gYVsnZGF0YSddOgoJCQl4ID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lbJ2lkJ10rIj9hY2Nlc3NfdG9rZW49Iit0b2tldCkKCQkJeiA9IGpzb24ubG9hZHMoeC50ZXh0KQoJCQl0cnk6CgkJCQllbWZyb210ZW1hbi5hcHBlbmQoelsnZW1haWwnXSkKCQkJCWJ6LndyaXRlKHpbJ2VtYWlsJ10gKyAnXG4nKQoJCQkJcHJpbnQgKCJcclwwMzNbMTs5N21bIFwwMzNbMTs5Mm0iK3N0cihsZW4oZW1mcm9tdGVtYW4pKSsiXDAzM1sxOzk3bSBdXDAzM1sxOzk3bT0+IFwwMzNbMTs5N20iK3pbJ2VtYWlsJ10rIiB8ICIrelsnbmFtZSddKyJcbiIpLDtzeXMuc3Rkb3V0LmZsdXNoKCk7dGltZS5zbGVlcCgwLjAwMDEpCgkJCWV4Y2VwdCBLZXlFcnJvcjoKCQkJCXBhc3MKCQliei5jbG9zZSgpCgkJcHJpbnQgIlwwMzNbMTs5N20g4pqUwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK74pqUIgoJCXByaW50ICdcclwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1TdWNjZXNzZnVsbHkgZ2V0IGVtYWlsIFwwMzNbMTs5N20uLi4uJwoJCXByaW50IlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWwgRW1haWwgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSVzIiUobGVuKGVtZnJvbXRlbWFuKSkKCQlkb25lID0gcmF3X2lucHV0KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVNhdmUgZmlsZSB3aXRoIG5hbWVcMDMzWzE7OTFtIDpcMDMzWzE7OTdtICIpCgkJb3MucmVuYW1lKCdvdXQvZW1fdGVtYW5fZnJvbV90ZW1hbi50eHQnLCdvdXQvJytkb25lKQoJCXByaW50KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZpbGUgc2F2ZWQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bW91dC8iK2RvbmUpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gRXJyb3IgY3JlYXRpbmcgZmlsZSIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IChLZXlib2FyZEludGVycnVwdCxFT0ZFcnJvcik6CgkJcHJpbnQoIlwwMzNbMTs5MW1bIV0gU3RvcHBlZCIpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCBLZXlFcnJvcjoKCQlwcmludCgnXDAzM1sxOzkxbVshXSBFcnJvcicpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtW+Kcll0gTm8gY29ubmVjdGlvbiIKCQlrZWx1YXIoKQoKIyMjIyMgUGhvbmUgbnVtYmVyIGZyb20gSUQgIyMjIyMKZGVmIHBob25leCgpOgoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDAuMDEpCgkJbG9naW4oKQoJdHJ5OgoJCW9zLm1rZGlyKCdvdXQnKQoJZXhjZXB0IE9TRXJyb3I6CgkJcGFzcwoJdHJ5OgoJCW9zLnN5c3RlbSgncmVzZXQnKQoJCXByaW50IGxvZ28KCQlwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCgkJaWR0ID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1JbnB1dCBJRCBmcmllbmQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSIpCgkJdHJ5OgoJCQlqb2sgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyI/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJCW9wID0ganNvbi5sb2Fkcyhqb2sudGV4dCkKCQkJcHJpbnQiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybUZyb21cMDMzWzE7OTFtIDpcMDMzWzE7OTdtICIrb3BbIm5hbWUiXQoJCWV4Y2VwdCBLZXlFcnJvcjoKCQkJcHJpbnQiXDAzM1sxOzkxbVshXSBGcmllbmQgbm90IGZvdW5kIgoJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCQlkdW1wKCkKCQlyID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nK2lkdCsnL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScrdG9rZXQpCgkJYSA9IGpzb24ubG9hZHMoci50ZXh0KQoJCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybUdldCBhbGwgZnJpZW5kIG51bWJlciBmcm9tIGZyaWVuZCBcMDMzWzE7OTdtLi4uJykKCQlwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCgkJYnogPSBvcGVuKCdvdXQvbm9fdGVtYW5fZnJvbV90ZW1hbi50eHQnLCd3JykKCQlmb3IgaSBpbiBhWydkYXRhJ106CgkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraVsnaWQnXSsiP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCQl6ID0ganNvbi5sb2Fkcyh4LnRleHQpCgkJCXRyeToKCQkJCWhwZnJvbXRlbWFuLmFwcGVuZCh6Wydtb2JpbGVfcGhvbmUnXSkKCQkJCWJ6LndyaXRlKHpbJ21vYmlsZV9waG9uZSddICsgJ1xuJykKCQkJCXByaW50ICgiXHJcMDMzWzE7OTdtWyBcMDMzWzE7OTJtIitzdHIobGVuKGhwZnJvbXRlbWFuKSkrIlwwMzNbMTs5N20gXVwwMzNbMTs5N209PiBcMDMzWzE7OTdtIit6Wydtb2JpbGVfcGhvbmUnXSsiIHwgIit6WyduYW1lJ10rIlxuIiksO3N5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDAuMDAwMSkKCQkJZXhjZXB0IEtleUVycm9yOgoJCQkJcGFzcwoJCWJ6LmNsb3NlKCkKCQlwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCgkJcHJpbnQgJ1xyXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybVN1Y2Nlc3NmdWxseSBnZXQgbnVtYmVyIFwwMzNbMTs5N20uLi4uJwoJCXByaW50IlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWwgTnVtYmVyIFwwMzNbMTs5MW06IFwwMzNbMTs5N20lcyIlKGxlbihocGZyb210ZW1hbikpCgkJZG9uZSA9IHJhd19pbnB1dCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1TYXZlIGZpbGUgd2l0aCBuYW1lXDAzM1sxOzkxbSA6XDAzM1sxOzk3bSAiKQoJCW9zLnJlbmFtZSgnb3V0L25vX3RlbWFuX2Zyb21fdGVtYW4udHh0Jywnb3V0LycrZG9uZSkKCQlwcmludCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIHNhdmVkIFwwMzNbMTs5MW06IFwwMzNbMTs5N21vdXQvIitkb25lKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIEVycm9yIGNyZWF0aW5nIGZpbGUiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCAoS2V5Ym9hcmRJbnRlcnJ1cHQsRU9GRXJyb3IpOgoJCXByaW50KCJcMDMzWzE7OTFtWyFdIFN0b3BwZWQiKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgS2V5RXJyb3I6CgkJcHJpbnQoJ1wwMzNbMTs5MW1bIV0gRXJyb3InKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVvinJZdIE5vIGNvbm5lY3Rpb24iCgkJa2VsdWFyKCkKCQkKZGVmIHlhaG9veCgpOgogICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICB0cnk6CiAgICAgICAgdG9rZXQgPSBvcGVuKCdsb2dpbi50eHQnLCAncicpLnJlYWQoKQogICAgZXhjZXB0IElPRXJyb3I6CiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kJwogICAgICAgIG9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCiAgICAgICAgdGltZS5zbGVlcCgxKQogICAgICAgIGxvZ2luKCkKCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgIHByaW50IGxvZ28KICAgIHByaW50IDUyICogJ1x4MWJbMTs5N21ceGUyXHg5NVx4OTAnCiAgICBwcmludCAn4pqhIFx4MWJbMTszNzs0MG1bMV0gRnJvbSBGcmllbmRzJwogICAgcHJpbnQgJ+KaoSBceDFiWzE7Mzc7NDBtWzJdIEZyb20gRmlsZScKICAgIHByaW50ICfimqEgXHgxYlsxOzMxOzQwbVswXSBCYWNrJwogICAgcHJpbnQgJ1x4MWJbMTszNzs0MG3ilZEnCiAgICB5YWhvb3hfcGlsaWgoKQoKCmRlZiB5YWhvb3hfcGlsaWgoKToKICAgIGdvID0gcmF3X2lucHV0KCfilZrilZBceDFiWzE7OTFt4pa2XHgxYlsxOzk3bSAnKQogICAgaWYgZ28gPT0gJyc6CiAgICAgICAgcHJpbnQgJ1x4MWJbMTs5MW1bIV0gQ2FuXCd0IGVtcHR5JwogICAgICAgIHlhaG9vX3BpbGloKCkKICAgIGVsc2U6CiAgICAgICAgaWYgZ28gPT0gJzEnOgogICAgICAgICAgICB5YWhvb2ZyaWVuZHMoKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGlmIGdvID09ICcyJzoKICAgICAgICAgICAgICAgIHlhaG9vbGlzdCgpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBpZiBnbyA9PSAnMCc6CiAgICAgICAgICAgICAgICAgICAgbWVudV9oYWNrKCkKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5MW1bXHhlMlx4OWNceDk2XSBceDFiWzE7OTdtJyArIGdvICsgJyBceDFiWzE7OTFtbm90IGZvdW5kJwogICAgICAgICAgICAgICAgICAgIHlhaG9vX3BpbGloKCkKCgpkZWYgeWFob29mcmllbmRzKCk6CiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgIHRyeToKICAgICAgICB0b2tldCA9IG9wZW4oJ2xvZ2luLnR4dCcsICdyJykucmVhZCgpCiAgICBleGNlcHQgSU9FcnJvcjoKICAgICAgICBwcmludCAnXHgxYlsxOzkxbVshXSBUb2tlbiBub3QgZm91bmQnCiAgICAgICAgb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKICAgICAgICB0aW1lLnNsZWVwKDEpCiAgICAgICAgbG9naW4oKQoKICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgcHJpbnQgbG9nbwogICAgcHJpbnQgIlwwMzNbMTs5N20g4pqUwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK74pqUIgogICAgbXBzaCA9IFtdCiAgICBqbWwgPSAwCiAgICBqYWxhbignXHgxYlsxOzkxbVtceGUyXHg5Y1x4YmFdIFx4MWJbMTs5Mm1QbGVhc2Ugd2FpdCBceDFiWzE7OTdtLi4uJykKICAgIGZyaWVuZHMgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScgKyB0b2tldCkKICAgIGtpbWFrID0ganNvbi5sb2FkcyhmcmllbmRzLnRleHQpCiAgICBzYXZlID0gb3BlbignTWFpbFZ1bG4udHh0JywgJ3cnKQogICAgcHJpbnQgIlwwMzNbMTs5N20g4pqUwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK74pqUIgogICAgZm9yIHcgaW4ga2ltYWtbJ2RhdGEnXToKICAgICAgICBqbWwgKz0gMQogICAgICAgIG1wc2guYXBwZW5kKGptbCkKICAgICAgICBpZCA9IHdbJ2lkJ10KICAgICAgICBuYW1hID0gd1snbmFtZSddCiAgICAgICAgbGlua3MgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycgKyBpZCArICc/YWNjZXNzX3Rva2VuPScgKyB0b2tldCkKICAgICAgICB6ID0ganNvbi5sb2FkcyhsaW5rcy50ZXh0KQogICAgICAgIHRyeToKICAgICAgICAgICAgbWFpbCA9IHpbJ2VtYWlsJ10KICAgICAgICAgICAgeWFob28gPSByZS5jb21waWxlKCdALionKQogICAgICAgICAgICBvdHcgPSB5YWhvby5zZWFyY2gobWFpbCkuZ3JvdXAoKQogICAgICAgICAgICBpZiAneWFob28uY29tJyBpbiBvdHc6CiAgICAgICAgICAgICAgICBici5vcGVuKCdodHRwczovL2xvZ2luLnlhaG9vLmNvbS9jb25maWcvbG9naW4/LnNyYz1mcGN0eCYuaW50bD1pZCYubGFuZz1pZC1JRCYuZG9uZT1odHRwczovL2lkLnlhaG9vLmNvbScpCiAgICAgICAgICAgICAgICBici5fZmFjdG9yeS5pc19odG1sID0gVHJ1ZQogICAgICAgICAgICAgICAgYnIuc2VsZWN0X2Zvcm0obnI9MCkKICAgICAgICAgICAgICAgIGJyWyd1c2VybmFtZSddID0gbWFpbAogICAgICAgICAgICAgICAga2xpayA9IGJyLnN1Ym1pdCgpLnJlYWQoKQogICAgICAgICAgICAgICAgam9rID0gcmUuY29tcGlsZSgnIm1lc3NhZ2VzLkVSUk9SX0lOVkFMSURfVVNFUk5BTUUiPi4qJykKICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICBwZWsgPSBqb2suc2VhcmNoKGtsaWspLmdyb3VwKCkKICAgICAgICAgICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkxbVtceGUyXHg5Y1x4OTZdIFx4MWJbMTs5Mm1FbWFpbCBceDFiWzE7OTFtOlx4MWJbMTs5MW0gJyArIG1haWwgKyAnIFx4MWJbMTs5N21bXHgxYlsxOzkybScgKyBUUlVFICsgJ1x4MWJbMTs5N21dJwogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCgogICAgICAgICAgICAgICAgaWYgJyJtZXNzYWdlcy5FUlJPUl9JTlZBTElEX1VTRVJOQU1FIj4nIGluIHBlazoKICAgICAgICAgICAgICAgICAgICBzYXZlLndyaXRlKG1haWwgKyAnXG4nKQogICAgICAgICAgICAgICAgICAgIHByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkxbVtceDFiWzE7OTZtXHhlMlx4OWNceDkzXHgxYlsxOzkxbV0gXHgxYlsxOzkybU5hbWUgIFx4MWJbMTs5MW06XHgxYlsxOzk3bSAnICsgbmFtYQogICAgICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTFtW1x4ZTJceDllXHhiOV0gXHgxYlsxOzkybUlEICAgIFx4MWJbMTs5MW06XHgxYlsxOzk3bSAnICsgaWQKICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkxbVtceGUyXHg5ZVx4YjldIFx4MWJbMTs5Mm1FbWFpbCBceDFiWzE7OTFtOlx4MWJbMTs5N20gJyArIG1haWwgKyAnIFtceDFiWzE7OTJtJyArIFRSVUUgKyAnXHgxYlsxOzk3bV0nCiAgICAgICAgICAgICAgICAgICAgcHJpbnQgIlwwMzNbMTs5N20g4pqUwqstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLcK74pqUIgogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkxbVtceGUyXHg5Y1x4OTZdIFx4MWJbMTs5Mm1FbWFpbCBceDFiWzE7OTFtOlx4MWJbMTs5MW0gJyArIG1haWwgKyAnIFx4MWJbMTs5N21bXHgxYlsxOzkybScgKyBGQUxTRSArICdceDFiWzE7OTdtXScKICAgICAgICBleGNlcHQgS2V5RXJyb3I6CiAgICAgICAgICAgIHBhc3MKCiAgICBwcmludCAnXG5ceDFiWzE7OTFtWytdIFx4MWJbMTs5N21GaW5pc2gnCiAgICBwcmludCAnXHgxYlsxOzkxbVsrXSBceDFiWzE7OTdtU2F2ZWQgXHgxYlsxOzkxbTpceDFiWzE7OTdtIE1haWxWdWxuLnR4dCcKICAgIHNhdmUuY2xvc2UoKQogICAgcmF3X2lucHV0KCdcblx4MWJbMTs5MW1bIFx4MWJbMTs5N21CYWNrIFx4MWJbMTs5MW1dJykKICAgIG1lbnVfeWFob28oKQoKCmRlZiB5YWhvb2xpc3QoKToKICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgdHJ5OgogICAgICAgIHRva2V0ID0gb3BlbignbG9naW4udHh0JywgJ3InKS5yZWFkKCkKICAgIGV4Y2VwdCBJT0Vycm9yOgogICAgICAgIHByaW50ICdceDFiWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCcKICAgICAgICBvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQogICAgICAgIHRpbWUuc2xlZXAoMSkKICAgICAgICBsb2dpbigpCiAgICBlbHNlOgogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgICAgIHByaW50IGxvZ28KICAgICAgICBwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCiAgICAgICAgZmlsZXMgPSByYXdfaW5wdXQoJ1x4MWJbMTs5MW1bK10gXHgxYlsxOzkybUZpbGUgXHgxYlsxOzkxbTogXHgxYlsxOzk3bScpCiAgICAgICAgdHJ5OgogICAgICAgICAgICB0b3RhbCA9IG9wZW4oZmlsZXMsICdyJykKICAgICAgICAgICAgbWFpbCA9IHRvdGFsLnJlYWRsaW5lcygpCiAgICAgICAgZXhjZXB0IElPRXJyb3I6CiAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTFtWyFdIEZpbGUgbm90IGZvdW5kJwogICAgICAgICAgICByYXdfaW5wdXQoJ1xuXHgxYlsxOzkxbVsgXHgxYlsxOzk3bUJhY2sgXHgxYlsxOzkxbV0nKQogICAgICAgICAgICBtZW51X3lhaG9vKCkKCiAgICBtcHNoID0gW10KICAgIGptbCA9IDAKICAgIGphbGFuKCdceDFiWzE7OTFtW1x4ZTJceDljXHhiYV0gXHgxYlsxOzkybVBsZWFzZSB3YWl0IFx4MWJbMTs5N20uLi4nKQogICAgc2F2ZSA9IG9wZW4oJ01haWxWdWxuLnR4dCcsICd3JykKICAgIHByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKICAgIHByaW50ICdceDFiWzE7OTFtWz9dIFx4MWJbMTs5N21TdGF0dXMgXHgxYlsxOzkxbTogIFx4MWJbMTs5N21SZWRbXHgxYlsxOzkybScgKyBGQUxTRSArICdceDFiWzE7OTdtXSAgR3JlZW5bXHgxYlsxOzkybScgKyBUUlVFICsgJ1x4MWJbMTs5N21dJwogICAgcHJpbnQKICAgIG1haWwgPSBvcGVuKGZpbGVzLCAncicpLnJlYWRsaW5lcygpCiAgICBmb3IgcHcgaW4gbWFpbDoKICAgICAgICBtYWlsID0gcHcucmVwbGFjZSgnXG4nLCAnJykKICAgICAgICBqbWwgKz0gMQogICAgICAgIG1wc2guYXBwZW5kKGptbCkKICAgICAgICB5YWhvbyA9IHJlLmNvbXBpbGUoJ0AuKicpCiAgICAgICAgb3R3ID0geWFob28uc2VhcmNoKG1haWwpLmdyb3VwKCkKICAgICAgICBpZiAneWFob28uY29tJyBpbiBvdHc6CiAgICAgICAgICAgIGJyLm9wZW4oJ2h0dHBzOi8vbG9naW4ueWFob28uY29tL2NvbmZpZy9sb2dpbj8uc3JjPWZwY3R4Ji5pbnRsPWlkJi5sYW5nPWlkLUlEJi5kb25lPWh0dHBzOi8vaWQueWFob28uY29tJykKICAgICAgICAgICAgYnIuX2ZhY3RvcnkuaXNfaHRtbCA9IFRydWUKICAgICAgICAgICAgYnIuc2VsZWN0X2Zvcm0obnI9MCkKICAgICAgICAgICAgYnJbJ3VzZXJuYW1lJ10gPSBtYWlsCiAgICAgICAgICAgIGtsaWsgPSBici5zdWJtaXQoKS5yZWFkKCkKICAgICAgICAgICAgam9rID0gcmUuY29tcGlsZSgnIm1lc3NhZ2VzLkVSUk9SX0lOVkFMSURfVVNFUk5BTUUiPi4qJykKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgcGVrID0gam9rLnNlYXJjaChrbGlrKS5ncm91cCgpCiAgICAgICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgICAgIHByaW50ICdceDFiWzE7OTFtICcgKyBtYWlsCiAgICAgICAgICAgICAgICBjb250aW51ZQoKICAgICAgICAgICAgaWYgJyJtZXNzYWdlcy5FUlJPUl9JTlZBTElEX1VTRVJOQU1FIj4nIGluIHBlazoKICAgICAgICAgICAgICAgIHNhdmUud3JpdGUobWFpbCArICdcbicpCiAgICAgICAgICAgICAgICBwcmludCAnXHgxYlsxOzkybSAnICsgbWFpbAogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcHJpbnQgJ1x4MWJbMTs5MW0gJyArIG1haWwKCiAgICBwcmludCAnXG5ceDFiWzE7OTFtWytdIFx4MWJbMTs5N21GaW5pc2gnCiAgICBwcmludCAnXHgxYlsxOzkxbVsrXSBceDFiWzE7OTdtU2F2ZWQgXHgxYlsxOzkxbTpceDFiWzE7OTdtIE1haWxWdWxuLnR4dCcKICAgIHNhdmUuY2xvc2UoKQogICAgcmF3X2lucHV0KCdcblx4MWJbMTs5MW1bIFx4MWJbMTs5N21CYWNrIFx4MWJbMTs5MW1dJykKICAgIG1lbnVfeWFob294KCkKCQpkZWYgdmVyaWZ5eCgpOgoJZ2xvYmFsIHRva2V0Cglvcy5zeXN0ZW0oJ2NsZWFyJykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJceDFiWzE7OTFtVG9rZW4gaW52YWxpZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCglvcy5zeXN0ZW0oJ2NsZWFyJykKCXByaW50IGxvZ28KCXByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKCXByaW50KCAiXHgxYlsxOzMyOzkybVsxXSBcMDMzWzE7MzM7OThtPj4gRW50ZXIgVGVzdGluZyBsaW5rIGZvciBDbG9uaW5nIikgCgl0aW1lLnNsZWVwKDAuMDUpCglwcmludCggIlx4MWJbMTszMjszNm1bMF0gXDAzM1sxOzMzOzk2bT4+IEJhY2siKSAKCXByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKCXBpbGloX3ZlcmlmeXgoKQoKZGVmIHBpbGloX3ZlcmlmeXgoKToKCXBlYWsgPSByYXdfaW5wdXQoIlxuXDAzM1sxOzMxOzQwbT4+PiBcMDMzWzE7OTdtIikKCWlmIHBlYWsgPT0iIjoKCQlwcmludCAiXHgxYlsxOzkxbUZpbGwgaW4gY29ycmVjdGx5IgoJCXBpbGloX3Rlc3R4KCkgICAgIAoJZWxpZiBwZWFrID09IjEiOgoJCW9zLnN5c3RlbSgnY2xlYXInKQoJCXByaW50IGxvZ28KCQlwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCgkJaWR0ID0gcmF3X2lucHV0KCJcMDMzWzE7OTZtW+KYkV1cMDMzWzE7OTNtIEVudGVyIFVzZXJubWFlIGZvciBWZXJpZnkgQ2xvbmluZyBcMDMzWzE7OTFtIDogIikKCQl0cnk6CgkJCWpvayA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZHQrIj9hY2Nlc3NfdG9rZW49Iit0b2tldCkKCQkJb3AgPSBqc29uLmxvYWRzKGpvay50ZXh0KQoJCQlwcmludCJcMDMzWzE7MzE7MzdtW+KYkV0gTmFtZSA6ICIrb3BbIm5hbWUiXQoJCWV4Y2VwdCBLZXlFcnJvcjoKCQkJcHJpbnQiXHgxYlsxOzM3bVvimJFdIElEIE5vdCBGb3VuZCEiCgkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTZtW1wwMzNbMTs5NG1CYWNrXDAzM1sxOzk2bV0iKQoJCQlzdXBlcigpCgkJcHJpbnQiXDAzM1sxOzM1OzM3bVvimJFdIEdldHRpbmcgSUQgTG9hZGluZyBwcm9jZXNzLi4uLi4uLi4gIgoJCXIgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyIvZnJpZW5kcz9hY2Nlc3NfdG9rZW49Iit0b2tldCkKCQl6ID0ganNvbi5sb2FkcyhyLnRleHQpCgkJZm9yIGkgaW4gelsnZGF0YSddOgoJCQlpZC5hcHBlbmQoaVsnaWQnXSkKCWVsaWYgcGVhayA9PSIwIjoKCQltZW51KCkKCWVsc2U6CgkJcHJpbnQgIlx4MWJbMTs5MW1GaWxsIGluIGNvcnJlY3RseSIKCQlwaWxpaF9zdXBlcigpCgoJcHJpbnQgIlwwMzNbMTszNjs5Nm1b4piRXSBUb3RhbCBJRHMgOiBcMDMzWzE7OTJtIitzdHIobGVuKGlkKSkKCWphbGFuKCdcMDMzWzE7MzQ7OTZtW+KYkV0gUGxlYXNlIFdhaXQgJykKCXRpdGlrID0gWycuICAgJywnLi4gICcsJy4uLiAnXQoJZm9yIG8gaW4gdGl0aWs6CgkJcHJpbnQoIlxyXDAzM1sxOzkzbUNsb25pbmdcMDMzWzE7OTNtIitvKSw7c3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMSkKCXByaW50ICJcblwwMzNbMTs5N20gIOKalMKrLS0tLS1ceDFiWzE7OTFt44CQVG8gU3RvcCBQcm9jZXNzIFByZXNzIENUUkwrWuOAkVwwMzNbMTs5N20tLS0twrvimpQiCglwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCglqYWxhbignICAgXDAzM1sxOzkzbVBseiBXYWl0IENsb25lZCBBY2NvdW50cyBXaWxsIEFwcGVhciBIZXJlJykKCWphbGFuKCcgXDAzM1sxOzkxbSAgICAgICAgICBQbGVhc2UgV2FpdCBGb3IgVmVyaWZ5IEFjY291bnQnKQogICAgICAgIGphbGFuKCcgXDAzM1sxOzkxbSAgICAgICAgICAgIENyZWF0ZSBCeSA6IEZBUklZQSBLSEFOJykKCXByaW50ICJcMDMzWzE7OTdtIOKalMKrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Cu+KalCIKCglkZWYgbWFpbihhcmcpOgoJCWdsb2JhbCBva3MKCQl1c2VyID0gYXJnCgkJdHJ5OgoJCQlvcy5ta2Rpcignb3V0JykKCQlleGNlcHQgT1NFcnJvcjoKCQkJcGFzcyAjRGV2OkZBUklZQUtIQU4KCQl0cnk6CQkJCQkJCQkJCQkJCQoJCQl3ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgdXNlciArICcvP2FjY2Vzc190b2tlbj0nICsgdG9rZXQpCgkJCXEgPSBqc29uLmxvYWRzKHcudGV4dCkKCQkJIyBQYXNzd29yZCBHdWVzcyAxCgkJCXBhc3MxID0gcVsnZmlyc3RfbmFtZSddICsgJzEyMycKCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIHVzZXIgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgcGFzczEgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykKCQkJdSA9IGpzb24ubG9hZChkYXRhKQoJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiB1OgoJCQkgICAgcHJpbnQgJ1xuXHgxYlsxOzk1bSBFbWFpbCA6XHgxYlsxOzk3bSAnICsgdXNlciArICcgXG5ceDFiWzE7OTVtIFBhc3N3b3JkIDpceDFiWzE7OTdtICcgKyBwYXNzMQogICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiB1WydlcnJvcl9tc2cnXToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5MW0gRW1haWwgOlx4MWJbMTs5N20gJyArIHVzZXIgKyAnIFxuXHgxYlsxOzkxbSBQYXNzd29yZCA6XHgxYlsxOzk3bSAnICsgcGFzczEKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgCSAgICAgICAgICAgICMgUGFzc3dvcmQgR3Vlc3MgMgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzczIgPSBxWydmaXJzdF9uYW1lJ10gKyAnMTIzNDUnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gdXJsbGliLnVybG9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgdXNlciArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBwYXNzMiArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdSA9IGpzb24ubG9hZChkYXRhKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gdToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTVtIEVtYWlsIDpceDFiWzE7OTdtICcgKyB1c2VyICsgJyBcblx4MWJbMTs5NW0gUGFzc3dvcmQgOlx4MWJbMTs5N20gJyArIHBhc3MyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiB1WydlcnJvcl9tc2cnXToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTFtIEVtYWlsIDpceDFiWzE7OTdtICcgKyB1c2VyICsgJyBcblx4MWJbMTs5MW0gUGFzc3dvcmQgOlx4MWJbMTs5N20gJyArIHBhc3MyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgCSAgICAgICAgIyBQYXNzd29yZCBHdWVzcyAzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzczMgPSBxWydsYXN0X25hbWUnXSArICcxMjMnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIHVzZXIgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgcGFzczMgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1ID0ganNvbi5sb2FkKGRhdGEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gdToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk1bSBFbWFpbCA6XHgxYlsxOzk3bSAnICsgdXNlciArICcgXG5ceDFiWzE7OTVtIFBhc3N3b3JkIDpceDFiWzE7OTdtICcgKyBwYXNzMwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHVbJ2Vycm9yX21zZyddOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTFtIEVtYWlsIDpceDFiWzE7OTdtICcgKyB1c2VyICsgJyBcblx4MWJbMTs5MW0gUGFzc3dvcmQgOlx4MWJbMTs5N20gJyArIHBhc3MzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAJICAgICAgICAgICAgIyBQYXNzd29yZCBHdWVzcyA0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpcnRoID0gcVsnYmlydGhkYXknXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzNCA9IGJpcnRoLnJlcGxhY2UoJy8nLCAnJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIHVzZXIgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgcGFzczQgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdSA9IGpzb24ubG9hZChkYXRhKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiB1OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk1bSBFbWFpbCA6XHgxYlsxOzk3bSAnICsgdXNlciArICcgXG5ceDFiWzE7OTVtIFBhc3N3b3JkIDpceDFiWzE7OTdtICcgKyBwYXNzNAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiB1WydlcnJvcl9tc2cnXToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5MW0gRW1haWwgOlx4MWJbMTs5N20gJyArIHVzZXIgKyAnIFxuXHgxYlsxOzkxbSBQYXNzd29yZCA6XHgxYlsxOzk3bSAnICsgcGFzczQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgUGFzc3dvcmQgR3Vlc3MgNQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzczUgPSAnNzg2Nzg2JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIHVzZXIgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgcGFzczUgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUgPSBqc29uLmxvYWQoZGF0YSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIHU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAJICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk1bSBFbWFpbCA6XHgxYlsxOzk3bSAnICsgdXNlciArICcgXG5ceDFiWzE7OTVtIFBhc3N3b3JkIDpceDFiWzE7OTdtICcgKyBwYXNzNQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gdVsnZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAJICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzkxbSBFbWFpbCA6XHgxYlsxOzk3bSAnICsgdXNlciArICcgXG5ceDFiWzE7OTFtIFBhc3N3b3JkIDpceDFiWzE7OTdtICcgKyBwYXNzNQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAkgICAgICAgICAgICAjIFBhc3N3b3JkIEd1ZXNzIDYKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAkgICAgICAgICAgICBwYXNzNiA9ICdQYWtpc3RhbicKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gdXJsbGliLnVybG9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgdXNlciArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBwYXNzNiArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUgPSBqc29uLmxvYWQoZGF0YSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiB1OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAkgICAgICAgIHByaW50ICdcblx4MWJbMTs5NW0gRW1haWwgOlx4MWJbMTs5N20gJyArIHVzZXIgKyAnIFxuXHgxYlsxOzk1bSBQYXNzd29yZCA6XHgxYlsxOzk3bSAnICsgcGFzczYKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiB1WydlcnJvcl9tc2cnXToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAkgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzkxbSBFbWFpbCA6XHgxYlsxOzk3bSAnICsgdXNlciArICcgXG5ceDFiWzE7OTFtIFBhc3N3b3JkIDpceDFiWzE7OTdtICcgKyBwYXNzNgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAJICAgICAgICAgICAgICAgICMgUGFzc3dvcmQgR3Vlc3MgNwogICAgICAgICAgICAgICAgICAgICAgICAgICAgCSAgICAgICAgICAgICAgICBwYXNzNyA9IGJbJ2ZpcnN0X25hbWUnXSArICcxMjM0JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gdXJsbGliLnVybG9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgdXNlciArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBwYXNzNyArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1ID0ganNvbi5sb2FkKGRhdGEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIHU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCSAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5NW0gRW1haWwgOlx4MWJbMTs5N20gJyArIHVzZXIgKyAnIFxuXHgxYlsxOzk1bSBQYXNzd29yZCA6XHgxYlsxOzk3bSAnICsgcGFzczcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gdVsnZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAJICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTFtIEVtYWlsIDpceDFiWzE7OTdtICcgKyB1c2VyICsgJyBcblx4MWJbMTs5MW0gUGFzc3dvcmQgOlx4MWJbMTs5N20gJyArIHBhc3M3CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAJICAgICAgICAgICAgICAgICAgICAjIFBhc3N3b3JkIEd1ZXNzIDgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAkgICAgICAgICAgICAgICAgICAgIHBhc3M4ID0gcVsnZmlyc3RfbmFtZSddICsgJzc4NicKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyB1c2VyICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIHBhc3M4ICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1ID0ganNvbi5sb2FkKGRhdGEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiB1OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAkgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk1bSBFbWFpbCA6XHgxYlsxOzk3bSAnICsgdXNlciArICcgXG5ceDFiWzE7OTVtIFBhc3N3b3JkIDpceDFiWzE7OTdtICcgKyBwYXNzOAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gdVsnZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAJICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzkxbSBFbWFpbCA6XHgxYlsxOzk3bSAnICsgdXNlciArICcgXG5ceDFiWzE7OTFtIFBhc3N3b3JkIDpceDFiWzE7OTdtICcgKyBwYXNzOAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAkgICAgICAgICAgICAgICAgICAgICAgICAjIFBhc3N3b3JkIEd1ZXNzIDkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAkgICAgICAgICAgICAgICAgICAgICAgICBwYXNzOSA9IHFbJ2ZpcnN0X25hbWUnXSArICdLaGFuJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyB1c2VyICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIHBhc3M5ICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdSA9IGpzb24ubG9hZChkYXRhKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIHU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCSAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk1bSBFbWFpbCA6XHgxYlsxOzk3bSAnICsgdXNlciArICcgXG5ceDFiWzE7OTVtIFBhc3N3b3JkIDpceDFiWzE7OTdtICcgKyBwYXNzOQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHVbJ2Vycm9yX21zZyddOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTFtIEVtYWlsIDpceDFiWzE7OTdtICcgKyB1c2VyICsgJyBcblx4MWJbMTs5MW0gUGFzc3dvcmQgOlx4MWJbMTs5N20gJyArIHBhc3M5CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAkgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBQYXNzd29yZCBHdWVzcyAxMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzMTAgPSBxWydmaXJzdF9uYW1lJ10gKyBxWydsYXN0X25hbWUnXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gdXJsbGliLnVybG9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgdXNlciArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBwYXNzMTAgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdSA9IGpzb24ubG9hZChkYXRhKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiB1OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAkgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTVtIEVtYWlsIDpceDFiWzE7OTdtICcgKyB1c2VyICsgJyBcblx4MWJbMTs5NW0gUGFzc3dvcmQgOlx4MWJbMTs5N20gJyArIHBhc3MxMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiB1WydlcnJvcl9tc2cnXToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5MW0gRW1haWwgOlx4MWJbMTs5N20gJyArIHVzZXIgKyAnIFxuXHgxYlsxOzkxbSBQYXNzd29yZCA6XHgxYlsxOzk3bSAnICsgcGFzczEwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIFBhc3N3b3JkIEd1ZXNzIDExCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzMTEgPSBxWydmaXJzdF9uYW1lJ10gKyBxWydsYXN0X25hbWUnXSArICcxMjMnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gdXJsbGliLnVybG9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgdXNlciArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBwYXNzMTEgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUgPSBqc29uLmxvYWQoZGF0YSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIHU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTVtIEVtYWlsIDpceDFiWzE7OTdtICcgKyB1c2VyICsgJyBcblx4MWJbMTs5NW0gUGFzc3dvcmQgOlx4MWJbMTs5N20gJyArIHBhc3MxMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gdVsnZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzkxbSBFbWFpbCA6XHgxYlsxOzk3bSAnICsgdXNlciArICcgXG5ceDFiWzE7OTFtIFBhc3N3b3JkIDpceDFiWzE7OTdtICcgKyBwYXNzMTEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBQYXNzd29yZCBHdWVzcyAxMgogICAgICAgICAgICAgICAgICAgICAgICAgICAgCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3MxMiA9ICdQYWtpc3Rhbjc4NicKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gdXJsbGliLnVybG9wZW4oJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0nICsgdXNlciArICcmbG9jYWxlPWVuX1VTJnBhc3N3b3JkPScgKyBwYXNzMTIgKyAnJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1ID0ganNvbi5sb2FkKGRhdGEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gdToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTVtIEVtYWlsIDpceDFiWzE7OTdtICcgKyB1c2VyICsgJyBcblx4MWJbMTs5NW0gUGFzc3dvcmQgOlx4MWJbMTs5N20gJyArIHBhc3MxMgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHVbJ2Vycm9yX21zZyddOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTFtIEVtYWlsIDpceDFiWzE7OTdtICcgKyB1c2VyICsgJyBcblx4MWJbMTs5MW0gUGFzc3dvcmQgOlx4MWJbMTs5N20gJyArIHBhc3MxMgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgUGFzc3dvcmQgR3Vlc3MgMTMKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzczEzID0gJ1Bha2lzdGFuMScKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIHVzZXIgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgcGFzczEzICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUgPSBqc29uLmxvYWQoZGF0YSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ2FjY2Vzc190b2tlbicgaW4gdToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk1bSBFbWFpbCA6XHgxYlsxOzk3bSAnICsgdXNlciArICcgXG5ceDFiWzE7OTVtIFBhc3N3b3JkIDpceDFiWzE7OTdtICcgKyBwYXNzMTMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gdVsnZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCAnXG5ceDFiWzE7OTFtIEVtYWlsIDpceDFiWzE7OTdtICcgKyB1c2VyICsgJyBcblx4MWJbMTs5MW0gUGFzc3dvcmQgOlx4MWJbMTs5N20gJyArIHBhc3MxMwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBQYXNzd29yZCBHdWVzcyAxNAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzczE0ID0gcVsnZmlyc3RfbmFtZSddICsgcVsnbGFzdF9uYW1lJ10gKyAnNzg2JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHVybGxpYi51cmxvcGVuKCdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9JyArIHVzZXIgKyAnJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0nICsgcGFzczE0ICsgJyZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1ID0ganNvbi5sb2FkKGRhdGEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnYWNjZXNzX3Rva2VuJyBpbiB1OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQgJ1xuXHgxYlsxOzk1bSBFbWFpbCA6XHgxYlsxOzk3bSAnICsgdXNlciArICcgXG5ceDFiWzE7OTVtIFBhc3N3b3JkIDpceDFiWzE7OTdtICcgKyBwYXNzMTQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHVbJ2Vycm9yX21zZyddOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5MW0gRW1haWwgOlx4MWJbMTs5N20gJyArIHVzZXIgKyAnIFxuXHgxYlsxOzkxbSBQYXNzd29yZCA6XHgxYlsxOzk3bSAnICsgcGFzczE0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgUGFzc3dhcmQgR3Vlc3MgMTUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzMTUgPSBxWydmaXJzdF9uYW1lJ10gKyBxWydsYXN0X25hbWUnXSArICdAMTIzJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSB1cmxsaWIudXJsb3BlbignaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPScgKyB1c2VyICsgJyZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9JyArIHBhc3MxNSArICcmc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUgPSBqc29uLmxvYWQoZGF0YSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnYWNlc3NfdG9rZW4nIGluIHU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5NW0gRW1haWwgOlx4MWJbMTs5N20gJyArIHVzZXIgKyAnIFxuXHgxYlsxOzk1bSBQYXNzd29yZCA6XHgxYlsxOzk3bSAnICsgcGFzczE1CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gdVsnZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50ICdcblx4MWJbMTs5MW0gRW1haWwgOlx4MWJbMTs5N20gJyArIHVzZXIgKyAnIFxuXHgxYlsxOzkxbSBQYXNzd29yZCA6XHgxYlsxOzk3bSAnICsgcGFzczE1CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoJCQkJCQkJCQkJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCQlleGNlcHQ6CgkJCXBhc3MKCQkKCXAgPSBUaHJlYWRQb29sKDMwKQoJcC5tYXAobWFpbiwgaWQpCglwcmludCAiXDAzM1sxOzk3bSDimpTCqy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0twrvimpQiCglwcmludCAnXDAzM1sxOzk2bVtcMDMzWzE7OTdt4pyTXDAzM1sxOzk2bV0gXDAzM1sxOzkybVByb2Nlc3MgSGFzIEJlZW4gQ29tcGxldGVkIFwwMzNbMTs5N20uLi4uJwoJcHJpbnQiXDAzM1sxOzk2bVsrXSBcMDMzWzE7OTJtVG90YWwgT0svXHgxYlsxOzkzbUNQIFwwMzNbMTs5MW06IFwwMzNbMTs5Mm0iK3N0cihsZW4ob2tzKSkrIlwwMzNbMTs5N20vXDAzM1sxOzkzbSIrc3RyKGxlbihjZWtwb2ludCkpCglwcmludCgiXDAzM1sxOzk2bVsrXSBcMDMzWzE7OTJtQ1AgRmlsZSBIYXMgQmVlbiBTYXZlZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtb3V0L2NoZWNrcG9pbnQudHh0IikKCXJhd19pbnB1dCgiXG5cMDMzWzE7OTZtW1wwMzNbMTs5N21CYWNrXDAzM1sxOzk2bV0iKQoJbG9naW4oKQoJCQppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgoJbG9naW4oKQoK'))
